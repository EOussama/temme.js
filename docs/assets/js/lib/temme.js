var Temme=function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);var r,o=function(){function t(t,n,e,r){this.label=t,this.type=n,this.values=e,this.default=r}return t.validateOptionType=function(t,n){var e="";return{valid:(e=Array.isArray(t)?"array":typeof t)===n.type,type:e}},t.validateOptionValue=function(t,n){return!(null!=n&&n.values.length>0)||-1!==n.values.indexOf(t)},t.validateOptionName=function(t){return null!=t},t}(),i=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),c=function(t){function n(){var n=t.call(this,"ref","string",[],"")||this;return n.getKeyFromElement=function(t){return null},n}return i(n,t),n.prototype.inherit=function(t,n){},n}(o),a=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u=function(t){function n(){var n=t.call(this,"name","string",[],"div")||this;return n.getKeyFromElement=function(t){return null},n}return a(n,t),n.prototype.inherit=function(t,n){null!=n&&(t.name=n)},n}(o),f=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),s=function(t){function n(){var n=t.call(this,"id","string",[],"")||this;return n.getKeyFromElement=function(t){return t.id},n}return f(n,t),n.prototype.inherit=function(t,n){t.id=n},n.prototype.parse=function(t,n){""!=n.id&&(t.id=n.id)},n}(o),p=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=function(t){function n(){var n=t.call(this,"value","string",[],"")||this;return n.getKeyFromElement=function(t){return null},n}return p(n,t),n.prototype.inherit=function(t,n){},n}(o),h=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y=function(t){function n(){var n=t.call(this,"type","string",["text","html"],"text")||this;return n.getKeyFromElement=function(t){return null},n}return h(n,t),n.prototype.inherit=function(t,n){},n}(o),_=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),v=function(t){function n(){var n=t.call(this,"content","object",[],{type:(new y).default,value:(new l).default})||this;return n.keys={type:new y,value:new l},n}return _(n,t),n.prototype.inherit=function(t,n){var e=n.value;"append"===t.from.mode?e=t.content.value+(e.length>0?" ":"")+e:t.content=n,t.content.value=e},n.prototype.getKeyFromElement=function(t){return{type:"html",value:t.innerHTML}},n.prototype.parse=function(t,n){""!=n.content.value&&("text"===n.content.type?t.textContent=n.content.value:t.innerHTML=n.content.value)},n}(o),m=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),d=function(t){function n(){var n=t.call(this,"temmeIds","array",[],[])||this;return n.getKeyFromElement=function(t){return null},n}return m(n,t),n.prototype.inherit=function(t,n){},n}(o),O=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w=function(t){function n(){var n=t.call(this,"templates","array",[],[])||this;return n.getKeyFromElement=function(t){return null},n}return O(n,t),n.prototype.inherit=function(t,n){},n}(o),b=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),g=function(t){function n(){return t.call(this,"classes","array",[],[])||this}return b(n,t),n.prototype.inherit=function(t,n){var e;"append"===t.from.mode?(e=t.classes).push.apply(e,n):t.classes=n,t.classes=t.classes.filter(function(n,e){return t.classes.indexOf(n)===e}),t.classes.sort()},n.prototype.getKeyFromElement=function(t){var n=[];return t.classList.forEach(function(t){return n.push(t)}),n},n.prototype.parse=function(t,n){var e;n.classes.length>0&&(e=t.classList).add.apply(e,n.classes)},n}(o),j=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),P=function(t){function n(){var n=t.call(this,"childNodes","array",[],[])||this;return n.getKeyFromElement=function(t){return t.innerHTML},n}return j(n,t),n.prototype.inherit=function(t,n){var e,r;!0===t.from.children.allow&&("append"===t.from.mode?"before"===t.from.children.placement?(e=t.childNodes).unshift.apply(e,n):(r=t.childNodes).push.apply(r,n):t.childNodes=n)},n}(o),E=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),A=function(t){function n(){return t.call(this,"attributes","object",[],{})||this}return E(n,t),n.prototype.inherit=function(t,n){var e=n;if("append"===t.from.mode)for(var r in t.attributes)e[r]=t.attributes[r];else for(var r in t.attributes)r in e||(e[r]=t.attributes[r]);t.attributes=e},n.prototype.getKeyFromElement=function(t){var n={};for(var e in t.attributes)isNaN(parseInt(e))||-1!==["id","class"].indexOf(t.attributes[e].nodeName)||"data-"===t.attributes[e].nodeName.substring(0,5)||(n[t.attributes[e].nodeName]=t.attributes[e].nodeValue);return n},n.prototype.parse=function(t,n){for(var e in n.attributes)t.setAttribute(e,n.attributes[e])},n}(o),N=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),T=function(){return(T=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},k=function(t){function n(){return t.call(this,"dataset","object",[],{})||this}return N(n,t),n.prototype.inherit=function(t,n){var e=T({},n);if("append"===t.from.mode)for(var r in t.dataset)e[r]=t.dataset[r];else for(var r in t.dataset)r in e||(e[r]=t.dataset[r]);t.dataset=e},n.prototype.getKeyFromElement=function(t){var n={};for(var e in t.dataset)n[e]=t.dataset[e];return n},n.prototype.parse=function(t,n){for(var e in n.dataset)t.dataset[e]=n.dataset[e]},n}(o),I=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),F=function(t){function n(){var n=t.call(this,"mode","string",["append","override"],"append")||this;return n.getKeyFromElement=function(t){return null},n}return I(n,t),n.prototype.inherit=function(t,n){},n}(o),K=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),x=function(t){function n(){var n=t.call(this,"placement","string",["after","before"],"after")||this;return n.getKeyFromElement=function(t){return null},n}return K(n,t),n.prototype.inherit=function(t,n){},n}(o),M=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S=function(t){function n(){var n=t.call(this,"allow","boolean",[],!1)||this;return n.getKeyFromElement=function(t){return null},n}return M(n,t),n.prototype.inherit=function(t,n){},n}(o),L=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),V=function(t){function n(){var n=t.call(this,"children","object",[],{allow:(new S).default,placement:(new x).default})||this;return n.keys={allow:new S,placement:new x},n.getKeyFromElement=function(t){return null},n}return L(n,t),n.prototype.inherit=function(t,n){},n}(o),H=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),R=function(t){function n(){var n=t.call(this,"from","object",[],{ref:(new c).default,mode:(new F).default,children:(new V).default})||this;return n.keys={ref:new c,mode:new F,children:new V},n.getKeyFromElement=function(t){return null},n}return H(n,t),n.prototype.inherit=function(t,n){},n}(o),q=[new c,new u,new s,new v,new d,new w,new g,new P,new A,new k,new R],C=function(){var t=[];return q.forEach(function(n){if(t.push(n),"keys"in n){var e=function t(n){var e=[];for(var r in n.keys){var o=n.keys[r];if(e.push(o),"keys"in o){var i=t(o);e=e.concat(i)}}return e}(n);t=t.concat(e)}}),t}(),z=["name","childNodes","templates"];var U=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),B=function(t){function n(n){var e=t.call(this)||this;return e.name="TemmyError",e.message="Temme isn't feeling good",e.message=n.length>0?n:e.message,e}return U(n,t),n}(Error),D=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),G=function(t){function n(n){var e=t.call(this,"")||this;e.name="InvalidTemplateOptionError",e.message="A template has an invalid option";var r="“"+n+"” is not a valid option to use in templates";return e.message=n.length>0?r:e.message,e}return D(n,t),n}(B),J=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Q=function(t){function n(n){var e=t.call(this,"")||this;e.name="InvalidOptionNameError",e.message="An option is not valid";var r="“"+n+"” is not a valid option";return e.message=n.length>0?r:e.message,e}return J(n,t),n}(B),W=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),X=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidOptionTypeError",r.message="An option doesn't have a valid value type";var o="The “"+n+"” option doesn't accept values of type “"+e+"”";return r.message=n.length>0?o:r.message,r}return W(n,t),n}(B),Y=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidOptionValueError",r.message="An option doesn't have a valid value";var o="The “"+n+"” option doesn't accept “"+e+"” as a value";return r.message=n.length>0?o:r.message,r}return Y(n,t),n}(B),$=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tt=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidSubOptionNameError",r.message="A sub-option is not valid";var o="The “"+n+"” option doesn't not recognize “"+e+"” as a valid sub-option";return r.message=n.length>0||e.length>0?o:r.message,r}return $(n,t),n}(B),nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),et=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidSubOptionTypeError",r.message="A sub-option doesn't have a valid value type";var o="The “"+n+"” sub-option doesn't accept values of type “"+e+"”";return r.message=n.length>0||e.length>0?o:r.message,r}return nt(n,t),n}(B),rt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ot=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidSubOptionValueError",r.message="A sub-option doesn't have a valid value";var o="The “"+n+"” sub-option doesn't accept “"+e+"” as a value";return r.message=n.length>0||e.length>0?o:r.message,r}return rt(n,t),n}(B),it=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ct=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidReferencingOptionError",e.message="A referencing option is not valid",e.message=n.length>0?n:e.message,e}return it(n,t),n}(B),at=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ut=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidReferenceOptionValueError",e.message="“ref” options must not begin with the “@” symbol",e.message=n.length>0?n:e.message,e}return at(n,t),n}(B),ft=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),st=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidReferenceError",e.message="A reference is invalid",e.message=n.length>0?"“"+n+"” is an invalid reference":e.message,e}return ft(n,t),n}(B),pt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lt=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidTemplateError",e.message="A template does not have a “ref” option",e.message=n.length>0?n:e.message,e}return pt(n,t),n}(B);function ht(t,n,e){void 0===n&&(n=[]),void 0===e&&(e=!1);try{var r=function(t){void 0===t&&(t=!1);for(var n="0123456789abcdefghijklmnopqrstuvwxyz",e=!1===t?6:4,r="",o=0;o<e;o++){var i=Math.floor(Math.random()*n.length),c=Math.floor(2*Math.random());r+=1===c?n[i].toUpperCase():n[i]}return r}(e);t.temmeIds=n.concat([r]),"childNodes"in t&&t.childNodes.forEach(function(n){ht(n,t.temmeIds)}),"templates"in t&&t.templates.forEach(function(n){ht(n,t.temmeIds,!0)})}catch(t){throw t}}function yt(t){return t.temmeIds[t.temmeIds.length-1]}var _t=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vt=function(t){function n(n,e){var r=t.call(this,"")||this;r.name="InvalidTemplateReferencingError",r.message="Templates can only reference other templates.";var o="The template with the reference “"+n+"” is trying to reference “"+e+"” a non-template object";return r.message=n.length>0?o:r.message,r}return _t(n,t),n}(B),mt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dt=function(t){function n(n){var e=t.call(this,"")||this;return e.name="ReferenceOutOfScopeError",e.message="An object is referencing an element out of its scope",e.message=n.length>0?n:e.message,e}return mt(n,t),n}(B),Ot=function(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)},wt=function(t){return null!=t&&t instanceof HTMLElement};function bt(t){try{var n=function(n){var e=q.filter(function(t){return t.label===n})[0],r=t[n];if(!1===o.validateOptionName(e))throw new Q(n);var i=o.validateOptionType(r,e);if(!1===i.valid)throw new X(n,i.type);if(!1===o.validateOptionValue(r,e))throw new Z(n,r);if("keys"in e){var c=e.keys;!function t(n,e,r){var i=function(i){var c=function(t){var n=[];return C.forEach(function(e){if("keys"in e&&e.label===t)for(var r in e.keys){var o=e.keys[r];n.push(o)}}),n}(n).filter(function(t){return t.label===i})[0],a=e[i];if(!(i in r))throw new tt(n,i);if(!1===o.validateOptionName(c))throw new tt(n,i);var u=o.validateOptionType(a,c);if(!1===u.valid)throw new et(i,u.type);if(!1===o.validateOptionValue(a,c))throw new ot(i,a);if("keys"in c){var f=e[i];t(i,f,c.keys)}};for(var c in e)i(c)}(n,r,c)}};for(var e in t)n(e);if(!1===function(t){if("from"in t)return"ref"in t.from;return!0}(t))throw new ct("The “from” option must always have a “ref” sub-option");"templates"in t&&t.templates.forEach(function(t){!function(t){try{if(!("ref"in t))throw new lt("");for(var n in t){if(z.indexOf(n)>-1)throw new G(n);bt(t)}}catch(t){throw t}}(t)}),"childNodes"in t&&t.childNodes.forEach(function(t){bt(t)})}catch(t){throw t}}var gt=function(t,n){return null!=n.filter(function(n){return n.hierarchy.ref===t.from.ref&&yt(t)!==yt(n.hierarchy)})[0]};function jt(t){try{q.forEach(function(n){if(n.label in t){if("keys"in n)for(var e in n.keys){var r=n.keys[e];Pt(t[n.label],r)}}else t[n.label]=n.default}),t.classes=t.classes.filter(function(n,e){return t.classes.indexOf(n)===e}),t.classes.sort(),"childNodes"in t&&t.childNodes.length>0&&t.childNodes.forEach(function(t){jt(t)}),"templates"in t&&t.templates.length>0&&t.templates.forEach(function(t){!function(t){try{q.filter(function(t){return-1===z.indexOf(t.label)}).forEach(function(n){if(n.label in t){if("keys"in n)for(var e in n.keys){var r=n.keys[e];Pt(t[n.label],r)}}else t[n.label]=n.default})}catch(t){throw t}}(t)})}catch(t){throw t}}function Pt(t,n){try{if(n.label in t||(t[n.label]=n.default),"keys"in n)for(var e in n.keys){Pt(t[n.label],n.keys[e])}}catch(t){throw t}}function Et(t){try{var n=function t(n,e){void 0===e&&(e=0);var r=[];e++;""!==n.ref&&r.push({depth:e,hierarchy:n});"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){r.push.apply(r,t(n,e))});"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){r.push.apply(r,t(n,e-1))});return r}(t);!function t(n,e){try{if("@"===n.ref[0])throw new ut("");if("@"===n.from.ref[0]){var r=n.from.ref.substring(1);if(null==document.querySelector(r))throw new ut("No outer element corresponds to the selector “"+r+"”")}else if(!1===gt(n,e)&&""!==n.from.ref)throw new st(n.from.ref);"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,e)}),"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){t(n,e)})}catch(t){throw t}}(t,n),function t(n,e){try{var r=n.templates;r.length>0&&r.forEach(function(t){if(t.from.ref.length>0&&!1==(4===yt(e.filter(function(n){return n.hierarchy.ref===t.from.ref})[0].hierarchy).length))throw new vt(t.ref,t.from.ref)}),n.childNodes.forEach(function(n){t(n,e)})}catch(t){throw t}}(t,n),function t(n,e,r){void 0===r&&(r=0);try{var o=n.from.ref;if(r++,""!==o&&"@"!==o[0]&&null==e.filter(function(t){return t.hierarchy.ref===o&&r>=t.depth})[0])throw new dt("");"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,e,r)}),"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){t(n,e,r)})}catch(t){throw t}}(t,n),function t(n,e){try{"templates"in n&&n.templates.length>0&&n.templates.forEach(function(t){if(""!==t.from.ref){var n=function(n){var r=q.filter(function(t){return t.label===n})[0],o=e.filter(function(n){return n.hierarchy.ref===t.from.ref})[0];r.inherit(t,o.hierarchy[n])};for(var r in t)n(r)}}),"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,e)})}catch(t){throw t}}(t,n.filter(function(t){return At(t.hierarchy)})),function t(n,e){try{if("childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,e)}),""!==n.from.ref)if("@"===n.from.ref[0]){var r=n.from.ref.substring(1),o=document.querySelector(r),i=function(t){var e=q.filter(function(n){return n.label===t})[0],r=e.getKeyFromElement(o);null!=r&&e.inherit(n,r)};for(var c in n)i(c)}else{var a=e.filter(function(t){return t.hierarchy.ref===n.from.ref})[0],u=function(t){var e=q.filter(function(n){return n.label===t})[0];e.inherit(n,a.hierarchy[t])};for(var c in n)u(c)}}catch(t){throw t}}(t,n)}catch(t){throw t}}var At=function(t){return 4===yt(t).length};function Nt(t,n,e){try{var r=function(t,n){try{var e=document.createElement(t.name);return q.forEach(function(n){"function"==typeof n.parse&&n.parse(e,t)}),n.appendChild(e),e}catch(t){throw t}}(t,n);e(yt(t),t),"childNodes"in t&&t.childNodes.length>0&&t.childNodes.forEach(function(t){Nt(t,r,e)})}catch(t){throw t}}var Tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kt=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidHierarchyError",e.message="The hierarchy object is not valid",e.message=n.length>0?n:e.message,e}return Tt(n,t),n}(B),It=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ft=function(t){function n(n){var e=t.call(this,"")||this;return e.name="InvalidTargetError",e.message="The target is not a valid HTML element",e.message=n.length>0?n:e.message,e}return It(n,t),n}(B);function Kt(t,n,e,r){void 0===e&&(e=function(t){}),void 0===r&&(r=function(){});try{if(!wt(n))throw new Ft("");if(!Ot(t))throw new kt("");return bt(t),jt(t),ht(t),Et(t),Nt(t,n,r),e(t),t}catch(t){throw t.message="[Temme]: "+t.message+".",t}}e.d(n,"parse",function(){return Kt})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UZW1tZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9tb2RlbHMvT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvUmVmT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvTmFtZU9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0lkT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvVmFsdWVTdWJPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9zdWItb3B0aW9ucy9Db250ZW50VHlwZVN1Yk9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0NvbnRlbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9UZW1tZUlkc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL1RlbXBsYXRlc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0NsYXNzZXNPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9DaGlsZHJlbk5vZGVzT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvQXR0cmlidXRlc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0RhdGFzZXRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9zdWItb3B0aW9ucy9Nb2RlU3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvUGxhY2VtZW50U3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL3N1Yi1vcHRpb25zL0NoaWxkcmVuU3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvRnJvbU9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL21vZGVscy9UZW1teUVycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvbk5hbWVFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvblR5cGVFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvblZhbHVlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkUmVmZXJlbmNpbmdPcHRpb25FcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRSZWZlcmVuY2VFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZFRlbXBsYXRlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvaWRmaWVyLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9SZWZlcmVuY2VPdXRPZlNjb3BlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvdmFsaWRhdG9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL3Nhbml0aXplci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9yZWZlcmVuY2VyLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL3BhcnNlci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZEhpZXJhcmNoeUVycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkVGFyZ2V0RXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL3RlbW1lLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibW9kZWxzX09wdGlvbiIsIk9wdGlvbiIsImxhYmVsIiwidHlwZSIsInZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsInRoaXMiLCJkZWZhdWx0IiwidmFsaWRhdGVPcHRpb25UeXBlIiwibWF0Y2hpbmdPcHRpb24iLCJvcHRpb25UeXBlIiwidmFsaWQiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWxpZGF0ZU9wdGlvblZhbHVlIiwibGVuZ3RoIiwiaW5kZXhPZiIsInZhbGlkYXRlT3B0aW9uTmFtZSIsIl9zdXBlciIsIlJlZk9wdGlvbiIsIl90aGlzIiwiZ2V0S2V5RnJvbUVsZW1lbnQiLCJlbGVtZW50IiwiX19leHRlbmRzIiwiaW5oZXJpdCIsImhpZXJhcmNoeSIsInJlZiIsIk5hbWVPcHRpb24iLCJOYW1lT3B0aW9uX2V4dGVuZHMiLCJJZE9wdGlvbiIsImlkIiwiSWRPcHRpb25fZXh0ZW5kcyIsInBhcnNlIiwiVmFsdWVTdWJPcHRpb24iLCJWYWx1ZVN1Yk9wdGlvbl9leHRlbmRzIiwiQ29udGVudFR5cGVTdWJPcHRpb24iLCJDb250ZW50VHlwZVN1Yk9wdGlvbl9leHRlbmRzIiwiQ29udGVudE9wdGlvbiIsInN1Yl9vcHRpb25zX0NvbnRlbnRUeXBlU3ViT3B0aW9uIiwic3ViX29wdGlvbnNfVmFsdWVTdWJPcHRpb24iLCJrZXlzIiwiQ29udGVudE9wdGlvbl9leHRlbmRzIiwiY29udGVudCIsImN0IiwiZnJvbSIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiVGVtbWVJZHNPcHRpb24iLCJUZW1tZUlkc09wdGlvbl9leHRlbmRzIiwidGVtbWVJZHMiLCJUZW1wbGF0ZXNPcHRpb24iLCJUZW1wbGF0ZXNPcHRpb25fZXh0ZW5kcyIsInRlbXBsYXRlcyIsIkNsYXNzZXNPcHRpb24iLCJDbGFzc2VzT3B0aW9uX2V4dGVuZHMiLCJjbGFzc2VzIiwiX2EiLCJwdXNoIiwiYXBwbHkiLCJmaWx0ZXIiLCJjbHMiLCJpbmRleCIsInNvcnQiLCJjbGFzc0xpc3QiLCJmb3JFYWNoIiwiYWRkIiwiQ2hpbGROb2Rlc09wdGlvbiIsIkNoaWxkcmVuTm9kZXNPcHRpb25fZXh0ZW5kcyIsImNoaWxkTm9kZXMiLCJjaGlsZHJlbiIsImFsbG93IiwicGxhY2VtZW50IiwidW5zaGlmdCIsIl9iIiwiQXR0cmlidXRlc09wdGlvbiIsIkF0dHJpYnV0ZXNPcHRpb25fZXh0ZW5kcyIsImF0dHJpYnV0ZXMiLCJhdHRyIiwiYXR0cktleSIsImlzTmFOIiwicGFyc2VJbnQiLCJub2RlTmFtZSIsInN1YnN0cmluZyIsIm5vZGVWYWx1ZSIsImRhdGFLZXkiLCJzZXRBdHRyaWJ1dGUiLCJEYXRhc2V0T3B0aW9uIiwiRGF0YXNldE9wdGlvbl9leHRlbmRzIiwiZGF0YXNldCIsImR0IiwiX19hc3NpZ24iLCJNb2RlU3ViT3B0aW9uIiwiTW9kZVN1Yk9wdGlvbl9leHRlbmRzIiwiUGxhY2VtZW50U3ViT3B0aW9uIiwiUGxhY2VtZW50U3ViT3B0aW9uX2V4dGVuZHMiLCJDaGlsZHJlbkFsbG93U3ViT3B0aW9uIiwiQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbl9leHRlbmRzIiwiQ2hpbGRyZW5TdWJPcHRpb24iLCJzdWJfb3B0aW9uc19DaGlsZHJlbkFsbG93U3ViT3B0aW9uIiwic3ViX29wdGlvbnNfUGxhY2VtZW50U3ViT3B0aW9uIiwiQ2hpbGRyZW5TdWJPcHRpb25fZXh0ZW5kcyIsIkZyb21PcHRpb24iLCJvcHRpb25zX1JlZk9wdGlvbiIsInN1Yl9vcHRpb25zX01vZGVTdWJPcHRpb24iLCJzdWJfb3B0aW9uc19DaGlsZHJlblN1Yk9wdGlvbiIsIkZyb21PcHRpb25fZXh0ZW5kcyIsIm9wdGlvbnMiLCJvcHRpb25zX05hbWVPcHRpb24iLCJvcHRpb25zX0lkT3B0aW9uIiwib3B0aW9uc19Db250ZW50T3B0aW9uIiwib3B0aW9uc19UZW1tZUlkc09wdGlvbiIsIm9wdGlvbnNfVGVtcGxhdGVzT3B0aW9uIiwib3B0aW9uc19DbGFzc2VzT3B0aW9uIiwiQ2hpbGRyZW5Ob2Rlc09wdGlvbiIsIm9wdGlvbnNfQXR0cmlidXRlc09wdGlvbiIsIm9wdGlvbnNfRGF0YXNldE9wdGlvbiIsIm9wdGlvbnNfRnJvbU9wdGlvbiIsImFsbE9wdGlvbnMiLCJvcHQiLCJzdWJPcHRpb25zIiwiZ2V0QWxsU3ViT3B0aW9ucyIsIm9wdGlvbiIsImFsbFN1Yk9wdGlvbnMiLCJzdWJPcHRpb24iLCJvcHRzIiwiY29uY2F0IiwiZ2V0QWxsT3B0aW9ucyIsImZvcmJpZGRlbk9wdGlvbnMiLCJUZW1teUVycm9yIiwibWVzc2FnZSIsIlRlbW15RXJyb3JfZXh0ZW5kcyIsIkVycm9yIiwiSW52YWxpZFRlbXBsYXRlT3B0aW9uRXJyb3IiLCJJbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvcl9leHRlbmRzIiwibW9kZWxzX1RlbW15RXJyb3IiLCJJbnZhbGlkT3B0aW9uTmFtZUVycm9yIiwiSW52YWxpZE9wdGlvbk5hbWVFcnJvcl9leHRlbmRzIiwiSW52YWxpZE9wdGlvblR5cGVFcnJvciIsIkludmFsaWRPcHRpb25UeXBlRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRPcHRpb25WYWx1ZUVycm9yIiwiSW52YWxpZE9wdGlvblZhbHVlRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IiLCJJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yX2V4dGVuZHMiLCJJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yIiwiSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvcl9leHRlbmRzIiwiSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3IiLCJJbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvcl9leHRlbmRzIiwiSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3IiLCJJbnZhbGlkUmVmZXJlbmNpbmdPcHRpb25FcnJvcl9leHRlbmRzIiwiSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IiLCJJbnZhbGlkUmVmZXJlbmNlT3B0aW9uVmFsdWVFcnJvcl9leHRlbmRzIiwiSW52YWxpZFJlZmVyZW5jZUVycm9yIiwicmVmZXJlbmNlIiwiSW52YWxpZFJlZmVyZW5jZUVycm9yX2V4dGVuZHMiLCJJbnZhbGlkVGVtcGxhdGVFcnJvciIsIkludmFsaWRUZW1wbGF0ZUVycm9yX2V4dGVuZHMiLCJpZGZ5IiwidGVtbWVJZCIsImNoYXJzIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidXBwZXJjYXNlIiwidG9VcHBlckNhc2UiLCJnZW5lcmF0ZVRlbW1lSWQiLCJjaGlsZCIsInRlbXBsYXRlIiwiZSIsImdldFRlbW1lSWQiLCJJbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yIiwidGFyZ2V0IiwiSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvcl9leHRlbmRzIiwiUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yIiwiUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yX2V4dGVuZHMiLCJpc1ZhbGlkSGllcmFyY2h5IiwiaXNWYWxpZEhUTUxFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJ2YWxpZGF0ZU9wdGlvbnMiLCJvcHRpb25WYWx1ZSIsImVycm9yc19JbnZhbGlkT3B0aW9uTmFtZUVycm9yIiwidHlwZVZhbGlkYXRpb24iLCJlcnJvcnNfSW52YWxpZE9wdGlvblR5cGVFcnJvciIsImVycm9yc19JbnZhbGlkT3B0aW9uVmFsdWVFcnJvciIsInZhbGlkYXRlU3ViT3B0aW9ucyIsIm9wdGlvbk5hbWUiLCJtYXRjaGluZ1N1Yk9wdGlvbiIsImdldFN1Yk9wdGlvbnMiLCJzdWJPcHRpb25WYWx1ZSIsImVycm9yc19JbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yIiwiZXJyb3JzX0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IiLCJlcnJvcnNfSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3IiLCJzdWJPcHRpb25WYWx1ZV8xIiwidmFsaWRhdGVSZWZlcmVuY2luZ09wdGlvbiIsImVycm9yc19JbnZhbGlkUmVmZXJlbmNpbmdPcHRpb25FcnJvciIsImVycm9yc19JbnZhbGlkVGVtcGxhdGVFcnJvciIsImVycm9yc19JbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvciIsInZhbGlkYXRlVGVtcGxhdGVzIiwidmFsaWRhdGVSZWZlcmVuY2UiLCJyZWZlcmVuY2VzIiwic2FuaXRpemUiLCJzYW5pdGl6ZU9wdGlvbiIsInNhbml0aXplVGVtcGxhdGUiLCJwcm9jZXNzIiwiZ2V0UmVmZXJlbmNlcyIsImRlcHRoIiwidmFsaWRhdGVSZWZlcmVuY2VzIiwiZXJyb3JzX0ludmFsaWRSZWZlcmVuY2VPcHRpb25WYWx1ZUVycm9yIiwic2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlcnJvcnNfSW52YWxpZFJlZmVyZW5jZUVycm9yIiwidmFsaWRhdGVUZW1wbGF0ZVJlZmVyZW5jZSIsImVycm9yc19JbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yIiwidmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlIiwicmVmXzEiLCJyZWZPYmplY3QiLCJlcnJvcnNfUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yIiwicHJvY2Vzc1RlbXBsYXRlcyIsInJlZmVyZW5jZWRIaWVyYXJjaHkiLCJyZWZlcmVuY2VyX2lzVGVtcGxhdGUiLCJwcm9jZXNzSGllcmFyY2hpZXMiLCJwYXJlbnQiLCJub2RlQ2FsbGJhY2siLCJlbGVtZW50XzEiLCJlbGVtZW50XzIiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJwYXJzZUVsZW1lbnQiLCJJbnZhbGlkSGllcmFyY2h5RXJyb3IiLCJJbnZhbGlkSGllcmFyY2h5RXJyb3JfZXh0ZW5kcyIsIkludmFsaWRUYXJnZXRFcnJvciIsIkludmFsaWRUYXJnZXRFcnJvcl9leHRlbmRzIiwidGVtbWVfcGFyc2UiLCJlbmRDYWxsYmFjayIsImVycm9yc19JbnZhbGlkVGFyZ2V0RXJyb3IiLCJlcnJvcnNfSW52YWxpZEhpZXJhcmNoeUVycm9yIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6InNCQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEwREEsT0FyREFGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FB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NkMsRUFBQTZHLFFBQWtCLG9DQWFyQjdHLEVBQUs2RyxRQUFVQSxFQUFRbEgsT0FBUyxFQUFJa0gsRUFBVTdHLEVBQUs2RyxVQUUzRCxPQXpCbURxRyxHQUFBRCxFQUFBbk4sR0F5Qm5EbU4sRUF6QkEsQ0FBbUQvRixrVkNGbkQsU0FBQXBILEdBaUJJLFNBQUFxTixFQUFZdEcsR0FBWixJQUFBN0csRUFHSUYsRUFBQS9DLEtBQUFtQyxLQUFNLEtBQUdBLFlBZk5jLEVBQUE3QyxLQUFlLHFCQUtmNkMsRUFBQTZHLFFBQWtCLHlDQWFyQjdHLEVBQUs2RyxRQUFVQSxFQUFRbEgsT0FBUyxFQUFJa0gsRUFBVTdHLEVBQUs2RyxVQUUzRCxPQXpCZ0R1RyxHQUFBRCxFQUFBck4sR0F5QmhEcU4sRUF6QkEsQ0FBZ0RqRyxHQzZCekMsU0FBU21HLEdBQU1oTixFQUFtQmtKLEVBQXFCK0QsRUFBbUVYLFFBQW5FLElBQUFXLE1BQUEsU0FBaURqTixXQUFrQixJQUFBc00sTUFBQSxjQUU3SCxJQUlJLElBQUsvQyxHQUE2QkwsR0FDOUIsTUFBTSxJQUFJZ0UsR0FBbUIsSUFLakMsSUFBSzVELEdBQTJCdEosR0FDNUIsTUFBTSxJQUFJbU4sR0FBc0IsSUF1QnBDLE9BbEJBMUQsR0FBMEJ6SixHQUcxQitLLEdBQW1CL0ssR0FHbkJtSSxHQUFZbkksR0FHWmtMLEdBQW1CbEwsR0FHbkJPLEdBQWFQLEVBQVdrSixFQUFRb0QsR0FHaENXLEVBQVlqTixHQUdMQSxFQUVYLE1BQU8rSSxHQU1ILE1BSGFBLEVBQUd2QyxRQUFVLFlBQVl1QyxFQUFFdkMsUUFBTyxJQUd6Q3VDLEdBakVkNU0sRUFBQVUsRUFBQXVRLEVBQUEsMEJBQUFKIiwiZmlsZSI6InRlbW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyoqXHJcbiAqIFRoZSBoaWVyYXJjaHkncyBvcHRpb24gbW9kZWwuXHJcbiAqIFdoYXQgZGVmaW5lcyBhIHZhbGlkIG9wdGlvbi5cclxuICovXHJcblxyXG5cclxuIGltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gXCIuL0hpZXJhcmNoeVwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgaW50ZXJmYWNlIHRoYXQgaW5kaWNhdGVzXHJcbiAqIHN1Yi1vcHRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJS2V5cyB7XHJcblxyXG4gICAga2V5czogYW55O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBpbnRlcmZhY2UgZm9yIG9wdGlvbnMgdGhhdCBoYXZlIHRvIHBhcnNlIHRoZWlyXHJcbiAqIHJlc3BlY3RpdmUgdmFsdWVzIGludG8gYSBzcGVjaWZpYyBIVE1MIGVsZW1lbnQuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElQYXJzZXIge1xyXG5cclxuICAgIHBhcnNlOiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGhpZXJhcmNoeTogSGllcmFyY2h5KSA9PiB2b2lkXHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGhlIG9wdGlvbidzIGNsYXNzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsYWJlbDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdmFsdWVzOiBBcnJheTxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlZmF1bHQ6IGFueTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGxhYmVsIFRoZSBuYW1lIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSBwb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobGFiZWw6IHN0cmluZywgdHlwZTogc3RyaW5nLCB2YWx1ZXM6IEFycmF5PGFueT4sIGRlZmF1bHRWYWx1ZTogYW55KSB7XHJcblxyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGFic3RyYWN0IGluaGVyaXQgKGhpZXJhcmNoeTogYW55LCB2YWx1ZTogYW55KTogdm9pZFxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBhbiBvcHRpb24gdmFsdWUgZnJvbSBhbiBleGlzdGluZyBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRLZXlGcm9tRWxlbWVudCAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnlcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIG9wdGlvbidzIG5hbWUuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtYXRjaGluZ09wdGlvbiBUaGUgb3B0aW9uIG9iamVjdCB3aXRoIHRoZSBtYXRjaGluZyBuYW1lLlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGVPcHRpb25OYW1lID0gKG1hdGNoaW5nT3B0aW9uOiBPcHRpb24pOiBib29sZWFuID0+IG1hdGNoaW5nT3B0aW9uICE9IG51bGw7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHRoZSBkYXRhIHR5cGUgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICogQHBhcmFtIG1hdGNoaW5nT3B0aW9uIFRoZSBvcHRpb24gb2JqZWN0IHdpdGggdGhlIG1hdGNoaW5nIG5hbWUuXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZU9wdGlvblR5cGUodmFsdWU6IGFueSwgbWF0Y2hpbmdPcHRpb246IE9wdGlvbik6IHsgdmFsaWQ6IGJvb2xlYW4sIHR5cGU6IHN0cmluZyB9IHtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvblR5cGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGFwcHJvcHJpYXRlIGRhdGEgdHlwZS5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb3B0aW9uVHlwZSA9IFwiYXJyYXlcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRpb25UeXBlID0gdHlwZW9mIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmFsaWQ6IG9wdGlvblR5cGUgPT09IG1hdGNoaW5nT3B0aW9uLnR5cGUsXHJcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvblR5cGVcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHRoZSBvcHRpb24ncyB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cclxuICAgICAqIEBwYXJhbSBtYXRjaGluZ09wdGlvbiBUaGUgb3B0aW9uIG9iamVjdCB3aXRoIHRoZSBtYXRjaGluZyBuYW1lLlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGVPcHRpb25WYWx1ZSh2YWx1ZTogYW55LCBtYXRjaGluZ09wdGlvbjogT3B0aW9uKTogYm9vbGVhbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIG1hdGNoaW5nIG9iamVjdCBpcyB2YWxpZC5cclxuICAgICAgICBpZiAobWF0Y2hpbmdPcHRpb24gIT0gbnVsbCAmJiBtYXRjaGluZ09wdGlvbi52YWx1ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHZhbHVlIGlzIG5vdCBhIHZhbGlkIG9uZS5cclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nT3B0aW9uLnZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIHJlZmVyZW5jZSBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWZPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdyZWYnLCAnc3RyaW5nJywgW10sICcnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIHJlZiBUaGUgcmVmIHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCByZWY6IGFueSk6IHZvaWQgeyB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBub3RoaW5nIGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55ID0+IG51bGw7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBuYW1lIG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hbWVPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCduYW1lJywgJ3N0cmluZycsIFtdLCAnZGl2Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIG5hbWU6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChuYW1lICE9IG51bGwpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5uYW1lID0gbmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbm90aGluZyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSA9PiBudWxsO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgSUQgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElQYXJzZXIgfSBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHkgfSBmcm9tIFwiLi4vbW9kZWxzL0hpZXJhcmNoeVwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElkT3B0aW9uIGV4dGVuZHMgT3B0aW9uIGltcGxlbWVudHMgSVBhcnNlciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ2lkJywgJ3N0cmluZycsIFtdLCAnJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSBpZCBUaGUgaWQgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIGlkOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmlkID0gaWQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgaWQgZnJvbSBhIGdpdmVuIEhUTUwgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIEhUTUwgZWxlbWVudCB0byB0YXJnZXQuIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2V5RnJvbUVsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnkgPT4gZWxlbWVudC5pZDtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBpZCBmb3IgYW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHNldCB0aGUgaWQgZm9yXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBwYXJzZSAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGhpZXJhcmNoeTogSGllcmFyY2h5KSB7XHJcblxyXG4gICAgICAgIGlmIChoaWVyYXJjaHkuaWQgIT0gXCJcIikge1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5pZCA9IGhpZXJhcmNoeS5pZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSB2YWx1ZSBzdWIgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi8uLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmFsdWVTdWJPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCd2YWx1ZScsICdzdHJpbmcnLCBbXSwgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIHZhbHVlOiBhbnkpOiB2b2lkIHsgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgbm90aGluZyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSA9PiBudWxsO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29udGVudCB0eXBlIHN1YiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZW50VHlwZVN1Yk9wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ3R5cGUnLCAnc3RyaW5nJywgWyd0ZXh0JywgJ2h0bWwnXSwgJ3RleHQnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBpbmhlcml0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5oZXJpdChoaWVyYXJjaHk6IGFueSwgdmFsdWU6IGFueSk6IHZvaWQgeyB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBub3RoaW5nIGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55ID0+IG51bGw7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSB0ZXh0IG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiwgeyBJS2V5cywgSVBhcnNlciB9IGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gJy4uL21vZGVscy9IaWVyYXJjaHknO1xyXG5pbXBvcnQgVmFsdWVTdWJPcHRpb24gZnJvbSBcIi4vc3ViLW9wdGlvbnMvVmFsdWVTdWJPcHRpb25cIjtcclxuaW1wb3J0IENvbnRlbnRUeXBlU3ViT3B0aW9uIGZyb20gXCIuL3N1Yi1vcHRpb25zL0NvbnRlbnRUeXBlU3ViT3B0aW9uXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBjb250ZW50IG9wdGlvbiBjbGFzcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRlbnRPcHRpb24gZXh0ZW5kcyBPcHRpb24gaW1wbGVtZW50cyBJS2V5cywgSVBhcnNlciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUga2V5cyBvZiB0aGUgYGNvbnRlbnRgIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGtleXM6IENvbnRlbnRLZXlzID0ge1xyXG4gICAgICAgIHR5cGU6IG5ldyBDb250ZW50VHlwZVN1Yk9wdGlvbigpLFxyXG4gICAgICAgIHZhbHVlOiBuZXcgVmFsdWVTdWJPcHRpb24oKVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignY29udGVudCcsICdvYmplY3QnLCBbXSwge1xyXG4gICAgICAgICAgICB0eXBlOiAobmV3IENvbnRlbnRUeXBlU3ViT3B0aW9uKCkpLmRlZmF1bHQsXHJcbiAgICAgICAgICAgIHZhbHVlOiAobmV3IFZhbHVlU3ViT3B0aW9uKCkpLmRlZmF1bHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIGNvbnRlbnQgVGhlIGNvbnRlbnQgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIGNvbnRlbnQ6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjdDogc3RyaW5nID0gY29udGVudC52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5mcm9tLm1vZGUgPT09ICdhcHBlbmQnKSB7XHJcblxyXG4gICAgICAgICAgICBjdCA9IGAke2hpZXJhcmNoeS5jb250ZW50LnZhbHVlfSR7Y3QubGVuZ3RoID4gMCA/ICcgJyA6ICcnfSR7Y3R9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LmNvbnRlbnQgPSBjb250ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmNvbnRlbnQudmFsdWUgPSBjdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGNvbnRlbnQgZnJvbSBhIGdpdmVuIEhUTUwgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIEhUTUwgZWxlbWVudCB0byB0YXJnZXQuIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2V5RnJvbUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnkgeyBcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogXCJodG1sXCIsXHJcbiAgICAgICAgICAgIHZhbHVlOiBlbGVtZW50LmlubmVySFRNTFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY29udGVudCBmb3IgYW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHNldCB0aGUgY29udGVudCBmb3JcclxuICAgICAqL1xyXG4gICAgcHVibGljIHBhcnNlIChlbGVtZW50OiBIVE1MRWxlbWVudCwgaGllcmFyY2h5OiBIaWVyYXJjaHkpIHtcclxuXHJcbiAgICAgICAgaWYgKCg8YW55PmhpZXJhcmNoeSkuY29udGVudC52YWx1ZSAhPSBcIlwiKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoKDxhbnk+aGllcmFyY2h5KS5jb250ZW50LnR5cGUgPT09ICd0ZXh0Jykge1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSAoPGFueT5oaWVyYXJjaHkpLmNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAoPGFueT5oaWVyYXJjaHkpLmNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGhlIENvbnRlbnRLZXlzIHR5cGUuXHJcbiAqL1xyXG50eXBlIENvbnRlbnRLZXlzID0ge1xyXG5cclxuICAgIHR5cGU6IENvbnRlbnRUeXBlU3ViT3B0aW9uO1xyXG4gICAgdmFsdWU6IFZhbHVlU3ViT3B0aW9uO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgcmVmZXJlbmNlIG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbW1lSWRzT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcigndGVtbWVJZHMnLCAnYXJyYXknLCBbXSwgW10pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm1zIGluaGVyaXRhbmNlIHByb2Nlc3Mgb24gYW4gb3B0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRoYXQgaW5oZXJpdHMuXHJcbiAgICAgKiBAcGFyYW0gdGVtbWVJZHMgVGhlIHRlbW1lSWRzIHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCB0ZW1tZUlkczogYW55KTogdm9pZCB7IH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG5vdGhpbmcgZnJvbSBhIGdpdmVuIEhUTUwgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIEhUTUwgZWxlbWVudCB0byB0YXJnZXQuIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2V5RnJvbUVsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnkgPT4gbnVsbDtcclxufVxyXG4iLCIvKipcclxuICogVGhlIHRlbXBsYXRlcyBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZW1wbGF0ZXNPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCd0ZW1wbGF0ZXMnLCAnYXJyYXknLCBbXSwgW10pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSB0ZW1wbGF0ZXMgVGhlIHRlbXBsYXRlcyB0byBpbmhlcml0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5oZXJpdChoaWVyYXJjaHk6IGFueSwgdGVtcGxhdGVzOiBhbnkpOiB2b2lkIHsgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgbm90aGluZyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSA9PiBudWxsO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgY2xhc3NlcyBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSVBhcnNlciB9IGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gJy4uL21vZGVscy9IaWVyYXJjaHknO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsYXNzZXNPcHRpb24gZXh0ZW5kcyBPcHRpb24gaW1wbGVtZW50cyBJUGFyc2VyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignY2xhc3NlcycsICdhcnJheScsIFtdLCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzZXMgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIGNsYXNzZXM6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChoaWVyYXJjaHkuZnJvbS5tb2RlID09PSAnYXBwZW5kJykge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LmNsYXNzZXMucHVzaCguLi5jbGFzc2VzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LmNsYXNzZXMgPSBjbGFzc2VzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBSZW1vdmluZyBkdXBsaWNhdGVzLlxyXG4gICAgICAgIGhpZXJhcmNoeS5jbGFzc2VzID0gaGllcmFyY2h5LmNsYXNzZXMuZmlsdGVyKChjbHM6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4gaGllcmFyY2h5LmNsYXNzZXMuaW5kZXhPZihjbHMpID09PSBpbmRleCk7XHJcblxyXG4gICAgICAgIC8vIFNvcnRpbmcgdGhlIGNsYXNzZXMuXHJcbiAgICAgICAgaGllcmFyY2h5LmNsYXNzZXMuc29ydCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgY2xhc3NlcyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSB7XHJcbiAgICAgIFxyXG4gICAgICAgIGxldCBjbGFzc2VzOiBBcnJheTxzdHJpbmc+ID0gW107XHJcblxyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmZvckVhY2goKGNsczogc3RyaW5nKSA9PiBjbGFzc2VzLnB1c2goY2xzKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjbGFzc2VzIGZvciBhbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gc2V0IHRoZSBjbGFzc2VzIGZvclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGFyc2UgKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBoaWVyYXJjaHk6IEhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICBpZiAoaGllcmFyY2h5LmNsYXNzZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmhpZXJhcmNoeS5jbGFzc2VzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBjaGlsZHJlbiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGlsZE5vZGVzT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignY2hpbGROb2RlcycsICdhcnJheScsIFtdLCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIGNoaWxkTm9kZXMgVGhlIGNoaWxkTm9kZXMgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIGNoaWxkTm9kZXM6IGFueSk6IHZvaWQge1xyXG5cclxuICAgICAgICBpZiAoaGllcmFyY2h5LmZyb20uY2hpbGRyZW4uYWxsb3cgPT09IHRydWUpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChoaWVyYXJjaHkuZnJvbS5tb2RlID09PSAnYXBwZW5kJykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChoaWVyYXJjaHkuZnJvbS5jaGlsZHJlbi5wbGFjZW1lbnQgPT09ICdiZWZvcmUnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLnVuc2hpZnQoLi4uY2hpbGROb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5wdXNoKC4uLmNoaWxkTm9kZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzID0gY2hpbGROb2RlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGNoaWxkcmVuIGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55ID0+IGVsZW1lbnQuaW5uZXJIVE1MO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgYXR0cmlidXRlcyBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSVBhcnNlciB9IGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gXCIuLi9tb2RlbHMvSGllcmFyY2h5XCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0cmlidXRlc09wdGlvbiBleHRlbmRzIE9wdGlvbiBpbXBsZW1lbnRzIElQYXJzZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdhdHRyaWJ1dGVzJywgJ29iamVjdCcsIFtdLCB7fSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzIFRoZSBhdHRyaWJ1dGVzIHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCBhdHRyaWJ1dGVzOiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgYXR0cjogYW55ID0gYXR0cmlidXRlcztcclxuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5mcm9tLm1vZGUgPT09ICdhcHBlbmQnKSB7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJLZXkgaW4gaGllcmFyY2h5LmF0dHJpYnV0ZXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhdHRyW2F0dHJLZXldID0gaGllcmFyY2h5LmF0dHJpYnV0ZXNbYXR0cktleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBhdHRyS2V5IGluIGhpZXJhcmNoeS5hdHRyaWJ1dGVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCEoYXR0cktleSBpbiBhdHRyKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhdHRyW2F0dHJLZXldID0gaGllcmFyY2h5LmF0dHJpYnV0ZXNbYXR0cktleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhpZXJhcmNoeS5hdHRyaWJ1dGVzID0gYXR0cjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGF0dHJpYnV0ZXMgZnJvbSBhIGdpdmVuIEhUTUwgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIEhUTUwgZWxlbWVudCB0byB0YXJnZXQuIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2V5RnJvbUVsZW1lbnQoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnkge1xyXG5cclxuICAgICAgICBsZXQgYXR0cmlidXRlczogYW55ID0ge307XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgYXR0cktleSBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNOYU4ocGFyc2VJbnQoYXR0cktleSkpICYmIFsnaWQnLCAnY2xhc3MnXS5pbmRleE9mKGVsZW1lbnQuYXR0cmlidXRlc1thdHRyS2V5XS5ub2RlTmFtZSkgPT09IC0xICYmIGVsZW1lbnQuYXR0cmlidXRlc1thdHRyS2V5XS5ub2RlTmFtZS5zdWJzdHJpbmcoMCwgNSkgIT09ICdkYXRhLScpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2VsZW1lbnQuYXR0cmlidXRlc1thdHRyS2V5XS5ub2RlTmFtZV0gPSBlbGVtZW50LmF0dHJpYnV0ZXNbYXR0cktleV0ubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBhdHRyaWJ1dGVzIGZvciBhbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gc2V0IHRoZSBhdHRyaWJ1dGVzIGZvclxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGFyc2UgKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBoaWVyYXJjaHk6IEhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGRhdGFLZXkgaW4gaGllcmFyY2h5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGRhdGFLZXksICg8YW55PmhpZXJhcmNoeSkuYXR0cmlidXRlc1tkYXRhS2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZGF0YXNldCBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSVBhcnNlciB9IGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gJy4uL21vZGVscy9IaWVyYXJjaHknO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFzZXRPcHRpb24gZXh0ZW5kcyBPcHRpb24gaW1wbGVtZW50cyBJUGFyc2VyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignZGF0YXNldCcsICdvYmplY3QnLCBbXSwge30pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSBkYXRhc2V0IFRoZSBkYXRhc2V0IHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCBkYXRhc2V0OiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgZHQ6IGFueSA9IHsgLi4uZGF0YXNldCB9O1xyXG5cclxuICAgICAgICBpZiAoaGllcmFyY2h5LmZyb20ubW9kZSA9PT0gJ2FwcGVuZCcpIHtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGF0YUtleSBpbiBoaWVyYXJjaHkuZGF0YXNldCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGR0W2RhdGFLZXldID0gaGllcmFyY2h5LmRhdGFzZXRbZGF0YUtleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBkYXRhS2V5IGluIGhpZXJhcmNoeS5kYXRhc2V0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCEoZGF0YUtleSBpbiBkdCkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZHRbZGF0YUtleV0gPSBoaWVyYXJjaHkuZGF0YXNldFtkYXRhS2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmRhdGFzZXQgPSBkdDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGRhdGF0c2V0IGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55IHtcclxuXHJcbiAgICAgICAgbGV0IGRhdGFzZXQ6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGRhdGFLZXkgaW4gZWxlbWVudC5kYXRhc2V0KSB7XHJcblxyXG4gICAgICAgICAgICBkYXRhc2V0W2RhdGFLZXldID0gZWxlbWVudC5kYXRhc2V0W2RhdGFLZXldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGFzZXQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgZGF0YXNldCBmb3IgYW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHNldCB0aGUgZGF0YXNldCBmb3JcclxuICAgICAqL1xyXG4gICAgcHVibGljIHBhcnNlIChlbGVtZW50OiBIVE1MRWxlbWVudCwgaGllcmFyY2h5OiBIaWVyYXJjaHkpIHtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBkYXRhS2V5IGluIGhpZXJhcmNoeS5kYXRhc2V0KSB7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LmRhdGFzZXRbZGF0YUtleV0gPSAoPGFueT5oaWVyYXJjaHkpLmRhdGFzZXRbZGF0YUtleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgbW9kZSBzdWIgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi8uLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZVN1Yk9wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ21vZGUnLCAnc3RyaW5nJywgWydhcHBlbmQnLCAnb3ZlcnJpZGUnXSwgJ2FwcGVuZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5oZXJpdC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGluaGVyaXQoaGllcmFyY2h5OiBhbnksIHZhbHVlOiBhbnkpOiB2b2lkIHsgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgbm90aGluZyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSA9PiBudWxsO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgcGxhY2VtZW50IHN1YiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGFjZW1lbnRTdWJPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdwbGFjZW1lbnQnLCAnc3RyaW5nJywgWydhZnRlcicsICdiZWZvcmUnXSwgJ2FmdGVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBpbmhlcml0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5oZXJpdChoaWVyYXJjaHk6IGFueSwgdmFsdWU6IGFueSk6IHZvaWQgeyB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBub3RoaW5nIGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55ID0+IG51bGw7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBhbGxvdyBzdWIgb3B0aW9uIG1vZGVsIGZvciB0aGUgZnJvbS1jaGlsZHJlbiBvcHRpb24uXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGlsZHJlbkFsbG93U3ViT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignYWxsb3cnLCAnYm9vbGVhbicsIFtdLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFBlcmZvcm1zIGluaGVyaXRhbmNlIHByb2Nlc3Mgb24gYW4gb3B0aW9uLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRoYXQgaW5oZXJpdHMuXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCB2YWx1ZTogYW55KTogdm9pZCB7IH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIG5vdGhpbmcgZnJvbSBhIGdpdmVuIEhUTUwgZWxlbWVudC5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIEhUTUwgZWxlbWVudCB0byB0YXJnZXQuIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0S2V5RnJvbUVsZW1lbnQgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpOiBhbnkgPT4gbnVsbDtcclxufVxyXG4iLCIvKipcclxuICogVGhlIGNoaWxkcmVuIHN1YiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSUtleXMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgUGxhY2VtZW50U3ViT3B0aW9uIGZyb20gXCIuL1BsYWNlbWVudFN1Yk9wdGlvblwiO1xyXG5pbXBvcnQgQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbiBmcm9tIFwiLi9DaGlsZHJlbkFsbG93U3ViT3B0aW9uXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBjaGlsZHJlbiBzdWIgb3B0aW9uIGNsYXNzXHJcbiAqIG9mIHRoZSBmcm9tIG9wdGlvbi5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoaWxkcmVuU3ViT3B0aW9uIGV4dGVuZHMgT3B0aW9uIGltcGxlbWVudHMgSUtleXMge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGtleXMgb2YgdGhlIGBjaGlsZHJlbmAgc3ViIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGtleXM6IEZyb21DaGlsZHJlbktleXMgPSB7XHJcbiAgICAgICAgYWxsb3c6IG5ldyBDaGlsZHJlbkFsbG93U3ViT3B0aW9uKCksXHJcbiAgICAgICAgcGxhY2VtZW50OiBuZXcgUGxhY2VtZW50U3ViT3B0aW9uKClcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ2NoaWxkcmVuJywgJ29iamVjdCcsIFtdLCB7XHJcbiAgICAgICAgICAgIGFsbG93OiAobmV3IENoaWxkcmVuQWxsb3dTdWJPcHRpb24oKSkuZGVmYXVsdCxcclxuICAgICAgICAgICAgcGxhY2VtZW50OiAobmV3IFBsYWNlbWVudFN1Yk9wdGlvbigpKS5kZWZhdWx0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBpbmhlcml0YW5jZSBwcm9jZXNzIG9uIGFuIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IGluaGVyaXRzLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBpbmhlcml0LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgaW5oZXJpdChoaWVyYXJjaHk6IGFueSwgdmFsdWU6IGFueSk6IHZvaWQgeyB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBub3RoaW5nIGZyb20gYSBnaXZlbiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBIVE1MIGVsZW1lbnQgdG8gdGFyZ2V0LiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEtleUZyb21FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYW55ID0+IG51bGw7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGhlIEZyb21DaGlsZHJlbktleXMgdHlwZS5cclxuICovXHJcbnR5cGUgRnJvbUNoaWxkcmVuS2V5cyA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IGNoaWxkcmVuIGluaGVyaXRhbmNlLlxyXG4gICAgICovXHJcbiAgICBhbGxvdzogQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpbmhlcml0YW5jZSBtb2RlLlxyXG4gICAgICovXHJcbiAgICBwbGFjZW1lbnQ6IFBsYWNlbWVudFN1Yk9wdGlvbjtcclxufVxyXG4iLCIvKipcclxuICogVGhlIGZyb20gb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiwgeyBJS2V5cyB9IGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcbmltcG9ydCBSZWZPcHRpb24gZnJvbSBcIi4vUmVmT3B0aW9uXCI7XHJcbmltcG9ydCBNb2RlU3ViT3B0aW9uIGZyb20gXCIuL3N1Yi1vcHRpb25zL01vZGVTdWJPcHRpb25cIjtcclxuaW1wb3J0IENoaWxkcmVuU3ViT3B0aW9uIGZyb20gXCIuL3N1Yi1vcHRpb25zL0NoaWxkcmVuU3ViT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJvbU9wdGlvbiBleHRlbmRzIE9wdGlvbiBpbXBsZW1lbnRzIElLZXlzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBrZXlzIG9mIHRoZSBgZnJvbWAgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMga2V5czogRnJvbUtleXMgPSB7XHJcbiAgICAgICAgcmVmOiBuZXcgUmVmT3B0aW9uKCksXHJcbiAgICAgICAgbW9kZTogbmV3IE1vZGVTdWJPcHRpb24oKSxcclxuICAgICAgICBjaGlsZHJlbjogbmV3IENoaWxkcmVuU3ViT3B0aW9uKClcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ2Zyb20nLCAnb2JqZWN0JywgW10sIHtcclxuICAgICAgICAgICAgcmVmOiAobmV3IFJlZk9wdGlvbigpKS5kZWZhdWx0LFxyXG4gICAgICAgICAgICBtb2RlOiAobmV3IE1vZGVTdWJPcHRpb24oKSkuZGVmYXVsdCxcclxuICAgICAgICAgICAgY2hpbGRyZW46IChuZXcgQ2hpbGRyZW5TdWJPcHRpb24oKSkuZGVmYXVsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgaW5oZXJpdGFuY2UgcHJvY2VzcyBvbiBhbiBvcHRpb24uXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdGhhdCBpbmhlcml0cy5cclxuICAgICAqIEBwYXJhbSBmcm9tIFRoZSBmcm9tIHRvIGluaGVyaXQuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbmhlcml0KGhpZXJhcmNoeTogYW55LCBmcm9tOiBhbnkpOiB2b2lkIHsgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgbm90aGluZyBmcm9tIGEgZ2l2ZW4gSFRNTCBlbGVtZW50LlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50IHRvIHRhcmdldC4gXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRLZXlGcm9tRWxlbWVudCA9IChlbGVtZW50OiBIVE1MRWxlbWVudCk6IGFueSA9PiBudWxsO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBGcm9tS2V5cyB0eXBlLlxyXG4gKi9cclxudHlwZSBGcm9tS2V5cyA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSByZWZlcmVuY2Ugc3ViIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcmVmOiBSZWZPcHRpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW5oZXJpdGFuY2UgbW9kZS5cclxuICAgICAqL1xyXG4gICAgbW9kZTogTW9kZVN1Yk9wdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpbmhlcml0YW5jZSBtb2RlLlxyXG4gICAgICovXHJcbiAgICBjaGlsZHJlbjogQ2hpbGRyZW5TdWJPcHRpb247XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBsaXN0IG9mIHN1cHBvcnRlZCBvcHRpb25zLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgUmVmT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvUmVmT3B0aW9uXCI7XHJcbmltcG9ydCBOYW1lT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvTmFtZU9wdGlvblwiO1xyXG5pbXBvcnQgSWRPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9JZE9wdGlvblwiO1xyXG5pbXBvcnQgQ29udGVudE9wdGlvbiBmcm9tIFwiLi9vcHRpb25zL0NvbnRlbnRPcHRpb25cIjtcclxuaW1wb3J0IFRlbW1lSWRzT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvVGVtbWVJZHNPcHRpb25cIjtcclxuaW1wb3J0IFRlbXBsYXRlc09wdGlvbiBmcm9tIFwiLi9vcHRpb25zL1RlbXBsYXRlc09wdGlvblwiO1xyXG5pbXBvcnQgQ2xhc3Nlc09wdGlvbiBmcm9tIFwiLi9vcHRpb25zL0NsYXNzZXNPcHRpb25cIjtcclxuaW1wb3J0IENoaWxkTm9kZXNPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9DaGlsZHJlbk5vZGVzT3B0aW9uXCI7XHJcbmltcG9ydCBBdHRyaWJ1dGVzT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvQXR0cmlidXRlc09wdGlvblwiO1xyXG5pbXBvcnQgRGF0YXNldE9wdGlvbiBmcm9tIFwiLi9vcHRpb25zL0RhdGFzZXRPcHRpb25cIjtcclxuaW1wb3J0IEZyb21PcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9Gcm9tT3B0aW9uXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIEFsbCB0aGUgZ2xvYmFsIG9wdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgb3B0aW9uczogQXJyYXk8T3B0aW9uPiA9IFtcclxuICAgIG5ldyBSZWZPcHRpb24oKSxcclxuICAgIG5ldyBOYW1lT3B0aW9uKCksXHJcbiAgICBuZXcgSWRPcHRpb24oKSxcclxuICAgIG5ldyBDb250ZW50T3B0aW9uKCksXHJcbiAgICBuZXcgVGVtbWVJZHNPcHRpb24oKSxcclxuICAgIG5ldyBUZW1wbGF0ZXNPcHRpb24oKSxcclxuICAgIG5ldyBDbGFzc2VzT3B0aW9uKCksXHJcbiAgICBuZXcgQ2hpbGROb2Rlc09wdGlvbigpLFxyXG4gICAgbmV3IEF0dHJpYnV0ZXNPcHRpb24oKSxcclxuICAgIG5ldyBEYXRhc2V0T3B0aW9uKCksXHJcbiAgICBuZXcgRnJvbU9wdGlvbigpXHJcbl07XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBvZiB0aGUgb3B0aW9ucyBhdmFpbGFibGUgKGluY2x1ZGluZyBzdWItb3B0aW9ucykuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgYWxsT3B0aW9ucyA9IGdldEFsbE9wdGlvbnMoKTtcclxuXHJcblxyXG4vKipcclxuICogVGhlIG9wdGlvbnMgdGhhdCBhcmUgbm90IGFsbG93ZWQgZm9yIHRlbXBsYXRlcy5cclxuICovXHJcbmV4cG9ydCBjb25zdCBmb3JiaWRkZW5PcHRpb25zOiBBcnJheTxzdHJpbmc+ID0gWyduYW1lJywgJ2NoaWxkTm9kZXMnLCAndGVtcGxhdGVzJ107XHJcblxyXG5cclxuLyoqXHJcbiAqIEdldHMgYWxsIHRoZSBzdWItb3B0aW9ucyBvZiBhbiBvcHRpb24uXHJcbiAqIFxyXG4gKiBAcGFyYW0gb3B0aW9uIFRoZSBwYXJlbnQgb3B0aW9uJ3MgbmFtZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdWJPcHRpb25zKG9wdGlvbjogc3RyaW5nKTogQXJyYXk8T3B0aW9uPiB7XHJcblxyXG4gICAgY29uc3Qgc3ViT3B0aW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuICAgIC8vIExvb3BpbmcgdGhyb3VnaCBhbGwgb2YgdGhlIG9wdGlvbnMuXHJcbiAgICBhbGxPcHRpb25zLmZvckVhY2goKG9wdDogT3B0aW9uKSA9PiB7XHJcblxyXG4gICAgICAgIGlmICgna2V5cycgaW4gb3B0ICYmICg8T3B0aW9uPm9wdCkubGFiZWwgPT09IG9wdGlvbikge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHQpLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViT3B0aW9uID0gKDxJS2V5cz5vcHQpLmtleXNba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQdXNoaW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgc3ViT3B0aW9ucy5wdXNoKHN1Yk9wdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXR1cm5pbmcgdGhlIGZvdW5kIHN1Yi1vcHRpb25zLlxyXG4gICAgcmV0dXJuIHN1Yk9wdGlvbnM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogR2V0cyBhbGwgb2YgdGhlIG9wdGlvbnMgYW5kIHN1Yi1vcHRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWxsT3B0aW9ucygpOiBBcnJheTxPcHRpb24+IHtcclxuXHJcbiAgICBsZXQgYWxsT3B0aW9uczogQXJyYXk8T3B0aW9uPiA9IFtdO1xyXG5cclxuICAgIG9wdGlvbnMuZm9yRWFjaCgob3B0OiBPcHRpb24pID0+IHtcclxuXHJcbiAgICAgICAgYWxsT3B0aW9ucy5wdXNoKG9wdCk7XHJcblxyXG4gICAgICAgIGlmICgna2V5cycgaW4gb3B0KSB7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXR0aW5nIGFsbCBvZiB0aGUgc3ViLW9wdGlvbnMuXHJcbiAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbnM6IEFycmF5PE9wdGlvbj4gPSBnZXRBbGxTdWJPcHRpb25zKG9wdCk7XHJcblxyXG4gICAgICAgICAgICBhbGxPcHRpb25zID0gYWxsT3B0aW9ucy5jb25jYXQoc3ViT3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGFsbE9wdGlvbnM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogR2V0cyBhbGwgdGhlIHN1Yi1vcHRpb25zIG9mIGFuIG9wdGlvbi5cclxuICogXHJcbiAqIEBwYXJhbSBvcHQgVGhlIG9wdGlvbiB0byBnZXQgdGhlIHN1Yi1vcHRpb25zIG9mLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWxsU3ViT3B0aW9ucyhvcHRpb246IE9wdGlvbik6IEFycmF5PE9wdGlvbj4ge1xyXG5cclxuICAgIGxldCBhbGxTdWJPcHRpb25zOiBBcnJheTxPcHRpb24+ID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gKDxhbnk+b3B0aW9uKS5rZXlzKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHN1Yk9wdGlvbjogT3B0aW9uID0gKDxhbnk+b3B0aW9uKS5rZXlzW2tleV07XHJcblxyXG4gICAgICAgIGFsbFN1Yk9wdGlvbnMucHVzaChzdWJPcHRpb24pO1xyXG5cclxuICAgICAgICBpZiAoJ2tleXMnIGluIHN1Yk9wdGlvbikge1xyXG5cclxuICAgICAgICAgICAgY29uc3Qgb3B0czogQXJyYXk8T3B0aW9uPiA9IGdldEFsbFN1Yk9wdGlvbnMoc3ViT3B0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGFsbFN1Yk9wdGlvbnMgPSBhbGxTdWJPcHRpb25zLmNvbmNhdChvcHRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFsbFN1Yk9wdGlvbnM7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRlbW1lJ3MgZXJyb3IgaW50ZXJmYWNlLlxyXG4gKi9cclxuaW50ZXJmYWNlIElUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGVtbWUncyBjdXN0b20gZXJyb3JzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtbXlFcnJvciBleHRlbmRzIEVycm9yIGltcGxlbWVudHMgSVRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nID0gJ1RlbW15RXJyb3InO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJUZW1tZSBpc24ndCBmZWVsaW5nIGdvb2RcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHRlbXBsYXRlXHJcbiAqIGhhcyBhIGZvcmJpZGRlbiBvcHRpb24uXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIkEgdGVtcGxhdGUgaGFzIGFuIGludmFsaWQgb3B0aW9uXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcHRpb24gVGhlIGludmFsaWQgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGDigJwke29wdGlvbn3igJ0gaXMgbm90IGEgdmFsaWQgb3B0aW9uIHRvIHVzZSBpbiB0ZW1wbGF0ZXNgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGFuIG9wdGlvblxyXG4gKiBpcyBub3QgdmFsaWQuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRPcHRpb25OYW1lRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZE9wdGlvbk5hbWVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBbiBvcHRpb24gaXMgbm90IHZhbGlkXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcHRpb24gVGhlIGludmFsaWQgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGDigJwke29wdGlvbn3igJ0gaXMgbm90IGEgdmFsaWQgb3B0aW9uYDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb24ubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhbiBvcHRpb25cclxuICogaXMgbm90IG9mIGEgdmFsaWQgZGF0YSB0eXBlLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkT3B0aW9uVHlwZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRPcHRpb25UeXBlRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQW4gb3B0aW9uIGRvZXNuJ3QgaGF2ZSBhIHZhbGlkIHZhbHVlIHR5cGVcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG9wdGlvbiBUaGUgaW52YWxpZCBvcHRpb24ncyBuYW1lLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBpbnZhbGlkIG9wdGlvbidzIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb246IHN0cmluZywgdHlwZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBgVGhlIOKAnCR7b3B0aW9ufeKAnSBvcHRpb24gZG9lc24ndCBhY2NlcHQgdmFsdWVzIG9mIHR5cGUg4oCcJHt0eXBlfeKAnWA7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gb3B0aW9uLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYW4gb3B0aW9uXHJcbiAqIGlzIG5vdCBvZiBhIHZhbGlkIHZhbHVlLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkT3B0aW9uVmFsdWVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBbiBvcHRpb24gZG9lc24ndCBoYXZlIGEgdmFsaWQgdmFsdWVcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG9wdGlvbiBUaGUgaW52YWxpZCBvcHRpb24ncyBuYW1lLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBpbnZhbGlkIG9wdGlvbidzIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb246IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3RpbmcgdGhlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gYFRoZSDigJwke29wdGlvbn3igJ0gb3B0aW9uIGRvZXNuJ3QgYWNjZXB0IOKAnCR7dmFsdWV94oCdIGFzIGEgdmFsdWVgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgc3ViLW9wdGlvblxyXG4gKiBpcyBub3QgdmFsaWQuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFN1Yk9wdGlvbk5hbWVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHN1Yi1vcHRpb24gaXMgbm90IHZhbGlkXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcHRpb24gVGhlIHBhcmVudCBvcHRpb24ncyBuYW1lLlxyXG4gICAgICogQHBhcmFtIHN1Yk9wdGlvbiBUaGUgaW52YWxpZCBzdWItb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uOiBzdHJpbmcsIHN1Yk9wdGlvbjogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBgVGhlIOKAnCR7b3B0aW9ufeKAnSBvcHRpb24gZG9lc24ndCBub3QgcmVjb2duaXplIOKAnCR7c3ViT3B0aW9ufeKAnSBhcyBhIHZhbGlkIHN1Yi1vcHRpb25gO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbi5sZW5ndGggPiAwIHx8IHN1Yk9wdGlvbi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgc3ViLXB0aW9uXHJcbiAqIGlzIG5vdCBvZiBhIHZhbGlkIGRhdGEgdHlwZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIkEgc3ViLW9wdGlvbiBkb2Vzbid0IGhhdmUgYSB2YWxpZCB2YWx1ZSB0eXBlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBzdWJPcHRpb24gVGhlIGludmFsaWQgc3ViLW9wdGlvbidzIG5hbWUuXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIGludmFsaWQgc3ViLW9wdGlvbidzIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihzdWJPcHRpb246IHN0cmluZywgdHlwZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBgVGhlIOKAnCR7c3ViT3B0aW9ufeKAnSBzdWItb3B0aW9uIGRvZXNuJ3QgYWNjZXB0IHZhbHVlcyBvZiB0eXBlIOKAnCR7dHlwZX3igJ1gO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHN1Yk9wdGlvbi5sZW5ndGggPiAwIHx8IHR5cGUubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHN1Yi1vcHRpb25cclxuICogaXMgbm90IG9mIGEgdmFsaWQgdmFsdWUuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIkEgc3ViLW9wdGlvbiBkb2Vzbid0IGhhdmUgYSB2YWxpZCB2YWx1ZVwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gc3ViT3B0aW9uIFRoZSBpbnZhbGlkIHN1Yi1vcHRpb24ncyBuYW1lLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBpbnZhbGlkIHN1Yi1vcHRpb24ncyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc3ViT3B0aW9uOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGBUaGUg4oCcJHtzdWJPcHRpb2594oCdIHN1Yi1vcHRpb24gZG9lc24ndCBhY2NlcHQg4oCcJHt2YWx1ZX3igJ0gYXMgYSB2YWx1ZWA7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gc3ViT3B0aW9uLmxlbmd0aCA+IDAgfHwgdmFsdWUubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIFxyXG4gKiBmcm9tIG9wdGlvbiBpcyBub3QgdmFsaWRcclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQSByZWZlcmVuY2luZyBvcHRpb24gaXMgbm90IHZhbGlkXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIFxyXG4gKiByZWYgb3B0aW9uIHN0YXJ0cyB3aXRoIHRoZSBzeW1ib2xlIOKAnEDigJ0uXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRSZWZlcmVuY2VPcHRpb25WYWx1ZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRSZWZlcmVuY2VPcHRpb25WYWx1ZUVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIuKAnHJlZuKAnSBvcHRpb25zIG11c3Qgbm90IGJlZ2luIHdpdGggdGhlIOKAnEDigJ0gc3ltYm9sXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHJlZiBvcHRpb25cclxuICogcmVmZXJlbmNlcyBhbiBpbnZhbGlkIG9iamVjdC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZFJlZmVyZW5jZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRSZWZlcmVuY2VFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHJlZmVyZW5jZSBpcyBpbnZhbGlkXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSByZWZlcmVuY2UgVGhlIGludmFsaWQgcmVmZXJlbmNlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihyZWZlcmVuY2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHJlZmVyZW5jZS5sZW5ndGggPiAwID8gYOKAnCR7cmVmZXJlbmNlfeKAnSBpcyBhbiBpbnZhbGlkIHJlZmVyZW5jZWAgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHRlbXBsYXRlXHJcbiAqIGlzIGludmFsaWQgKGRvZXNuJ3QgaGF2ZSBhIOKAnHJlZuKAnSBvcHRpb24pLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkVGVtcGxhdGVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkVGVtcGxhdGVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHRlbXBsYXRlIGRvZXMgbm90IGhhdmUgYSDigJxyZWbigJ0gb3B0aW9uXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogSGVyZSBnb2VzJ3MgZXZlcnl0aGluZyB0aGF0IElELWZpZXNcclxuICogYW55dGhpbmcgdG8gZG8gd2l0aCB0aGUgaGllcmFyY2h5IG9iamVjdC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IHsgSGllcmFyY2h5IH0gZnJvbSBcIi4vbW9kZWxzL0hpZXJhcmNoeVwiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCIuL21vZGVscy9UZW1wbGF0ZVwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBc3NpZ25zIHRlbW1lSWRzIHRvIGEgaGllcmFyY2h5IG9iamVjdC5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdG8gYXNzaW5nIGEgdGVtbWVJZCB0by5cclxuICogQHBhcmFtIHRlbW1lSWRzIFRoZSBzZXJpZXMgb2YgdGVtbWVJZHMgbGVhZGluZyB0byB0aGUgY3VycmVudCBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKiBAcGFyYW0gbW9kZSBUaGUgbW9kZSBvZiB0aGUgdGVtbWVJZCwgaWYgaXQncyBmYWxzZSwgdGhlIHRlbW1lSWQgd2lsbCBiZSBvZiA2IGNoYXJhY3RlcnNcclxuICogaW5kaWNhdGluZyBpdCdzIGEgaGllcmFyY2h5IG9iamVjdCwgaWYgaXQncyB0cnVlLCBpdCdsbCBoYXZlIDQgY2hhcmFjdGVycyBpbmRpY2F0aW5nIGl0J3NcclxuICogYSB0ZW1wbGF0ZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpZGZ5KGhpZXJhcmNoeTogYW55LCB0ZW1tZUlkczogQXJyYXk8c3RyaW5nPiA9IFtdLCBtb2RlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gR2VuZXJhdGluZyBhIHRlbW1lIElkLlxyXG4gICAgICAgIGNvbnN0IHRlbW1lSWQ6IHN0cmluZyA9IGdlbmVyYXRlVGVtbWVJZChtb2RlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBc3NpZ25pbmcgYSB0ZW1tZUlkLlxyXG4gICAgICAgIGhpZXJhcmNoeS50ZW1tZUlkcyA9IFsuLi50ZW1tZUlkcywgdGVtbWVJZF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgb2YgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaGllcmFyY2h5LmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQ6IE9iamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZGZ5KGNoaWxkLCBoaWVyYXJjaHkudGVtbWVJZHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAvLyBDaGVja2luZyBvZiB0aGUgaGllcmFyY2h5IG9iamVjdCBoYXMgYW55IHRlbXBsYXRlcy5cclxuICAgICAgICBpZiAoJ3RlbXBsYXRlcycgaW4gaGllcmFyY2h5KSB7XHJcbiAgICBcclxuICAgICAgICAgICAgaGllcmFyY2h5LnRlbXBsYXRlcy5mb3JFYWNoKCh0ZW1wbGF0ZTogT2JqZWN0KSA9PiB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlkZnkodGVtcGxhdGUsIGhpZXJhcmNoeS50ZW1tZUlkcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSB0ZW1tZUlkIG9mIGEgaGllcmFyY2h5IG9yIHRlbXBsYXRlIG9iamVjdC5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSB0byBnZXQgdGhlIHRlbW1lSWQgb2YuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVtbWVJZCAoaGllcmFyY2h5OiBIaWVyYXJjaHkgfCBUZW1wbGF0ZSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gaGllcmFyY2h5LnRlbW1lSWRzW2hpZXJhcmNoeS50ZW1tZUlkcy5sZW5ndGggLSAxXTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSB1bmlxdWUgdGVtbWVJZC5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVGVtbWVJZChtb2RlOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICBjb25zdFxyXG4gICAgICAgIGNoYXJzID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcclxuICAgICAgICBtYXggPSAobW9kZSA9PT0gZmFsc2UpID8gNiA6IDQ7XHJcblxyXG4gICAgbGV0IGtleSA9ICcnO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpPG1heDsgaSsrKSB7XHJcblxyXG4gICAgICAgIGNvbnN0XHJcbiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpLFxyXG4gICAgICAgICAgICB1cHBlcmNhc2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuXHJcbiAgICAgICAga2V5ICs9IHVwcGVyY2FzZSA9PT0gMSA/IGNoYXJzW2luZGV4XS50b1VwcGVyQ2FzZSgpIDogY2hhcnNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHRlbXBsYXRlXHJcbiAqIGhhcyBpcyByZWZlcmVuY2luZyBhIG5vbi10ZW1wbGF0ZSBvYmplY3QuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRUZW1wbGF0ZVJlZmVyZW5jaW5nRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJUZW1wbGF0ZXMgY2FuIG9ubHkgcmVmZXJlbmNlIG90aGVyIHRlbXBsYXRlcy5cIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHJlZiBUaGUgdGVtcGxhdGUncyByZWZlcmVuY2UuXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSByZWZlcmVuY2UgdGFyZ2V0LlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihyZWY6IHN0cmluZywgdGFyZ2V0OiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGBUaGUgdGVtcGxhdGUgd2l0aCB0aGUgcmVmZXJlbmNlIOKAnCR7cmVmfeKAnSBpcyB0cnlpbmcgdG8gcmVmZXJlbmNlIOKAnCR7dGFyZ2V0feKAnSBhIG5vbi10ZW1wbGF0ZSBvYmplY3RgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHJlZi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgYSBoaWVyYXJjaHkgb2JqZWN5XHJcbiAqIGlzIHJlZmVyZW5jaW5nIGFuIGVsZW1lbnQgb3V0IG9mIGl0cyBzY29wZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlJlZmVyZW5jZU91dE9mU2NvcGVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBbiBvYmplY3QgaXMgcmVmZXJlbmNpbmcgYW4gZWxlbWVudCBvdXQgb2YgaXRzIHNjb3BlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBtb2R1bGUgcmVzcG9uc2libGUgZm9yIHZhbGlkYXRpbmcgdGhlIGlucHV0LlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgeyBvcHRpb25zLCBmb3JiaWRkZW5PcHRpb25zLCBnZXRTdWJPcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiO1xyXG5pbXBvcnQgSW52YWxpZFRlbXBsYXRlT3B0aW9uRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uTmFtZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkT3B0aW9uTmFtZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uVHlwZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkT3B0aW9uVHlwZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZE9wdGlvblZhbHVlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRTdWJPcHRpb25OYW1lRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvclwiO1xyXG5pbXBvcnQgSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkUmVmZXJlbmNlT3B0aW9uVmFsdWVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRSZWZlcmVuY2VFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkVGVtcGxhdGVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFRlbXBsYXRlRXJyb3JcIjtcclxuaW1wb3J0IHsgUmVmZXJlbmNlVHlwZSB9IGZyb20gXCIuL3JlZmVyZW5jZXJcIjtcclxuaW1wb3J0IHsgZ2V0VGVtbWVJZCB9IGZyb20gXCIuL2lkZmllclwiO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHkgfSBmcm9tIFwiLi9tb2RlbHMvSGllcmFyY2h5XCI7XHJcbmltcG9ydCBJbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yXCI7XHJcbmltcG9ydCBSZWZlcmVuY2VPdXRPZlJhbmdlRXJyb3IgZnJvbSBcIi4vZXJyb3JzL1JlZmVyZW5jZU91dE9mU2NvcGVFcnJvclwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYW4gb2JqZWN0IGlzIGEgdmFsaWQgaGllcmFyY2h5IG9iamVjdC5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIG9iamVjdCB0byBjaGVjay5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ZhbGlkSGllcmFyY2h5ID0gKGhpZXJhcmNoeTogT2JqZWN0KTogYm9vbGVhbiA9PiBoaWVyYXJjaHkgIT0gbnVsbCAmJiB0eXBlb2YgaGllcmFyY2h5ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShoaWVyYXJjaHkpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYW4gb2JqZWN0IGlzIGEgdmFsaWQgSFRNTCBlbGVtZW50LlxyXG4gKiBcclxuICogQHBhcmFtIHRhcmdldCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGlzVmFsaWRIVE1MRWxlbWVudCA9ICh0YXJnZXQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiA9PiB0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSBvcHRpb25zIGluIGEgaGllcmFyY2h5IG9iamVjdCBmb3IgYW55XHJcbiAqIG9wdGlvbnMgaXQgaGFzIG9yIHZhbHVlcyBpdCBjb250YWlucy5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdG8gdmFsaWRhdGUgdGhlIG9wdGlvbnMgZm9yLlxyXG4gKiBcclxuICogQHRocm93cyBJbnZhbGlkT3B0aW9uTmFtZUVycm9yLCBJbnZhbGlkT3B0aW9uVHlwZUVycm9yLCBJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciwgSW52YWxpZFN1Yk9wdGlvbk5hbWVFcnJvciwgSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvciwgSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3IsIEludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKGhpZXJhcmNoeTogYW55KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gTG9vcGluZyB0aHJvdWdoIHRoZSBoaWVyYXJjaHkncyBvcHRpb25zLlxyXG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgICAgIG1hdGNoaW5nT3B0aW9uOiBPcHRpb24gPSA8T3B0aW9uPm9wdGlvbnMuZmlsdGVyKChvcHQ6IE9wdGlvbikgPT4gb3B0LmxhYmVsID09PSBvcHRpb24pWzBdLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uVmFsdWU6IGFueSA9IGhpZXJhcmNoeVtvcHRpb25dO1xyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvbk5hbWUobWF0Y2hpbmdPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25OYW1lRXJyb3Iob3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgdHlwZS5cclxuICAgICAgICAgICAgY29uc3QgdHlwZVZhbGlkYXRpb246IHsgdmFsaWQ6IGJvb2xlYW4sIHR5cGU6IHN0cmluZyB9ID0gT3B0aW9uLnZhbGlkYXRlT3B0aW9uVHlwZShvcHRpb25WYWx1ZSwgbWF0Y2hpbmdPcHRpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVWYWxpZGF0aW9uLnZhbGlkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25UeXBlRXJyb3Iob3B0aW9uLCB0eXBlVmFsaWRhdGlvbi50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgdmFsdWUuXHJcbiAgICAgICAgICAgIGlmIChPcHRpb24udmFsaWRhdGVPcHRpb25WYWx1ZShvcHRpb25WYWx1ZSwgbWF0Y2hpbmdPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25WYWx1ZUVycm9yKG9wdGlvbiwgb3B0aW9uVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXBlYXRpbmcgdGhlIHNhbWUgY2hlY2sgZm9yIG9wdGlvbnMgdGhhdCBoYXZlIGtleXMuXHJcbiAgICAgICAgICAgIGlmICgna2V5cycgaW4gbWF0Y2hpbmdPcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBvcHRpb24ncyBzdWItb3B0aW9ucy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbnMgPSAoPElLZXlzPm1hdGNoaW5nT3B0aW9uKS5rZXlzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpbmcgdGhlIHN1Yi1vcHRpb25zLlxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVTdWJPcHRpb25zKG9wdGlvbiwgb3B0aW9uVmFsdWUsIHN1Yk9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0aW5nIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgaWYgKHZhbGlkYXRlUmVmZXJlbmNpbmdPcHRpb24oaGllcmFyY2h5KSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yKFwiVGhlIOKAnGZyb23igJ0gb3B0aW9uIG11c3QgYWx3YXlzIGhhdmUgYSDigJxyZWbigJ0gc3ViLW9wdGlvblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGNvbnRhaW5zIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LnRlbXBsYXRlcy5mb3JFYWNoKCh0ZW1wbGF0ZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVRlbXBsYXRlcyh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVwZWF0aW5nIHRoZSBzYW1lIGNoZWNrIGZvciB0aGUgaGllcmFyY2h5J3MgY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKCdjaGlsZE5vZGVzJyBpbiBoaWVyYXJjaHkpIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlT3B0aW9ucyhjaGlsZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSB0ZW1wbGF0ZXMgaW4gYSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKiBcclxuICogQHBhcmFtIHRlbXBsYXRlIFRoZSB0ZW1wbGF0ZSBvYmplY3QgdG8gdmFsaWRhdGUuXHJcbiAqIFxyXG4gKiBAdGhyb3dzIEludmFsaWRPcHRpb25OYW1lRXJyb3IsIEludmFsaWRPcHRpb25UeXBlRXJyb3IsIEludmFsaWRPcHRpb25WYWx1ZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvciwgSW52YWxpZFRlbXBsYXRlRXJyb3IsIEludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUZW1wbGF0ZXModGVtcGxhdGU6IGFueSk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGlmICghKCdyZWYnIGluIHRlbXBsYXRlKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFRlbXBsYXRlRXJyb3IoXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb29waW5nIHRocm91Z2ggdGhlIG9wdGlvbnMgb2YgdGhlIHRlbXBsYXRlLlxyXG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIHRlbXBsYXRlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGVtcGxhdGUgY29udGFpbnMgYW55IGludmFsaWQgb3B0aW9ucy5cclxuICAgICAgICAgICAgaWYgKGZvcmJpZGRlbk9wdGlvbnMuaW5kZXhPZihvcHRpb24pID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvcihvcHRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVPcHRpb25zKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSByZWZlcmVuY2VzIGluIHRoZSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byB2YWxpZGF0ZSB0aGUgcmVmZXJlbmNlcyBmb3IuXHJcbiAqIEBwYXJhbSByZWZlcmVuY2VzIFRoZSB2YWxpZCByZWZlcm5jZXMuXHJcbiAqIFxyXG4gKiBAdGhyb3dzIEludmFsaWRSZWZlcmVuY2VFcnJvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVmZXJlbmNlcyhoaWVyYXJjaHk6IGFueSwgcmVmZXJlbmNlczogQXJyYXk8UmVmZXJlbmNlVHlwZT4pOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUg4oCccmVm4oCdIG9wdGlvbiBzdGFydHMgd2l0aCB0aGUg4oCcQOKAnSBzeW1ib2wuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5yZWZbMF0gPT09ICdAJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IoXCJcIik7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgb2JqZWN0IGlzIHJlZmVyZW5jaW5nIGFuIG91dGVyIGVsZW1lbnQuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5mcm9tLnJlZlswXSA9PT0gJ0AnKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6IHN0cmluZyA9ICg8c3RyaW5nPmhpZXJhcmNoeS5mcm9tLnJlZikuc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IoYE5vIG91dGVyIGVsZW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIHNlbGVjdG9yIOKAnCR7c2VsZWN0b3J94oCdYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgb2YgdGhlIHJlZmVyZW5jZSBleGlzdHMuXHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVJlZmVyZW5jZShoaWVyYXJjaHksIHJlZmVyZW5jZXMpID09PSBmYWxzZSAmJiBoaWVyYXJjaHkuZnJvbS5yZWYgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVmZXJlbmNlRXJyb3IoaGllcmFyY2h5LmZyb20ucmVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZDogSGllcmFyY2h5KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVSZWZlcmVuY2VzKGNoaWxkLCByZWZlcmVuY2VzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBoYXMgYW55IHRlbXBsYXRlcy5cclxuICAgICAgICBpZiAoJ3RlbXBsYXRlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS50ZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LnRlbXBsYXRlcy5mb3JFYWNoKCh0ZW1wbGF0ZTogYW55KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVSZWZlcmVuY2VzKHRlbXBsYXRlLCByZWZlcmVuY2VzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYSBwYXNzZWQgcmVmZXJlbmNlLlxyXG4gKiBcclxuICogQHBhcmFtIHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIHRvIHZhbGlkYXRlLlxyXG4gKiBAcGFyYW0gcmVmZXJlbmNlcyBUaGUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICovXHJcbmNvbnN0IHZhbGlkYXRlUmVmZXJlbmNlID0gKGhpZXJhcmNoeTogYW55LCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPik6IGJvb2xlYW4gPT4gcmVmZXJlbmNlcy5maWx0ZXIoKHJlZjogUmVmZXJlbmNlVHlwZSkgPT4gcmVmLmhpZXJhcmNoeS5yZWYgPT09IGhpZXJhcmNoeS5mcm9tLnJlZiAmJiBnZXRUZW1tZUlkKGhpZXJhcmNoeSkgIT09IGdldFRlbW1lSWQocmVmLmhpZXJhcmNoeSkpWzBdICE9IG51bGw7XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRlbXBsYXRlcyBhcmUgcmVmZXJlbmNpbmcgbm9uLXRlbXBsYXRlIGVsZW1lbnRcclxuICogb3Igbm90LCBpbiB3aGljaCBjYXNlLCBhbiBlcnJvciBpcyB0aHJvd24uXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gdmFsaWRhdGUgdGhlIHRlbXBsYXRlIGluaGVyaXRhbmNlIGZvci5cclxuICogQHBhcmFtIHJlZmVyZW5jZXMgVGhlcmUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICogXHJcbiAqIEB0aHJvd3MgSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGVtcGxhdGVSZWZlcmVuY2UoaGllcmFyY2h5OiBhbnksIHJlZmVyZW5jZXM6IEFycmF5PFJlZmVyZW5jZVR5cGU+KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gR2V0dGluZyB0aGUgdGVtcGxhdGVzLlxyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IGhpZXJhcmNoeS50ZW1wbGF0ZXM7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZXJlIGFyZSBhbnkgdmFsaWQgdGVtcGxhdGVzLlxyXG4gICAgICAgIGlmICh0ZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgdGVtcGxhdGVzLmZvckVhY2goKHRlbXBsYXRlOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGVtcGxhdGUncyByZWZlcmVuY2luZyB2YWx1ZSBpcyB2YWxpZC5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5mcm9tLnJlZi5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZWRFbGVtZW50OiBhbnkgPSByZWZlcmVuY2VzLmZpbHRlcigocmVmOiBSZWZlcmVuY2VUeXBlKSA9PiAoPEhpZXJhcmNoeT5yZWYuaGllcmFyY2h5KS5yZWYgPT09IHRlbXBsYXRlLmZyb20ucmVmKVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUZW1wbGF0ZTogYm9vbGVhbiA9IGdldFRlbW1lSWQocmVmZXJlbmNlZEVsZW1lbnQuaGllcmFyY2h5KS5sZW5ndGggPT09IDQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZW1wbGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvcih0ZW1wbGF0ZS5yZWYsIHRlbXBsYXRlLmZyb20ucmVmKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdmFsaWRhdGVUZW1wbGF0ZVJlZmVyZW5jZShjaGlsZCwgcmVmZXJlbmNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIGEgaGllcmFyY2h5IG9iamVjdCBpcyByZWZlcmVuY2luZyBpdHMgY2hpbGQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gdmFsaWRhdGUuXHJcbiAqIEBwYXJhbSByZWZlcmVuY2VzIFRoZXJlIHZhbGlkIHJlZmVyZW5jZXMuXHJcbiAqIEBwYXJhbSBkZXB0aCBUaGUgZGVwdGggb2YgdGhlIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlKGhpZXJhcmNoeTogYW55LCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPiwgZGVwdGg6IG51bWJlciA9IDApOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCByZWY6IHN0cmluZyA9IGhpZXJhcmNoeS5mcm9tLnJlZjtcclxuXHJcbiAgICAgICAgLy8gSW5jcmVtZW50aW5nIHRoZSBkZXB0aFxyXG4gICAgICAgIGRlcHRoKys7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSByZWZlcmVuY2UgaXMgdmFsaWQuXHJcbiAgICAgICAgaWYgKHJlZiAhPT0gXCJcIiAmJiByZWZbMF0gIT09ICdAJykge1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgcmVmZXJlbmNlZCBoaWVyYXJjaHkuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZWRIaWVyYXJjaHk6IFJlZmVyZW5jZVR5cGUgPSByZWZlcmVuY2VzLmZpbHRlcigocmVmT2JqZWN0OiBSZWZlcmVuY2VUeXBlKSA9PiAoPEhpZXJhcmNoeT5yZWZPYmplY3QuaGllcmFyY2h5KS5yZWYgPT09IHJlZiAmJiBkZXB0aCA+PSByZWZPYmplY3QuZGVwdGgpWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZWRIaWVyYXJjaHkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZU91dE9mUmFuZ2VFcnJvcihcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZDogSGllcmFyY2h5KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlKGNoaWxkLCByZWZlcmVuY2VzLCBkZXB0aCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkudGVtcGxhdGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS50ZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGU6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlUGFyZW50VG9DaGlsZFJlZmVyZW5jZSh0ZW1wbGF0ZSwgcmVmZXJlbmNlcywgZGVwdGgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBjYXRjaChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSBzdWItb3B0aW9ucyBvZiBhbm90aGVyIG9wdGlvbi5cclxuICogQHBhcmFtIG9wdGlvbk5hbWUgVGhlIG5hbWUgb2YgdGhlIG9wdGlvbiB0byB2YWxpZGF0ZSB0aGUgc3ViLW9wdGlvbnMgZm9yLiBcclxuICogQHBhcmFtIG9wdGlvblZhbHVlIFRoZSBzdWItb3B0aW9ucyB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHN1Yk9wdGlvbnMgVGhlIGV4cGVjdGVkIHN1Yi1vcHRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVTdWJPcHRpb25zKG9wdGlvbk5hbWU6IHN0cmluZywgb3B0aW9uVmFsdWU6IGFueSwgc3ViT3B0aW9uczogSUtleXMpOiB2b2lkIHtcclxuXHJcbiAgICAvLyBMb29waW5nIHRocm91Z2ggdGhlIGV4cGVjdGVkIHN1Yi1vcHRpb25zLlxyXG4gICAgZm9yIChjb25zdCBzdWJPcHRpb24gaW4gb3B0aW9uVmFsdWUpIHtcclxuXHJcbiAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgbWF0Y2hpbmdTdWJPcHRpb246IE9wdGlvbiA9IGdldFN1Yk9wdGlvbnMob3B0aW9uTmFtZSkuZmlsdGVyKChzdWJPcHRpb25zOiBPcHRpb24pID0+IHN1Yk9wdGlvbnMubGFiZWwgPT09IHN1Yk9wdGlvbilbMF0sXHJcbiAgICAgICAgICAgIHN1Yk9wdGlvblZhbHVlOiBhbnkgPSBvcHRpb25WYWx1ZVtzdWJPcHRpb25dO1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiBhIHN1Yi1vcHRpb24gaXMgaW4gdGhlIHBhcmVudCBvcHRpb24uXHJcbiAgICAgICAgaWYgKHN1Yk9wdGlvbiBpbiBzdWJPcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0aW5nIHRoZSBzdWItb3B0aW9uJ3MgbmFtZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvbk5hbWUobWF0Y2hpbmdTdWJPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdWJPcHRpb25OYW1lRXJyb3Iob3B0aW9uTmFtZSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgc3ViLW9wdGlvbnMncyBkYXRhIHR5cGUuXHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGVWYWxpZGF0aW9uOiB7IHZhbGlkOiBib29sZWFuLCB0eXBlOiBzdHJpbmcgfSA9IE9wdGlvbi52YWxpZGF0ZU9wdGlvblR5cGUoc3ViT3B0aW9uVmFsdWUsIG1hdGNoaW5nU3ViT3B0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlVmFsaWRhdGlvbi52YWxpZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yKHN1Yk9wdGlvbiwgdHlwZVZhbGlkYXRpb24udHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRpbmcgdGhlIHN1Yi1vcHRpb24ncyB2YWx1ZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvblZhbHVlKHN1Yk9wdGlvblZhbHVlLCBtYXRjaGluZ1N1Yk9wdGlvbikgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3Ioc3ViT3B0aW9uLCBzdWJPcHRpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgna2V5cycgaW4gbWF0Y2hpbmdTdWJPcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBvcHRpb24ncyBzdWItb3B0aW9ucy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvblZhbHVlID0gb3B0aW9uVmFsdWVbc3ViT3B0aW9uXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVN1Yk9wdGlvbnMoc3ViT3B0aW9uLCBzdWJPcHRpb25WYWx1ZSwgKDxJS2V5cz5tYXRjaGluZ1N1Yk9wdGlvbikua2V5cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yKG9wdGlvbk5hbWUsIHN1Yk9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB0aGUgcmVmZXJlbmNlcyBpbiBhIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRvIHZhbGlkYXRlIHRoZSByZWZlcmVuY2VzIGZvci5cclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUmVmZXJlbmNpbmdPcHRpb24oaGllcmFyY2h5OiBhbnkpOiBib29sZWFuIHtcclxuXHJcbiAgICBpZiAoJ2Zyb20nIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICByZXR1cm4gJ3JlZicgaW4gaGllcmFyY2h5LmZyb207XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFdoYXQncyByZXNwb25zaWJsZSBmb3Igc2FuaXRpemluZyB0aGUgaW5wdXRcclxuICogYW5kIHBvcHVsYXRpbmcgdGhlIGRlZmF1bHRzLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgeyBvcHRpb25zLCBmb3JiaWRkZW5PcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgYSBoaWVyYXJjaHkgb2JqZWN0IGludG8gYW4gYXByb3ByaWF0ZSBvbmUuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRvIHNhbml0aXplLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplKGhpZXJhcmNoeTogYW55KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gTG9vcGluZyB0aHJvdWdoIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cclxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdDogT3B0aW9uKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShvcHQubGFiZWwgaW4gaGllcmFyY2h5KSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBvcHVsYXRpbmcgYSBkZWZhdWx0LlxyXG4gICAgICAgICAgICAgICAgaGllcmFyY2h5W29wdC5sYWJlbF0gPSBvcHQuZGVmYXVsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYW5pdGl6aW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKCdrZXlzJyBpbiBvcHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHQpLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbjogT3B0aW9uID0gKDxJS2V5cz5vcHQpLmtleXNba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbml0aXppbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplT3B0aW9uKGhpZXJhcmNoeVsoPE9wdGlvbj5vcHQpLmxhYmVsXSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92aW5nIGR1cGxpY2F0ZXMuXHJcbiAgICAgICAgaGllcmFyY2h5LmNsYXNzZXMgPSBoaWVyYXJjaHkuY2xhc3Nlcy5maWx0ZXIoKGNsczogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiBoaWVyYXJjaHkuY2xhc3Nlcy5pbmRleE9mKGNscykgPT09IGluZGV4KTtcclxuXHJcbiAgICAgICAgLy8gU29ydGluZyB0aGUgY2xhc3Nlcy5cclxuICAgICAgICBoaWVyYXJjaHkuY2xhc3Nlcy5zb3J0KCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgaGFzIGNoaWxkcmVuLlxyXG4gICAgICAgIGlmICgnY2hpbGROb2RlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBoYXMgdGVtcGxhdGVzLlxyXG4gICAgICAgIGlmICgndGVtcGxhdGVzJyBpbiBoaWVyYXJjaHkgJiYgaGllcmFyY2h5LnRlbXBsYXRlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkudGVtcGxhdGVzLmZvckVhY2goKHRlbXBsYXRlOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZVRlbXBsYXRlKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgYW4gb3B0aW9uLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byBzYW5pdGl6ZSB0aGUgb3B0aW9uIGZvci5cclxuICogQHBhcmFtIG9wdGlvbiBUaGUgb3B0aW9uIHRvIHNhbml0aXplLlxyXG4gKi9cclxuZnVuY3Rpb24gc2FuaXRpemVPcHRpb24oaGllcmFyY2h5OiBhbnksIG9wdGlvbjogT3B0aW9uKTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgaWYgKCEob3B0aW9uLmxhYmVsIGluIGhpZXJhcmNoeSkpIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeVtvcHRpb24ubGFiZWxdID0gb3B0aW9uLmRlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJ2tleXMnIGluIG9wdGlvbikge1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHRpb24pLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YkhpZXJhcmNoeTogYW55ID0gaGllcmFyY2h5Wyg8T3B0aW9uPm9wdGlvbikubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Yk9wdGlvbiA9ICg8SUtleXM+b3B0aW9uKS5rZXlzW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgc2FuaXRpemVPcHRpb24oc3ViSGllcmFyY2h5LCBzdWJPcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgdGVtcGxhdGVzLlxyXG4gKiBcclxuICogQHBhcmFtIHRlbXBsYXRlIFRoZSB0ZW1wbGF0ZSB0byBzYW5pdGl6ZS5cclxuICovXHJcbmZ1bmN0aW9uIHNhbml0aXplVGVtcGxhdGUodGVtcGxhdGU6IGFueSk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIExvb3BpbmcgdGhyb3VnaCB0aGUgYWxsb3dlZCBvcHRpb25zIGluIHRlbXBsYXRlcy5cclxuICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKG9wdDogT3B0aW9uKSA9PiBmb3JiaWRkZW5PcHRpb25zLmluZGV4T2Yob3B0LmxhYmVsKSA9PT0gLTEpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChvcHQ6IE9wdGlvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNraW5nIG9mIHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IGhhdmUgYSBzYWlkIG9wdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmICghKG9wdC5sYWJlbCBpbiB0ZW1wbGF0ZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9wdWxhdGluZyBhIGRlZmF1bHQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVbb3B0LmxhYmVsXSA9IG9wdC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FuaXRpemluZyB0aGUgc3ViLW9wdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ2tleXMnIGluIG9wdCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHQpLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViT3B0aW9uOiBPcHRpb24gPSAoPElLZXlzPm9wdCkua2V5c1trZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbml0aXppbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW5pdGl6ZU9wdGlvbih0ZW1wbGF0ZVsoPE9wdGlvbj5vcHQpLmxhYmVsXSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBXaGF0IHByb2Nlc3NlcyBhbGwgb2YgdGhlIHJlZmVyZW5jZXMuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gXCIuL21vZGVscy9IaWVyYXJjaHlcIjtcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tIFwiLi9tb2RlbHMvVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGVSZWZlcmVuY2VzLCB2YWxpZGF0ZVRlbXBsYXRlUmVmZXJlbmNlLCB2YWxpZGF0ZVBhcmVudFRvQ2hpbGRSZWZlcmVuY2UgfSBmcm9tIFwiLi92YWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgZ2V0VGVtbWVJZCB9IGZyb20gXCIuL2lkZmllclwiO1xyXG5pbXBvcnQgeyBvcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiO1xyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG4vKipcclxuICogVGhlIHJlZmVyZW5jZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgUmVmZXJlbmNlVHlwZSA9IHsgZGVwdGg6IG51bWJlciwgaGllcmFyY2h5OiBhbnkgfTtcclxuXHJcblxyXG4vKipcclxuICogVGFrZXMgY2FyZSBvZiBhbGwgdGhlIGluaGVyaXRhbmNlIGFuZCByZWZlcmVuY2VzIHN0dWZmLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IHRvIHByb2Nlc3MgdGhlIHJlZmVyZW5jZXMgZm9yLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3MoaGllcmFyY2h5OiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPiA9IGdldFJlZmVyZW5jZXMoaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgLy8gVmFsaWRhdGluZyBhbGwgb2YgdGhlIHJlZmVyZWNlcy5cclxuICAgICAgICB2YWxpZGF0ZVJlZmVyZW5jZXMoaGllcmFyY2h5LCByZWZlcmVuY2VzKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGVtcGxhdGVzIGFyZSBpbmhlcml0aW5nIGhpZXJhcmNoeSBvYmplY3RzLlxyXG4gICAgICAgIHZhbGlkYXRlVGVtcGxhdGVSZWZlcmVuY2UoaGllcmFyY2h5LCByZWZlcmVuY2VzKTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgYSBwYXJlbnQgaXMgdHJ5aW5nIHRvIHJlZmVyZW5jZSB0aGVpciBjaGlsZGVybi5cclxuICAgICAgICB2YWxpZGF0ZVBhcmVudFRvQ2hpbGRSZWZlcmVuY2UoaGllcmFyY2h5LCByZWZlcmVuY2VzKTtcclxuXHJcbiAgICAgICAgLy8gUHJvY2Vzc2luZyB0ZW1wbGF0ZSByZWZlcmVuY2VzLlxyXG4gICAgICAgIHByb2Nlc3NUZW1wbGF0ZXMoaGllcmFyY2h5LCByZWZlcmVuY2VzLmZpbHRlcigocmVmOiBSZWZlcmVuY2VUeXBlKSA9PiBpc1RlbXBsYXRlKHJlZi5oaWVyYXJjaHkpKSk7XHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3NpbmcgaGllcmFyY2hpZXMgKG5vbi10ZW1wbGF0ZSkgcmVmZXJlbmNlcy5cclxuICAgICAgICBwcm9jZXNzSGllcmFyY2hpZXMoaGllcmFyY2h5LCByZWZlcmVuY2VzKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGEgaGllcmFyY2h5IGlzIGEgdGVtcGxhdGUgb3Igbm90LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IHRvIGNoZWNrLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGlzVGVtcGxhdGUgPSAoaGllcmFyY2h5OiBhbnkpOiBib29sZWFuID0+IGdldFRlbW1lSWQoaGllcmFyY2h5KS5sZW5ndGggPT09IDQ7XHJcblxyXG5cclxuLyoqXHJcbiAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHJlZmVyZW5jZXMgZm9yIHRlbXBsYXRlIGhpZXJhcmNoaWVzLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IHRoYXQgY29udGFpbiB0ZW1wbGF0ZXMgdG8gcmVmZXJlbmNlLlxyXG4gKiBAcGFyYW0gcmVmZXJlbmNlcyBUaGUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICovXHJcbmZ1bmN0aW9uIHByb2Nlc3NUZW1wbGF0ZXMoaGllcmFyY2h5OiBhbnksIHJlZmVyZW5jZXM6IEFycmF5PFJlZmVyZW5jZVR5cGU+KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkudGVtcGxhdGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS50ZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGU6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5mcm9tLnJlZiAhPT0gXCJcIikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0ZW1wbGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgcHJvcGVyIG9wdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbjogYW55ID0gb3B0aW9ucy5maWx0ZXIoKG9wdDogT3B0aW9uKSA9PiBvcHQubGFiZWwgPT09IGtleSlbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VkSGllcmFyY2h5OiBSZWZlcmVuY2VUeXBlID0gcmVmZXJlbmNlcy5maWx0ZXIoKHJlZjogUmVmZXJlbmNlVHlwZSkgPT4gcmVmLmhpZXJhcmNoeS5yZWYgPT09IHRlbXBsYXRlLmZyb20ucmVmKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluaGVyaXRpbmcgdGhlIHZhbHVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24uaW5oZXJpdCh0ZW1wbGF0ZSwgcmVmZXJlbmNlZEhpZXJhcmNoeS5oaWVyYXJjaHlba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGhhcyBhbnkgY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKCdjaGlsZE5vZGVzJyBpbiBoaWVyYXJjaHkgJiYgaGllcmFyY2h5LmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQ6IEhpZXJhcmNoeSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHByb2Nlc3NUZW1wbGF0ZXMoY2hpbGQsIHJlZmVyZW5jZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHJlZmVyZW5jZXMgZm9yIGhpZXJhcmNoeSBvYmplY3RzIChub24tdGVtcGxhdGVzKS5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoaWVzIHRvIHJlZmVyZW5jZS5cclxuICogQHBhcmFtIHJlZmVyZW5jZSBUaGUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICovXHJcbmZ1bmN0aW9uIHByb2Nlc3NIaWVyYXJjaGllcyhoaWVyYXJjaHk6IGFueSwgcmVmZXJlbmNlczogQXJyYXk8UmVmZXJlbmNlVHlwZT4pOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBoYXMgYW55IGNoaWxkcmVuLlxyXG4gICAgICAgIGlmICgnY2hpbGROb2RlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBIaWVyYXJjaHkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzSGllcmFyY2hpZXMoY2hpbGQsIHJlZmVyZW5jZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaWVyYXJjaHkuZnJvbS5yZWYgIT09IFwiXCIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGFuIG91dGVyIGVsZW1lbnQgaXMgcmVmZXJlbmNlZC5cclxuICAgICAgICAgICAgaWYgKGhpZXJhcmNoeS5mcm9tLnJlZlswXSA9PT0gXCJAXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yID0gaGllcmFyY2h5LmZyb20ucmVmLnN1YnN0cmluZygxKSxcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGllcmFyY2h5KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHByb3BlciBvcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uOiBhbnkgPSBvcHRpb25zLmZpbHRlcigob3B0OiBPcHRpb24pID0+IG9wdC5sYWJlbCA9PT0ga2V5KVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBvcHRpb24uZ2V0S2V5RnJvbUVsZW1lbnQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmhlcml0aW5nIHRoZSB2YWx1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLmluaGVyaXQoaGllcmFyY2h5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZWRIaWVyYXJjaHk6IFJlZmVyZW5jZVR5cGUgPSByZWZlcmVuY2VzLmZpbHRlcigocmVmOiBSZWZlcmVuY2VUeXBlKSA9PiByZWYuaGllcmFyY2h5LnJlZiA9PT0gaGllcmFyY2h5LmZyb20ucmVmKVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBoaWVyYXJjaHkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgcHJvcGVyIG9wdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb246IE9wdGlvbiA9IG9wdGlvbnMuZmlsdGVyKChvcHQ6IE9wdGlvbikgPT4gb3B0LmxhYmVsID09PSBrZXkpWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJbmhlcml0aW5nIHRoZSB2YWx1ZS5cclxuICAgICAgICAgICAgICAgICAgICBvcHRpb24uaW5oZXJpdChoaWVyYXJjaHksIHJlZmVyZW5jZWRIaWVyYXJjaHkuaGllcmFyY2h5W2tleV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBHZXR0aW5nIGFsbCB0aGUgcmVmZXJlbmNlcyBpbiBhIHNhaWQgaGllcmFyY2h5LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byBnZXQgdGhlIHJlZmVyZW5jZXMgZnJvbS5cclxuICogQHBhcmFtIGRlcHRoIFRoZSBjdXJyZW50IGRlcHRoIGluIHRoZSBzYWlkIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRSZWZlcmVuY2VzKGhpZXJhcmNoeTogYW55LCBkZXB0aDogbnVtYmVyID0gMCk6IEFycmF5PFJlZmVyZW5jZVR5cGU+IHtcclxuXHJcbiAgICBjb25zdCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPiA9IFtdO1xyXG5cclxuICAgIC8vIEluY3JlbWVudGluZyB0aGUgZGVwdGguXHJcbiAgICBkZXB0aCsrO1xyXG5cclxuICAgIC8vIENoZWNraW5nIGlmIHRoZSByZWZlcmVuY2UgaXMgdmFsaWQuXHJcbiAgICBpZiAoaGllcmFyY2h5LnJlZiAhPT0gXCJcIikge1xyXG5cclxuICAgICAgICByZWZlcmVuY2VzLnB1c2goe1xyXG4gICAgICAgICAgICBkZXB0aDogZGVwdGgsXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeTogaGllcmFyY2h5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgIGlmICgnY2hpbGROb2RlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQ6IEhpZXJhcmNoeSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgcmVmZXJlbmNlcy5wdXNoKC4uLmdldFJlZmVyZW5jZXMoY2hpbGQsIGRlcHRoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICBpZiAoJ3RlbXBsYXRlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS50ZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICBoaWVyYXJjaHkudGVtcGxhdGVzLmZvckVhY2goKHRlbXBsYXRlOiBUZW1wbGF0ZSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gU3Vic3RyYWN0aW5nIDEgdG8gbWFrZSB0ZW1wbGF0ZXMgb24gdGhlIHNhbWUgZGVwdGggbGV2ZWxcclxuICAgICAgICAgICAgLy8gYXMgdGhlaXIgaGllcmFyY2h5IHBhcmVudC5cclxuICAgICAgICAgICAgcmVmZXJlbmNlcy5wdXNoKC4uLmdldFJlZmVyZW5jZXModGVtcGxhdGUsIGRlcHRoIC0gMSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybmluZyBhbGwgZm91bmQgcmVmZXJlbmNlcy5cclxuICAgIHJldHVybiByZWZlcmVuY2VzO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBXaGF0IHBhcnNlcyB0aGUgaGllcmFyY2h5IHRvIGFuIEhUTUwgdHJlZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IHsgSGllcmFyY2h5IH0gZnJvbSAnLi9tb2RlbHMvSGllcmFyY2h5J1xyXG5pbXBvcnQgeyBnZXRUZW1tZUlkIH0gZnJvbSAnLi9pZGZpZXInO1xyXG5pbXBvcnQgeyBvcHRpb25zIH0gZnJvbSAnLi9vcHRpb25zJztcclxuaW1wb3J0IE9wdGlvbiwgeyBJUGFyc2VyIH0gZnJvbSAnLi9tb2RlbHMvT3B0aW9uJztcclxuXHJcblxyXG4vKipcclxuICogUGFyc2VzIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGludG8gYW4gSFRNTCBlbGVtZW50LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byBwYXJzZS5cclxuICogQHBhcmFtIHBhcmVudCBUaGUgSFRNTCBlbGVtZW50IHRvIGhvc3QgdGhlIHBhcnNlZCBlbGVtZW50LlxyXG4gKiBAcGFyYW0gbm9kZUNhbGxiYWNrIFRoZSBjYWxsYmFjayB0aGF0IGV4ZWN1dGVzIHdoZW5ldmVyIGFuIEhUTUwgZWxlbWVudCBoYXMgYmVlbiBjcmVhdGVkLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlKGhpZXJhcmNoeTogYW55LCBwYXJlbnQ6IEhUTUxFbGVtZW50LCBub2RlQ2FsbGJhY2s6ICh0ZW1tZUlkOiBzdHJpbmcsIGN1cnJlbnRIaWVyYXJjaHk6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIFBhcnNpbmcgdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBwYXJzZUVsZW1lbnQoaGllcmFyY2h5LCBwYXJlbnQpO1xyXG5cclxuICAgICAgICAvLyBFeGVjdXRpbmcgdGhlIG5vZGUgY2FsbGJhY2suXHJcbiAgICAgICAgbm9kZUNhbGxiYWNrKGdldFRlbW1lSWQoaGllcmFyY2h5KSwgaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZDogSGllcmFyY2h5KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFyc2UoY2hpbGQsIGVsZW1lbnQsIG5vZGVDYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ29udmVydHMgYSBoaWVyYXJjaHkgaW50byBhbiBIVE1MIGVsZW1lbnQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gcGFyc2UuXHJcbiAqIEBwYXJhbSBwYXJlbnQgVGhlIEhUTUwgZWxlbWVudCB0byBob3N0IHRoZSBwYXJzZWQgaGllcmFyY2h5LlxyXG4gKi9cclxuZnVuY3Rpb24gcGFyc2VFbGVtZW50KGhpZXJhcmNoeTogSGllcmFyY2h5LCBwYXJlbnQ6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIENyZWF0aW5nIGFuIEhUTUwgdGFnIG91dCBvZiB0aGUgaGllcmFyY2h5LlxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChoaWVyYXJjaHkubmFtZSk7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZGluZyB0aGUgYXBwcm9wcmlhdGUgdmFsdWVzLlxyXG4gICAgICAgIG9wdGlvbnMuZm9yRWFjaCgob3B0OiBPcHRpb24gfCBJUGFyc2VyKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mICg8SVBhcnNlcj5vcHQpLnBhcnNlID09PSAnZnVuY3Rpb24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgKDxJUGFyc2VyPm9wdCkucGFyc2UoZWxlbWVudCwgaGllcmFyY2h5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIEFwcGVuZGluZyB0aGUgY3JlYXRlZCBlbGVtZW50LlxyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuaW5nIHRoZSBwYXJzZWQgZWxlbWVudC5cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuICAgIGNhdGNoKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgaGllcmFyY2h5IG9iamVjdFxyXG4gKiBpcyBub3QgdmFsaWQuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRIaWVyYXJjaHlFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkSGllcmFyY2h5RXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiVGhlIGhpZXJhcmNoeSBvYmplY3QgaXMgbm90IHZhbGlkXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZS5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgdGFyZ2V0IGlzIG5vdCBhIHZhbGlkXHJcbiAqIEhUTUwgZWxlbWVudC5cclxuICovXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRUYXJnZXRFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkVGFyZ2V0RXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiVGhlIHRhcmdldCBpcyBub3QgYSB2YWxpZCBIVE1MIGVsZW1lbnRcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBcclxuICogQG5hbWU6ICAgICAgIHRlbW1lanNcclxuICogQHZlcnNpb246ICAgIDEuMC4wXHJcbiAqIEBhdXRob3I6ICAgICBFT3Vzc2FtYVxyXG4gKiBAbGljZW5zZSAgICAgTUlUXHJcbiAqIEBzb3VyY2U6ICAgICBodHRwczovL2dpdGh1Yi5jb20vRU91c3NhbWEvdGVtbWVqc1xyXG4gKiBcclxuICogVGVtbWUgKG9yIEVtbWV0IGluIHJldmVyc2UpIGlzIHRvIGphdmFzY3JpcHQgd2hhdCBFbW1ldCBpcyB0byBIVE1MIGFuZCBDU1MsXHJcbiAqIHdpdGggbm8gZG91YnRzLCBFbW1ldCBzYXZlZCB1cyBmcm9tIHRoZSBoZWFkYWNoZSBvZiB3b3JraW5nIHdpdGggSFRNTCBhbmQgQ1NTLCBcclxuICogYW5kIG5vdywgVGVtbWUgaXMgZG9pbmcgSmF2YXNjcmlwdCB0aGUgc2FtZSBmYXZvdXIgdG9vLlxyXG4gKiBcclxuICovXHJcblxyXG4gXHJcbmltcG9ydCAqIGFzIFZhbGlkYXRvciBmcm9tIFwiLi9tb2R1bGVzL3ZhbGlkYXRvclwiO1xyXG5pbXBvcnQgKiBhcyBTYW5pdGl6ZXIgZnJvbSBcIi4vbW9kdWxlcy9zYW5pdGl6ZXJcIjtcclxuaW1wb3J0ICogYXMgUmVmZXJlbmNlciBmcm9tIFwiLi9tb2R1bGVzL3JlZmVyZW5jZXJcIjtcclxuaW1wb3J0ICogYXMgUGFyc2VyIGZyb20gJy4vbW9kdWxlcy9wYXJzZXInO1xyXG5pbXBvcnQgKiBhcyBJZGZpZXIgZnJvbSBcIi4vbW9kdWxlcy9pZGZpZXJcIjtcclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4vbW9kdWxlcy9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5pbXBvcnQgSW52YWxpZEhpZXJhcmNoeUVycm9yIGZyb20gXCIuL21vZHVsZXMvZXJyb3JzL0ludmFsaWRIaWVyYXJjaHlFcnJvclwiO1xyXG5pbXBvcnQgSW52YWxpZFRhcmdldEVycm9yIGZyb20gXCIuL21vZHVsZXMvZXJyb3JzL0ludmFsaWRUYXJnZXRFcnJvclwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgZW50cnkgcG9pbnQgb2YgVGVtbWUsIGl0J3Mgd2hhdCBpbml0aWF0ZXMgZXZlcnl0aGluZ1xyXG4gKiBmcm9tIHNhbml0aXppbmcsIHRvIHBhcnNpbmcsIGxpa2UgYSBib3NzLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0aGF0IG1hcHMgdGhlIEhUTUwgc2tlbGV0b24uXHJcbiAqIEBwYXJhbSB0YXJnZXQgVGhlIEhUTUwgZWxlbWVudCB0aGF0IHdpbGwgaG9zdCB0aGUgcGFyc2VkIHNrZWxldG9uLlxyXG4gKiBAcGFyYW0gZW5kQ2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZXhlY3V0ZSB3aGVuIHRoZSBza2VsZXRvbiBoYXMgYmVlbiBwYXJzZWQuXHJcbiAqIEBwYXJhbSBub2RlQ2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZXhlY3V0ZXMgd2hlbmV2ZXIgYW4gZWxlbWVudCBoYXMgYmVlbiBwYXJzZWQuXHJcbiAqIFxyXG4gKiBAdGhyb3dzIEludmFsaWRUYXJnZXRFcnJvciwgSW52YWxpZEhpZXJhcmNoeUVycm9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UoaGllcmFyY2h5OiBPYmplY3QsIHRhcmdldDogSFRNTEVsZW1lbnQsIGVuZENhbGxiYWNrOiAocmVzdWx0ZWRIaWVyYXJjaHk6IGFueSkgPT4gdm9pZCA9IChoaWVyYXJjaHkpID0+IHt9LCBub2RlQ2FsbGJhY2s6ICh0ZW1tZUlkOiBzdHJpbmcsIGN1cnJlbnRIaWVyYXJjaHk6IGFueSkgPT4gdm9pZCA9ICgpID0+IHt9KTogT2JqZWN0IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGFyZ2V0IGlzIGEgdmFsaWQgSFRNTCBlbGVtZW50IGFuZCB0aHJvd2luZ1xyXG4gICAgICAgIC8vIGFuIGVycm9yIGlmIGl0J3Mgbm90LlxyXG4gICAgICAgIGlmICghVmFsaWRhdG9yLmlzVmFsaWRIVE1MRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVGFyZ2V0RXJyb3IoXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBpcyBhbmQgdGhyb3dpbmdcclxuICAgICAgICAvLyBhbiBlcnJvciBpZiBpdCdzIG5vdC5cclxuICAgICAgICBpZiAoIVZhbGlkYXRvci5pc1ZhbGlkSGllcmFyY2h5KGhpZXJhcmNoeSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRIaWVyYXJjaHlFcnJvcihcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGNvbnRhaW5zXHJcbiAgICAgICAgLy8gdmFsaWQgb3B0aW9ucy5cclxuICAgICAgICBWYWxpZGF0b3IudmFsaWRhdGVPcHRpb25zKGhpZXJhcmNoeSk7XHJcblxyXG4gICAgICAgIC8vIFNhbml0aXppbmcgdGhlIGhpZXJhcmNoeS5cclxuICAgICAgICBTYW5pdGl6ZXIuc2FuaXRpemUoaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgLy8gQXNzaWduaW5nIHRlbW1lSWRzIHRvIHRoZSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gICAgICAgIElkZmllci5pZGZ5KGhpZXJhcmNoeSk7XHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3NpbmcgYWxsIG9mIHRoZSByZWZlcmVuY2VzLlxyXG4gICAgICAgIFJlZmVyZW5jZXIucHJvY2VzcyhoaWVyYXJjaHkpO1xyXG5cclxuICAgICAgICAvLyBQYXJzaW5nIHRoZSBoaWVyYXJjaHkgaW50byBhbiBIVE1MIHRyZWUuXHJcbiAgICAgICAgUGFyc2VyLnBhcnNlKGhpZXJhcmNoeSwgdGFyZ2V0LCBub2RlQ2FsbGJhY2spO1xyXG5cclxuICAgICAgICAvLyBFeGVjdXRpbmcgdGhlIGVuZCBjYWxsYmFjay5cclxuICAgICAgICBlbmRDYWxsYmFjayhoaWVyYXJjaHkpO1xyXG5cclxuICAgICAgICAvLyBSZXR1cm5pbmcgdGhlIHJlc3VsdGVkIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAgICAgICAgcmV0dXJuIGhpZXJhcmNoeTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZGluZyBhIHRhZyBpbiBmcm9udCBvZiB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgICg8VGVtbXlFcnJvcj5lKS5tZXNzYWdlID0gYFtUZW1tZV06ICR7ZS5tZXNzYWdlfS5gO1xyXG5cclxuICAgICAgICAvLyBUaHJvd2luZyB0aGUgZXJyb3IuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9