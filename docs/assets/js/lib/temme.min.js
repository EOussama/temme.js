"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body;try{if(null==e||"object"!==_typeof(e)||Array.isArray(e))throw"The hierarchy must be a valid object.";if(null==r||!(r instanceof HTMLElement))throw"The target must be a valid HTML element.";var y=[];!function e(r,t){if("ref"in r){if(y.push({refElement:r,depth:t}),"children"in r){var n=!0,o=!1,i=void 0;try{for(var a,f=r.children[Symbol.iterator]();!(n=(a=f.next()).done);n=!0){e(a.value,++t)}}catch(e){o=!0,i=e}finally{try{n||null==f.return||f.return()}finally{if(o)throw i}}}}else if("children"in r){var l=!0,c=!1,s=void 0;try{for(var m,u=r.children[Symbol.iterator]();!(l=(m=u.next()).done);l=!0){e(m.value,++t)}}catch(e){c=!0,s=e}finally{try{l||null==u.return||u.return()}finally{if(c)throw s}}}}(e,0),function r(t,n){for(var e in t)switch(e){case"ref":if(null==t[e]||"string"!=typeof t[e])throw"The reference option must be a string.";case"from":if("from"in t){if(null==t.from||Array.isArray(t.from)||"object"!==_typeof(t.from))throw"The referencing option must be an object.";if(!("ref"in t.from))throw"The `ref` option is missing from the `from` object.";var o=y.filter(function(e){return e.refElement.ref===t.from.ref&&e.depth<n}).sort(function(e,r){return r.depth-e.depth})[0];if(void 0===o)throw"“".concat(t.from.ref,"” is not a valid reference.");if("mode"in t.from)switch(t.from.mode){case"append":var i=function(r){if(!["from","ref","name"].includes(r))if(Array.isArray(o.refElement[r]))"children"in t.from&&!0===t.from.children?t[r]=r in t?_toConsumableArray(t[r]).concat(_toConsumableArray(o.refElement[r].filter(function(e){return!t[r].includes(e)}))):o.refElement[r]:"children"!==r&&(t[r]=r in t?"attributes"===r?o.refElement[r]:_toConsumableArray(t[r]).concat(_toConsumableArray(o.refElement[r].filter(function(e){return!t[r].includes(e)}))):o.refElement[r]);else if("object"===_typeof(o.refElement[r]))for(var e in t[r]=t[r]||{},o.refElement[r])e in t[r]||(t[r][e]=o.refElement[r][e]);else t[r]=o.refElement[r]};for(var a in o.refElement)i(a);break;case"override":for(var a in o.refElement)"children"in t.from&&!0===t.from.children?["from","ref","name"].concat(_toConsumableArray(Object.keys(t))).includes(a)||(t[a]=o.refElement[a]):"children"!==a&&(["from","ref","name"].concat(_toConsumableArray(Object.keys(t))).includes(a)||(t[a]=o.refElement[a]));break;default:throw"“".concat(t.from.mode,"” is not a valid referencing mode.")}else{var f=function(r){["from","ref","name"].includes(r)||(Array.isArray(o.refElement[r])?"children"in t.from&&!0===t.from.children?t[r]=r in t?_toConsumableArray(t[r]).concat(_toConsumableArray(o.refElement[r].filter(function(e){return!t[r].includes(e)}))):o.refElement[r]:"children"!==r&&(t[r]=r in t?_toConsumableArray(t[r]).concat(_toConsumableArray(o.refElement[r].filter(function(e){return!t[r].includes(e)}))):o.refElement[r]):"object"===_typeof(o.refElement[r])?(t[r]=t[r]||{},Object.assign(t[r]||{},o.refElement[r])):t[r]=o.refElement[r])};for(var l in o.refElement)f(l)}}break;case"children":if("children"in t){if(null==t[e]||!Array.isArray(t.children))throw"The children option must be an array.";t.children.forEach(function(e){r(e,++n)})}}}(e,0),function t(r,n){for(var e in r)switch(e){case"name":if(!("name"in r)||null==r[e]||"string"!=typeof r[e])throw"The name option must be a valid string.";case"id":if("id"in r){if(null==r[e]||"string"!=typeof r[e])throw"The id option must be a string.";n.id=r[e]}break;case"classes":if("classes"in r){if(null==r[e]||!Array.isArray(r[e]))throw"The classes option must be an array.";n.classList=_toConsumableArray(n.classList).concat(_toConsumableArray(r[e])).sort().join(" ")}break;case"attributes":if("attributes"in r){if(null==r[e]||Array.isArray(r[e])||"object"!==_typeof(r[e]))throw"The attributes option must be a object.";Object.keys(r.attributes).forEach(function(e){n.setAttribute(e,r.attributes[e])})}break;case"dataset":if("dataset"in r){if(null==r[e]||Array.isArray(r[e])||"object"!==_typeof(r[e]))throw"The dataset option must be an object.";Object.assign(n.dataset,r.dataset||{})}break;case"text":if("text"in r){if(null==r[e]||"string"!=typeof r[e])throw"The text option must be a string.";n.textContent=r[e]}break;case"html":if("html"in r){if(null==r[e]||"string"!=typeof r[e])throw"The HTML option must be a string.";n.innerHTML=r[e]}break;case"children":if("children"in r){if(null==r[e]||!Array.isArray(r.children))throw"The children option must be an array.";r.children.forEach(function(e){var r=document.createElement(e.name||"div");t(e,r),n.appendChild(r)})}break;default:if(!["from","ref"].includes(e))throw"“".concat(e,"” is an invalid option.")}}(e,r)}catch(e){throw"[Temme JS]: ".concat(e)}}"undefined"!=typeof exports?module.exports=r:e.Temme=r}("undefined"!=typeof window?window:void 0);