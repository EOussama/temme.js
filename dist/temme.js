var Temme=function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=0)}([function(t,n,r){"use strict";r.r(n);var e,o=function(){function t(t,n,r,e){this.label=t,this.type=n,this.values=r,this.default=e}return t.validateOptionType=function(t,n){var r="";return{valid:(r=Array.isArray(t)?"array":typeof t)===n.type,type:r}},t.validateOptionValue=function(t,n){return!(null!=n&&n.values.length>0)||-1!==n.values.indexOf(t)},t.validateOptionName=function(t){return null!=t},t}(),i=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),c=function(t){function n(){return t.call(this,"ref","string",[],"")||this}return i(n,t),n}(o),u=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),a=function(t){function n(){return t.call(this,"name","string",[],"div")||this}return u(n,t),n}(o),f=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),s=function(t){function n(){return t.call(this,"id","string",[],"")||this}return f(n,t),n}(o),p=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),l=function(t){function n(){return t.call(this,"value","string",[],"")||this}return p(n,t),n}(o),h=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),y=function(t){function n(){return t.call(this,"type","string",["text","html"],"text")||this}return h(n,t),n}(o),_=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),v=function(t){function n(){var n=t.call(this,"content","object",[],{type:(new y).default,value:(new l).default})||this;return n.keys={type:new y,value:new l},n}return _(n,t),n}(o),O=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),m=function(t){function n(){return t.call(this,"temmeIds","array",[],[])||this}return O(n,t),n}(o),d=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),w=function(t){function n(){return t.call(this,"templates","array",[],[])||this}return d(n,t),n}(o),b=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),g=function(t){function n(){return t.call(this,"classes","array",[],[])||this}return b(n,t),n}(o),j=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),P=function(t){function n(){return t.call(this,"childNodes","array",[],[])||this}return j(n,t),n}(o),A=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),E=function(t){function n(){return t.call(this,"attributes","object",[],{})||this}return A(n,t),n}(o),T=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),N=function(t){function n(){return t.call(this,"dataset","object",[],{})||this}return T(n,t),n}(o),k=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),I=function(t){function n(){return t.call(this,"mode","string",["append","override"],"append")||this}return k(n,t),n}(o),x=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),M=function(t){function n(){return t.call(this,"placement","string",["after","before"],"after")||this}return x(n,t),n}(o),S=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),V=function(t){function n(){return t.call(this,"allow","boolean",[],!1)||this}return S(n,t),n}(o),R=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),H=function(t){function n(){var n=t.call(this,"children","object",[],{allow:(new V).default,placement:(new M).default})||this;return n.keys={allow:new V,placement:new M},n}return R(n,t),n}(o),q=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),z=function(t){function n(){var n=t.call(this,"from","object",[],{ref:(new c).default,mode:(new I).default,children:(new H).default})||this;return n.keys={ref:new c,mode:new I,children:new H},n}return q(n,t),n}(o),L=[new c,new a,new s,new v,new m,new w,new g,new P,new E,new N,new z],C=function(){var t=[];return L.forEach(function(n){if(t.push(n),"keys"in n){var r=function t(n){var r=[];for(var e in n.keys){var o=n.keys[e];if(r.push(o),"keys"in o){var i=t(o);r=r.concat(i)}}return r}(n);t=t.concat(r)}}),t}(),U=["name","childNodes","templates"];var B=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),D=function(t){function n(n){var r=t.call(this)||this;return r.name="TemmyError",r.message="Temme isn't feeling good",r.message=n.length>0?n:r.message,r}return B(n,t),n}(Error),F=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),G=function(t){function n(n){var r=t.call(this,"")||this;r.name="InvalidTemplateOptionError",r.message="A template has an invalid option";var e="“"+n+"” is not a valid option to use in templates";return r.message=n.length>0?e:r.message,r}return F(n,t),n}(D),J=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),K=function(t){function n(n){var r=t.call(this,"")||this;r.name="InvalidOptionNameError",r.message="An option is not valid";var e="“"+n+"” is not a valid option";return r.message=n.length>0?e:r.message,r}return J(n,t),n}(D),Q=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),W=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidOptionTypeError",e.message="An option doesn't have a valid value type";var o="The “"+n+"” option doesn't accept values of type “"+r+"”";return e.message=n.length>0?o:e.message,e}return Q(n,t),n}(D),X=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),Y=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidOptionValueError",e.message="An option doesn't have a valid value";var o="The “"+n+"” option doesn't accept “"+r+"” as a value";return e.message=n.length>0?o:e.message,e}return X(n,t),n}(D),Z=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),$=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidSubOptionNameError",e.message="A sub-option is not valid";var o="The “"+n+"” option doesn't not recognize “"+r+"” as a valid sub-option";return e.message=n.length>0||r.length>0?o:e.message,e}return Z(n,t),n}(D),tt=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),nt=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidSubOptionTypeError",e.message="A sub-option doesn't have a valid value type";var o="The “"+n+"” sub-option doesn't accept values of type “"+r+"”";return e.message=n.length>0||r.length>0?o:e.message,e}return tt(n,t),n}(D),rt=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),et=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidSubOptionValueError",e.message="A sub-option doesn't have a valid value";var o="The “"+n+"” sub-option doesn't accept “"+r+"” as a value";return e.message=n.length>0||r.length>0?o:e.message,e}return rt(n,t),n}(D),ot=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),it=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidReferencingOptionError",r.message="A referencing option is not valid",r.message=n.length>0?n:r.message,r}return ot(n,t),n}(D),ct=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),ut=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidReferenceOptionValueError",r.message="“ref” options must not begin with the “@” symbol",r.message=n.length>0?n:r.message,r}return ct(n,t),n}(D),at=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),ft=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidReferenceError",r.message="A reference is invalid",r.message=n.length>0?"“"+n+"” is an invalid reference":r.message,r}return at(n,t),n}(D),st=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),pt=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidTemplateError",r.message="A template does not have a “ref” option",r.message=n.length>0?n:r.message,r}return st(n,t),n}(D);function lt(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);try{var e=function(t){void 0===t&&(t=!1);for(var n="0123456789abcdefghijklmnopqrstuvwxyz",r=!1===t?6:4,e="",o=0;o<r;o++){var i=Math.floor(Math.random()*n.length),c=Math.floor(2*Math.random());e+=1===c?n[i].toUpperCase():n[i]}return e}(r);t.temmeIds=n.concat([e]),"childNodes"in t&&t.childNodes.forEach(function(n){lt(n,t.temmeIds)}),"templates"in t&&t.templates.forEach(function(n){lt(n,t.temmeIds,!0)})}catch(t){throw t}}var ht=function(t){return t.temmeIds[t.temmeIds.length-1]};var yt=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),_t=function(t){function n(n,r){var e=t.call(this,"")||this;e.name="InvalidTemplateReferencingError",e.message="Templates can only reference other templates.";var o="The template with the reference “"+n+"” is trying to reference “"+r+"” a non-template object";return e.message=n.length>0?o:e.message,e}return yt(n,t),n}(D),vt=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),Ot=function(t){function n(n){var r=t.call(this,"")||this;return r.name="ReferenceOutOfScopeError",r.message="An object is referencing an element out of its scope",r.message=n.length>0?n:r.message,r}return vt(n,t),n}(D),mt=function(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)},dt=function(t){return null!=t&&t instanceof HTMLElement};function wt(t){try{var n=function(n){var r=L.filter(function(t){return t.label===n})[0],e=t[n];if(!1===o.validateOptionName(r))throw new K(n);var i=o.validateOptionType(e,r);if(!1===i.valid)throw new W(n,i.type);if(!1===o.validateOptionValue(e,r))throw new Y(n,e);if("keys"in r){var c=r.keys;!function t(n,r,e){var i=function(i){var c=function(t){var n=[];return C.forEach(function(r){if("keys"in r&&r.label===t)for(var e in r.keys){var o=r.keys[e];n.push(o)}}),n}(n).filter(function(t){return t.label===i})[0],u=r[i];if(!(i in e))throw new $(n,i);if(!1===o.validateOptionName(c))throw new $(n,i);var a=o.validateOptionType(u,c);if(!1===a.valid)throw new nt(i,a.type);if(!1===o.validateOptionValue(u,c))throw new et(i,u);if("keys"in c){var f=r[i];t(i,f,c.keys)}};for(var c in r)i(c)}(n,e,c)}};for(var r in t)n(r);if(!1===function(t){if("from"in t)return"ref"in t.from;return!0}(t))throw new it("The “from” option must always have a “ref” sub-option");"templates"in t&&t.templates.forEach(function(t){!function(t){try{if(!("ref"in t))throw new pt("");for(var n in t){if(U.indexOf(n)>-1)throw new G(n);wt(t)}}catch(t){throw t}}(t)}),"childNodes"in t&&t.childNodes.forEach(function(t){wt(t)})}catch(t){throw t}}var bt=function(t,n){return null!=n.filter(function(n){return n.hierarchy.ref===t.from.ref&&ht(t)!==ht(n.hierarchy)})[0]};function gt(t){try{L.forEach(function(n){if(n.label in t){if("keys"in n)for(var r in n.keys){var e=n.keys[r];jt(t[n.label],e)}}else t[n.label]=n.default}),"childNodes"in t&&t.childNodes.length>0&&t.childNodes.forEach(function(t){gt(t)}),"templates"in t&&t.templates.length>0&&t.templates.forEach(function(t){!function(t){try{L.filter(function(t){return-1===U.indexOf(t.label)}).forEach(function(n){if(n.label in t){if("keys"in n)for(var r in n.keys){var e=n.keys[r];jt(t[n.label],e)}}else t[n.label]=n.default})}catch(t){throw t}}(t)})}catch(t){throw t}}function jt(t,n){try{if(n.label in t||(t[n.label]=n.default),"keys"in n)for(var r in n.keys){jt(t[n.label],n.keys[r])}}catch(t){throw t}}function Pt(t){try{var n=function t(n,r){void 0===r&&(r=0);var e=[];r++;""!==n.ref&&e.push({depth:r,hierarchy:n});"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){e.push.apply(e,t(n,r))});"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){e.push.apply(e,t(n,r-1))});return e}(t);!function t(n,r){try{if("@"===n.ref[0])throw new ut("");if("@"===n.from.ref[0]){var e=n.from.ref.substring(1);if(null==document.querySelector(e))throw new ut("No outer element corresponds to the selector “"+e+"”")}else if(!1===bt(n,r)&&""!==n.from.ref)throw new ft(n.from.ref);"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,r)}),"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){t(n,r)})}catch(t){throw t}}(t,n),function t(n,r){try{var e=n.templates;e.length>0&&e.forEach(function(t){if(t.from.ref.length>0){var n=r.filter(function(n){return n.hierarchy.ref===t.from.ref})[0];if(!1==(4===ht(n.hierarchy).length))throw new _t(t.ref,t.from.ref)}}),n.childNodes.forEach(function(n){t(n,r)})}catch(t){throw t}}(t,n),function t(n,r,e){void 0===e&&(e=0);try{var o=n.from.ref;if(e++,""!==o&&null==r.filter(function(t){return t.hierarchy.ref===o&&e>=t.depth})[0])throw new Ot("");"childNodes"in n&&n.childNodes.length>0&&n.childNodes.forEach(function(n){t(n,r,e)}),"templates"in n&&n.templates.length>0&&n.templates.forEach(function(n){t(n,r,e)})}catch(t){throw t}}(t,n)}catch(t){throw t}}var At=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),Et=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidHierarchyError",r.message="The hierarchy object is not valid",r.message=n.length>0?n:r.message,r}return At(n,t),n}(D),Tt=function(){var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(n,r)};return function(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),Nt=function(t){function n(n){var r=t.call(this,"")||this;return r.name="InvalidTargetError",r.message="The target is not a valid HTML element",r.message=n.length>0?n:r.message,r}return Tt(n,t),n}(D);function kt(t,n,r,e){void 0===r&&(r=function(t){});try{if(!dt(n))throw new Nt("");if(!mt(t))throw new Et("");return wt(t),gt(t),lt(t),Pt(t),function(t,n){try{console.log("parsing...")}catch(t){throw t}}(),r(t),t}catch(t){throw t.message="[Temme]: "+t.message+".",t}}r.d(n,"parse",function(){return kt})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9UZW1tZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9tb2RlbHMvT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvUmVmT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvTmFtZU9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0lkT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvVmFsdWVTdWJPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9zdWItb3B0aW9ucy9Db250ZW50VHlwZVN1Yk9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0NvbnRlbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9UZW1tZUlkc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL1RlbXBsYXRlc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0NsYXNzZXNPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9DaGlsZHJlbk5vZGVzT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvQXR0cmlidXRlc09wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL0RhdGFzZXRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvb3B0aW9ucy9zdWItb3B0aW9ucy9Nb2RlU3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvUGxhY2VtZW50U3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvc3ViLW9wdGlvbnMvQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zL3N1Yi1vcHRpb25zL0NoaWxkcmVuU3ViT3B0aW9uLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL29wdGlvbnMvRnJvbU9wdGlvbi50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9vcHRpb25zLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL21vZGVscy9UZW1teUVycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvbk5hbWVFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvblR5cGVFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZE9wdGlvblZhbHVlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkUmVmZXJlbmNpbmdPcHRpb25FcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRSZWZlcmVuY2VFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9lcnJvcnMvSW52YWxpZFRlbXBsYXRlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvaWRmaWVyLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9SZWZlcmVuY2VPdXRPZlNjb3BlRXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvdmFsaWRhdG9yLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL3Nhbml0aXplci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvbW9kdWxlcy9yZWZlcmVuY2VyLnRzIiwid2VicGFjazovL1RlbW1lL3NyYy9EOi9zY3JpcHRpbmcvVHlwZXNjcmlwdC90ZW1tZWpzL3NyYy9tb2R1bGVzL2Vycm9ycy9JbnZhbGlkSGllcmFyY2h5RXJyb3IudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvZXJyb3JzL0ludmFsaWRUYXJnZXRFcnJvci50cyIsIndlYnBhY2s6Ly9UZW1tZS9zcmMvRDovc2NyaXB0aW5nL1R5cGVzY3JpcHQvdGVtbWVqcy9zcmMvdGVtbWUudHMiLCJ3ZWJwYWNrOi8vVGVtbWUvc3JjL0Q6L3NjcmlwdGluZy9UeXBlc2NyaXB0L3RlbW1lanMvc3JjL21vZHVsZXMvcGFyc2VyLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibW9kZWxzX09wdGlvbiIsIk9wdGlvbiIsImxhYmVsIiwidHlwZSIsInZhbHVlcyIsImRlZmF1bHRWYWx1ZSIsInRoaXMiLCJkZWZhdWx0IiwidmFsaWRhdGVPcHRpb25UeXBlIiwibWF0Y2hpbmdPcHRpb24iLCJvcHRpb25UeXBlIiwidmFsaWQiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWxpZGF0ZU9wdGlvblZhbHVlIiwibGVuZ3RoIiwiaW5kZXhPZiIsInZhbGlkYXRlT3B0aW9uTmFtZSIsIl9zdXBlciIsIlJlZk9wdGlvbiIsIl9fZXh0ZW5kcyIsIk5hbWVPcHRpb24iLCJOYW1lT3B0aW9uX2V4dGVuZHMiLCJJZE9wdGlvbiIsIklkT3B0aW9uX2V4dGVuZHMiLCJWYWx1ZVN1Yk9wdGlvbiIsIlZhbHVlU3ViT3B0aW9uX2V4dGVuZHMiLCJDb250ZW50VHlwZVN1Yk9wdGlvbiIsIkNvbnRlbnRUeXBlU3ViT3B0aW9uX2V4dGVuZHMiLCJDb250ZW50T3B0aW9uIiwiX3RoaXMiLCJzdWJfb3B0aW9uc19Db250ZW50VHlwZVN1Yk9wdGlvbiIsInN1Yl9vcHRpb25zX1ZhbHVlU3ViT3B0aW9uIiwia2V5cyIsIkNvbnRlbnRPcHRpb25fZXh0ZW5kcyIsIlRlbW1lSWRzT3B0aW9uIiwiVGVtbWVJZHNPcHRpb25fZXh0ZW5kcyIsIlRlbXBsYXRlc09wdGlvbiIsIlRlbXBsYXRlc09wdGlvbl9leHRlbmRzIiwiQ2xhc3Nlc09wdGlvbiIsIkNsYXNzZXNPcHRpb25fZXh0ZW5kcyIsIkNoaWxkcmVuTm9kZXNPcHRpb24iLCJDaGlsZHJlbk5vZGVzT3B0aW9uX2V4dGVuZHMiLCJBdHRyaWJ1dGVzT3B0aW9uIiwiQXR0cmlidXRlc09wdGlvbl9leHRlbmRzIiwiRGF0YXNldE9wdGlvbiIsIkRhdGFzZXRPcHRpb25fZXh0ZW5kcyIsIk1vZGVTdWJPcHRpb24iLCJNb2RlU3ViT3B0aW9uX2V4dGVuZHMiLCJQbGFjZW1lbnRTdWJPcHRpb24iLCJQbGFjZW1lbnRTdWJPcHRpb25fZXh0ZW5kcyIsIkNoaWxkcmVuQWxsb3dTdWJPcHRpb24iLCJDaGlsZHJlbkFsbG93U3ViT3B0aW9uX2V4dGVuZHMiLCJDaGlsZHJlblN1Yk9wdGlvbiIsImFsbG93Iiwic3ViX29wdGlvbnNfQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbiIsInBsYWNlbWVudCIsInN1Yl9vcHRpb25zX1BsYWNlbWVudFN1Yk9wdGlvbiIsIkNoaWxkcmVuU3ViT3B0aW9uX2V4dGVuZHMiLCJGcm9tT3B0aW9uIiwicmVmIiwib3B0aW9uc19SZWZPcHRpb24iLCJzdWJfb3B0aW9uc19Nb2RlU3ViT3B0aW9uIiwiY2hpbGRyZW4iLCJzdWJfb3B0aW9uc19DaGlsZHJlblN1Yk9wdGlvbiIsIkZyb21PcHRpb25fZXh0ZW5kcyIsIm9wdGlvbnMiLCJvcHRpb25zX05hbWVPcHRpb24iLCJvcHRpb25zX0lkT3B0aW9uIiwib3B0aW9uc19Db250ZW50T3B0aW9uIiwib3B0aW9uc19UZW1tZUlkc09wdGlvbiIsIm9wdGlvbnNfVGVtcGxhdGVzT3B0aW9uIiwib3B0aW9uc19DbGFzc2VzT3B0aW9uIiwib3B0aW9uc19DaGlsZHJlbk5vZGVzT3B0aW9uIiwib3B0aW9uc19BdHRyaWJ1dGVzT3B0aW9uIiwib3B0aW9uc19EYXRhc2V0T3B0aW9uIiwib3B0aW9uc19Gcm9tT3B0aW9uIiwiYWxsT3B0aW9ucyIsImZvckVhY2giLCJvcHQiLCJwdXNoIiwic3ViT3B0aW9ucyIsImdldEFsbFN1Yk9wdGlvbnMiLCJvcHRpb24iLCJhbGxTdWJPcHRpb25zIiwic3ViT3B0aW9uIiwib3B0cyIsImNvbmNhdCIsImdldEFsbE9wdGlvbnMiLCJmb3JiaWRkZW5PcHRpb25zIiwiVGVtbXlFcnJvciIsIm1lc3NhZ2UiLCJUZW1teUVycm9yX2V4dGVuZHMiLCJFcnJvciIsIkludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yIiwiSW52YWxpZFRlbXBsYXRlT3B0aW9uRXJyb3JfZXh0ZW5kcyIsIm1vZGVsc19UZW1teUVycm9yIiwiSW52YWxpZE9wdGlvbk5hbWVFcnJvciIsIkludmFsaWRPcHRpb25OYW1lRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRPcHRpb25UeXBlRXJyb3IiLCJJbnZhbGlkT3B0aW9uVHlwZUVycm9yX2V4dGVuZHMiLCJJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciIsIkludmFsaWRPcHRpb25WYWx1ZUVycm9yX2V4dGVuZHMiLCJJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yIiwiSW52YWxpZFN1Yk9wdGlvbk5hbWVFcnJvcl9leHRlbmRzIiwiSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvciIsIkludmFsaWRTdWJPcHRpb25UeXBlRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yIiwiSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yIiwiSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRSZWZlcmVuY2VPcHRpb25WYWx1ZUVycm9yIiwiSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3JfZXh0ZW5kcyIsIkludmFsaWRSZWZlcmVuY2VFcnJvciIsInJlZmVyZW5jZSIsIkludmFsaWRSZWZlcmVuY2VFcnJvcl9leHRlbmRzIiwiSW52YWxpZFRlbXBsYXRlRXJyb3IiLCJJbnZhbGlkVGVtcGxhdGVFcnJvcl9leHRlbmRzIiwiaWRmeSIsImhpZXJhcmNoeSIsInRlbW1lSWRzIiwidGVtbWVJZCIsImNoYXJzIiwibWF4IiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1cHBlcmNhc2UiLCJ0b1VwcGVyQ2FzZSIsImdlbmVyYXRlVGVtbWVJZCIsImNoaWxkTm9kZXMiLCJjaGlsZCIsInRlbXBsYXRlcyIsInRlbXBsYXRlIiwiZSIsImdldFRlbW1lSWQiLCJJbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yIiwidGFyZ2V0IiwiSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvcl9leHRlbmRzIiwiUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yIiwiUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yX2V4dGVuZHMiLCJpc1ZhbGlkSGllcmFyY2h5IiwiaXNWYWxpZEhUTUxFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJ2YWxpZGF0ZU9wdGlvbnMiLCJmaWx0ZXIiLCJvcHRpb25WYWx1ZSIsImVycm9yc19JbnZhbGlkT3B0aW9uTmFtZUVycm9yIiwidHlwZVZhbGlkYXRpb24iLCJlcnJvcnNfSW52YWxpZE9wdGlvblR5cGVFcnJvciIsImVycm9yc19JbnZhbGlkT3B0aW9uVmFsdWVFcnJvciIsInZhbGlkYXRlU3ViT3B0aW9ucyIsIm9wdGlvbk5hbWUiLCJtYXRjaGluZ1N1Yk9wdGlvbiIsImdldFN1Yk9wdGlvbnMiLCJzdWJPcHRpb25WYWx1ZSIsImVycm9yc19JbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yIiwiZXJyb3JzX0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IiLCJlcnJvcnNfSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3IiLCJzdWJPcHRpb25WYWx1ZV8xIiwiZnJvbSIsInZhbGlkYXRlUmVmZXJlbmNpbmdPcHRpb24iLCJlcnJvcnNfSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3IiLCJlcnJvcnNfSW52YWxpZFRlbXBsYXRlRXJyb3IiLCJlcnJvcnNfSW52YWxpZFRlbXBsYXRlT3B0aW9uRXJyb3IiLCJ2YWxpZGF0ZVRlbXBsYXRlcyIsInZhbGlkYXRlUmVmZXJlbmNlIiwicmVmZXJlbmNlcyIsInNhbml0aXplIiwic2FuaXRpemVPcHRpb24iLCJzYW5pdGl6ZVRlbXBsYXRlIiwicHJvY2VzcyIsImdldFJlZmVyZW5jZXMiLCJkZXB0aCIsImFwcGx5IiwidmFsaWRhdGVSZWZlcmVuY2VzIiwiZXJyb3JzX0ludmFsaWRSZWZlcmVuY2VPcHRpb25WYWx1ZUVycm9yIiwic2VsZWN0b3IiLCJzdWJzdHJpbmciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlcnJvcnNfSW52YWxpZFJlZmVyZW5jZUVycm9yIiwidmFsaWRhdGVUZW1wbGF0ZVJlZmVyZW5jZSIsInJlZmVyZW5jZWRFbGVtZW50IiwiZXJyb3JzX0ludmFsaWRUZW1wbGF0ZVJlZmVyZW5jaW5nRXJyb3IiLCJ2YWxpZGF0ZVBhcmVudFRvQ2hpbGRSZWZlcmVuY2UiLCJyZWZfMSIsInJlZk9iamVjdCIsImVycm9yc19SZWZlcmVuY2VPdXRPZlNjb3BlRXJyb3IiLCJJbnZhbGlkSGllcmFyY2h5RXJyb3IiLCJJbnZhbGlkSGllcmFyY2h5RXJyb3JfZXh0ZW5kcyIsIkludmFsaWRUYXJnZXRFcnJvciIsIkludmFsaWRUYXJnZXRFcnJvcl9leHRlbmRzIiwidGVtbWVfcGFyc2UiLCJlbmRDYWxsYmFjayIsIm5vZGVDYWxsYmFjayIsImVycm9yc19JbnZhbGlkVGFyZ2V0RXJyb3IiLCJlcnJvcnNfSW52YWxpZEhpZXJhcmNoeUVycm9yIiwiY29uc29sZSIsImxvZyIsInBhcnNlIiwiX193ZWJwYWNrX2V4cG9ydHNfXyJdLCJtYXBwaW5ncyI6InNCQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEwREEsT0FyREFGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1Qs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QUM5QixNQUFNLElBQUkyRCxHQUFtQixJQUtqQyxJQUFLdkQsR0FBMkJ2QixHQUM1QixNQUFNLElBQUkrRSxHQUFzQixJQXVCcEMsT0FsQkFyRCxHQUEwQjFCLEdBRzFCa0QsR0FBbUJsRCxHQUduQkQsR0FBWUMsR0FHWnFELEdBQW1CckQsR0NwRHBCLFNBQWVBLEVBQWdCNkUsR0FFbEMsSUFFSUcsUUFBUUMsSUFBSSxjQUVoQixNQUFNakUsR0FFRixNQUFNQSxHRCtDTmtFLEdBR0FOLEVBQVk1RSxHQUdMQSxFQUVYLE1BQU9nQixHQU1ILE1BSGFBLEVBQUc1QyxRQUFVLFlBQVk0QyxFQUFFNUMsUUFBTyxJQUd6QzRDLEdBakVkM0ssRUFBQVUsRUFBQW9PLEVBQUEsMEJBQUFSIiwiZmlsZSI6InRlbW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLyoqXHJcbiAqIFRoZSBoaWVyYXJjaHkncyBvcHRpb24gbW9kZWwuXHJcbiAqIFdoYXQgZGVmaW5lcyBhIHZhbGlkIG9wdGlvbi5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBpbnRlcmZhY2UgdGhhdCBpbmRpY2F0ZXNcclxuICogc3ViLW9wdGlvbnMuXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElLZXlzIHtcclxuXHJcbiAgICBrZXlzOiBhbnk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGhlIG9wdGlvbidzIGNsYXNzLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBsYWJlbDogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRhdGEgdHlwZSBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdHlwZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBvc3NpYmxlIHZhbHVlcyBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdmFsdWVzOiBBcnJheTxhbnk+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlZmF1bHQ6IGFueTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIGxhYmVsIFRoZSBuYW1lIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgZGF0YSB0eXBlIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBvcHRpb24uXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSBwb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobGFiZWw6IHN0cmluZywgdHlwZTogc3RyaW5nLCB2YWx1ZXM6IEFycmF5PGFueT4sIGRlZmF1bHRWYWx1ZTogYW55KSB7XHJcblxyXG4gICAgICAgIHRoaXMubGFiZWwgPSBsYWJlbDtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGRlZmF1bHRWYWx1ZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIG9wdGlvbidzIG5hbWUuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtYXRjaGluZ09wdGlvbiBUaGUgb3B0aW9uIG9iamVjdCB3aXRoIHRoZSBtYXRjaGluZyBuYW1lLlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGVPcHRpb25OYW1lID0gKG1hdGNoaW5nT3B0aW9uOiBPcHRpb24pOiBib29sZWFuID0+IG1hdGNoaW5nT3B0aW9uICE9IG51bGw7XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHRoZSBkYXRhIHR5cGUgb2YgdGhlIG9wdGlvbi5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uLlxyXG4gICAgICogQHBhcmFtIG1hdGNoaW5nT3B0aW9uIFRoZSBvcHRpb24gb2JqZWN0IHdpdGggdGhlIG1hdGNoaW5nIG5hbWUuXHJcbiAgICAgKiBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyB2YWxpZGF0ZU9wdGlvblR5cGUodmFsdWU6IGFueSwgbWF0Y2hpbmdPcHRpb246IE9wdGlvbik6IHsgdmFsaWQ6IGJvb2xlYW4sIHR5cGU6IHN0cmluZyB9IHtcclxuXHJcbiAgICAgICAgbGV0IG9wdGlvblR5cGU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8vIEdldHRpbmcgdGhlIGFwcHJvcHJpYXRlIGRhdGEgdHlwZS5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgb3B0aW9uVHlwZSA9IFwiYXJyYXlcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRpb25UeXBlID0gdHlwZW9mIHZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmFsaWQ6IG9wdGlvblR5cGUgPT09IG1hdGNoaW5nT3B0aW9uLnR5cGUsXHJcbiAgICAgICAgICAgIHR5cGU6IG9wdGlvblR5cGVcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGVzIHRoZSBvcHRpb24ncyB2YWx1ZS5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cclxuICAgICAqIEBwYXJhbSBtYXRjaGluZ09wdGlvbiBUaGUgb3B0aW9uIG9iamVjdCB3aXRoIHRoZSBtYXRjaGluZyBuYW1lLlxyXG4gICAgICogXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGF0aWMgdmFsaWRhdGVPcHRpb25WYWx1ZSh2YWx1ZTogYW55LCBtYXRjaGluZ09wdGlvbjogT3B0aW9uKTogYm9vbGVhbiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIG1hdGNoaW5nIG9iamVjdCBpcyB2YWxpZC5cclxuICAgICAgICBpZiAobWF0Y2hpbmdPcHRpb24gIT0gbnVsbCAmJiBtYXRjaGluZ09wdGlvbi52YWx1ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHZhbHVlIGlzIG5vdCBhIHZhbGlkIG9uZS5cclxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nT3B0aW9uLnZhbHVlcy5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIHJlZmVyZW5jZSBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWZPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdyZWYnLCAnc3RyaW5nJywgW10sICcnKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIG5hbWUgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmFtZU9wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ25hbWUnLCAnc3RyaW5nJywgW10sICdkaXYnKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIElEIG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElkT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignaWQnLCAnc3RyaW5nJywgW10sICcnKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIHZhbHVlIHN1YiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWx1ZVN1Yk9wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ3ZhbHVlJywgJ3N0cmluZycsIFtdLCAnJyk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBjb250ZW50IHR5cGUgc3ViIG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiBmcm9tIFwiLi4vLi4vbW9kZWxzL09wdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRlbnRUeXBlU3ViT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcigndHlwZScsICdzdHJpbmcnLCBbJ3RleHQnLCAnaHRtbCddLCAndGV4dCcpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgdGV4dCBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSUtleXMgfSBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgVmFsdWVTdWJPcHRpb24gZnJvbSBcIi4vc3ViLW9wdGlvbnMvVmFsdWVTdWJPcHRpb25cIjtcclxuaW1wb3J0IENvbnRlbnRUeXBlU3ViT3B0aW9uIGZyb20gXCIuL3N1Yi1vcHRpb25zL0NvbnRlbnRUeXBlU3ViT3B0aW9uXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBjb250ZW50IG9wdGlvbiBjbGFzcy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRlbnRPcHRpb24gZXh0ZW5kcyBPcHRpb24gaW1wbGVtZW50cyBJS2V5cyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUga2V5cyBvZiB0aGUgYGNvbnRlbnRgIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGtleXM6IENvbnRlbnRLZXlzID0ge1xyXG4gICAgICAgIHR5cGU6IG5ldyBDb250ZW50VHlwZVN1Yk9wdGlvbigpLFxyXG4gICAgICAgIHZhbHVlOiBuZXcgVmFsdWVTdWJPcHRpb24oKVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignY29udGVudCcsICdvYmplY3QnLCBbXSwge1xyXG4gICAgICAgICAgICB0eXBlOiAobmV3IENvbnRlbnRUeXBlU3ViT3B0aW9uKCkpLmRlZmF1bHQsXHJcbiAgICAgICAgICAgIHZhbHVlOiAobmV3IFZhbHVlU3ViT3B0aW9uKCkpLmRlZmF1bHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgQ29udGVudEtleXMgdHlwZS5cclxuICovXHJcbnR5cGUgQ29udGVudEtleXMgPSB7XHJcblxyXG4gICAgdHlwZTogQ29udGVudFR5cGVTdWJPcHRpb247XHJcbiAgICB2YWx1ZTogVmFsdWVTdWJPcHRpb247XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSByZWZlcmVuY2Ugb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtbWVJZHNPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCd0ZW1tZUlkcycsICdhcnJheScsIFtdLCBbXSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSB0ZW1wbGF0ZXMgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVtcGxhdGVzT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcigndGVtcGxhdGVzJywgJ2FycmF5JywgW10sIFtdKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGNsYXNzZXMgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xhc3Nlc09wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ2NsYXNzZXMnLCAnYXJyYXknLCBbXSwgW10pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgY2hpbGRyZW4gb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hpbGRyZW5Ob2Rlc09wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ2NoaWxkTm9kZXMnLCAnYXJyYXknLCBbXSwgW10pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgYXR0cmlidXRlcyBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyaWJ1dGVzT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignYXR0cmlidXRlcycsICdvYmplY3QnLCBbXSwge30pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZGF0YXNldCBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYXRhc2V0T3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignZGF0YXNldCcsICdvYmplY3QnLCBbXSwge30pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgbW9kZSBzdWIgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uIGZyb20gXCIuLi8uLi9tb2RlbHMvT3B0aW9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZVN1Yk9wdGlvbiBleHRlbmRzIE9wdGlvbiB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJhbWV0ZXJsZXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgc3VwZXIoJ21vZGUnLCAnc3RyaW5nJywgWydhcHBlbmQnLCAnb3ZlcnJpZGUnXSwgJ2FwcGVuZCcpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgcGxhY2VtZW50IHN1YiBvcHRpb24gbW9kZWwuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGFjZW1lbnRTdWJPcHRpb24gZXh0ZW5kcyBPcHRpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdwbGFjZW1lbnQnLCAnc3RyaW5nJywgWydhZnRlcicsICdiZWZvcmUnXSwgJ2FmdGVyJyk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBhbGxvdyBzdWIgb3B0aW9uIG1vZGVsIGZvciB0aGUgZnJvbS1jaGlsZHJlbiBvcHRpb24uXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBPcHRpb24gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGlsZHJlbkFsbG93U3ViT3B0aW9uIGV4dGVuZHMgT3B0aW9uIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcmFtZXRlcmxlc3MgY29uc3RydWN0b3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICBzdXBlcignYWxsb3cnLCAnYm9vbGVhbicsIFtdLCBmYWxzZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBjaGlsZHJlbiBzdWIgb3B0aW9uIG1vZGVsLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9PcHRpb25cIjtcclxuaW1wb3J0IFBsYWNlbWVudFN1Yk9wdGlvbiBmcm9tIFwiLi9QbGFjZW1lbnRTdWJPcHRpb25cIjtcclxuaW1wb3J0IENoaWxkcmVuQWxsb3dTdWJPcHRpb24gZnJvbSBcIi4vQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvblwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgY2hpbGRyZW4gc3ViIG9wdGlvbiBjbGFzc1xyXG4gKiBvZiB0aGUgZnJvbSBvcHRpb24uXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGlsZHJlblN1Yk9wdGlvbiBleHRlbmRzIE9wdGlvbiBpbXBsZW1lbnRzIElLZXlzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBrZXlzIG9mIHRoZSBgY2hpbGRyZW5gIHN1YiBvcHRpb24uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBrZXlzOiBGcm9tQ2hpbGRyZW5LZXlzID0ge1xyXG4gICAgICAgIGFsbG93OiBuZXcgQ2hpbGRyZW5BbGxvd1N1Yk9wdGlvbigpLFxyXG4gICAgICAgIHBsYWNlbWVudDogbmV3IFBsYWNlbWVudFN1Yk9wdGlvbigpXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdjaGlsZHJlbicsICdvYmplY3QnLCBbXSwge1xyXG4gICAgICAgICAgICBhbGxvdzogKG5ldyBDaGlsZHJlbkFsbG93U3ViT3B0aW9uKCkpLmRlZmF1bHQsXHJcbiAgICAgICAgICAgIHBsYWNlbWVudDogKG5ldyBQbGFjZW1lbnRTdWJPcHRpb24oKSkuZGVmYXVsdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBGcm9tQ2hpbGRyZW5LZXlzIHR5cGUuXHJcbiAqL1xyXG50eXBlIEZyb21DaGlsZHJlbktleXMgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyBjaGlsZHJlbiBpbmhlcml0YW5jZS5cclxuICAgICAqL1xyXG4gICAgYWxsb3c6IENoaWxkcmVuQWxsb3dTdWJPcHRpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW5oZXJpdGFuY2UgbW9kZS5cclxuICAgICAqL1xyXG4gICAgcGxhY2VtZW50OiBQbGFjZW1lbnRTdWJPcHRpb247XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBmcm9tIG9wdGlvbiBtb2RlbC5cclxuICovXHJcblxyXG5cclxuXHJcbmltcG9ydCBPcHRpb24sIHsgSUtleXMgfSBmcm9tIFwiLi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgUmVmT3B0aW9uIGZyb20gXCIuL1JlZk9wdGlvblwiO1xyXG5pbXBvcnQgTW9kZVN1Yk9wdGlvbiBmcm9tIFwiLi9zdWItb3B0aW9ucy9Nb2RlU3ViT3B0aW9uXCI7XHJcbmltcG9ydCBDaGlsZHJlblN1Yk9wdGlvbiBmcm9tIFwiLi9zdWItb3B0aW9ucy9DaGlsZHJlblN1Yk9wdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyb21PcHRpb24gZXh0ZW5kcyBPcHRpb24gaW1wbGVtZW50cyBJS2V5cyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUga2V5cyBvZiB0aGUgYGZyb21gIG9wdGlvbi5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGtleXM6IEZyb21LZXlzID0ge1xyXG4gICAgICAgIHJlZjogbmV3IFJlZk9wdGlvbigpLFxyXG4gICAgICAgIG1vZGU6IG5ldyBNb2RlU3ViT3B0aW9uKCksXHJcbiAgICAgICAgY2hpbGRyZW46IG5ldyBDaGlsZHJlblN1Yk9wdGlvbigpXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyYW1ldGVybGVzcyBjb25zdHJ1Y3Rvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblxyXG4gICAgICAgIHN1cGVyKCdmcm9tJywgJ29iamVjdCcsIFtdLCB7XHJcbiAgICAgICAgICAgIHJlZjogKG5ldyBSZWZPcHRpb24oKSkuZGVmYXVsdCxcclxuICAgICAgICAgICAgbW9kZTogKG5ldyBNb2RlU3ViT3B0aW9uKCkpLmRlZmF1bHQsXHJcbiAgICAgICAgICAgIGNoaWxkcmVuOiAobmV3IENoaWxkcmVuU3ViT3B0aW9uKCkpLmRlZmF1bHRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgRnJvbUtleXMgdHlwZS5cclxuICovXHJcbnR5cGUgRnJvbUtleXMgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcmVmZXJlbmNlIHN1YiBvcHRpb24uXHJcbiAgICAgKi9cclxuICAgIHJlZjogUmVmT3B0aW9uO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGluaGVyaXRhbmNlIG1vZGUuXHJcbiAgICAgKi9cclxuICAgIG1vZGU6IE1vZGVTdWJPcHRpb247XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW5oZXJpdGFuY2UgbW9kZS5cclxuICAgICAqL1xyXG4gICAgY2hpbGRyZW46IENoaWxkcmVuU3ViT3B0aW9uO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgbGlzdCBvZiBzdXBwb3J0ZWQgb3B0aW9ucy5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IE9wdGlvbiwgeyBJS2V5cyB9IGZyb20gXCIuL21vZGVscy9PcHRpb25cIjtcclxuaW1wb3J0IFJlZk9wdGlvbiBmcm9tIFwiLi9vcHRpb25zL1JlZk9wdGlvblwiO1xyXG5pbXBvcnQgTmFtZU9wdGlvbiBmcm9tIFwiLi9vcHRpb25zL05hbWVPcHRpb25cIjtcclxuaW1wb3J0IElkT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvSWRPcHRpb25cIjtcclxuaW1wb3J0IENvbnRlbnRPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9Db250ZW50T3B0aW9uXCI7XHJcbmltcG9ydCBUZW1tZUlkc09wdGlvbiBmcm9tIFwiLi9vcHRpb25zL1RlbW1lSWRzT3B0aW9uXCI7XHJcbmltcG9ydCBUZW1wbGF0ZXNPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9UZW1wbGF0ZXNPcHRpb25cIjtcclxuaW1wb3J0IENsYXNzZXNPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9DbGFzc2VzT3B0aW9uXCI7XHJcbmltcG9ydCBDaGlsZHJlbk5vZGVzT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvQ2hpbGRyZW5Ob2Rlc09wdGlvblwiO1xyXG5pbXBvcnQgQXR0cmlidXRlc09wdGlvbiBmcm9tIFwiLi9vcHRpb25zL0F0dHJpYnV0ZXNPcHRpb25cIjtcclxuaW1wb3J0IERhdGFzZXRPcHRpb24gZnJvbSBcIi4vb3B0aW9ucy9EYXRhc2V0T3B0aW9uXCI7XHJcbmltcG9ydCBGcm9tT3B0aW9uIGZyb20gXCIuL29wdGlvbnMvRnJvbU9wdGlvblwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBBbGwgdGhlIGdsb2JhbCBvcHRpb25zLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG9wdGlvbnM6IEFycmF5PE9wdGlvbj4gPSBbXHJcbiAgICBuZXcgUmVmT3B0aW9uKCksXHJcbiAgICBuZXcgTmFtZU9wdGlvbigpLFxyXG4gICAgbmV3IElkT3B0aW9uKCksXHJcbiAgICBuZXcgQ29udGVudE9wdGlvbigpLFxyXG4gICAgbmV3IFRlbW1lSWRzT3B0aW9uKCksXHJcbiAgICBuZXcgVGVtcGxhdGVzT3B0aW9uKCksXHJcbiAgICBuZXcgQ2xhc3Nlc09wdGlvbigpLFxyXG4gICAgbmV3IENoaWxkcmVuTm9kZXNPcHRpb24oKSxcclxuICAgIG5ldyBBdHRyaWJ1dGVzT3B0aW9uKCksXHJcbiAgICBuZXcgRGF0YXNldE9wdGlvbigpLFxyXG4gICAgbmV3IEZyb21PcHRpb24oKVxyXG5dO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGUgb2YgdGhlIG9wdGlvbnMgYXZhaWxhYmxlIChpbmNsdWRpbmcgc3ViLW9wdGlvbnMpLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGFsbE9wdGlvbnMgPSBnZXRBbGxPcHRpb25zKCk7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBvcHRpb25zIHRoYXQgYXJlIG5vdCBhbGxvd2VkIGZvciB0ZW1wbGF0ZXMuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZm9yYmlkZGVuT3B0aW9uczogQXJyYXk8c3RyaW5nPiA9IFsnbmFtZScsICdjaGlsZE5vZGVzJywgJ3RlbXBsYXRlcyddO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBHZXRzIGFsbCB0aGUgc3ViLW9wdGlvbnMgb2YgYW4gb3B0aW9uLlxyXG4gKiBcclxuICogQHBhcmFtIG9wdGlvbiBUaGUgcGFyZW50IG9wdGlvbidzIG5hbWUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ViT3B0aW9ucyhvcHRpb246IHN0cmluZyk6IEFycmF5PE9wdGlvbj4ge1xyXG5cclxuICAgIGNvbnN0IHN1Yk9wdGlvbnM6IEFycmF5PGFueT4gPSBbXTtcclxuXHJcbiAgICAvLyBMb29waW5nIHRocm91Z2ggYWxsIG9mIHRoZSBvcHRpb25zLlxyXG4gICAgYWxsT3B0aW9ucy5mb3JFYWNoKChvcHQ6IE9wdGlvbikgPT4ge1xyXG5cclxuICAgICAgICBpZiAoJ2tleXMnIGluIG9wdCAmJiAoPE9wdGlvbj5vcHQpLmxhYmVsID09PSBvcHRpb24pIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluICg8SUtleXM+b3B0KS5rZXlzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgc3ViLW9wdGlvbi5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbiA9ICg8SUtleXM+b3B0KS5rZXlzW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUHVzaGluZyB0aGUgc3ViLW9wdGlvbi5cclxuICAgICAgICAgICAgICAgIHN1Yk9wdGlvbnMucHVzaChzdWJPcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmV0dXJuaW5nIHRoZSBmb3VuZCBzdWItb3B0aW9ucy5cclxuICAgIHJldHVybiBzdWJPcHRpb25zO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEdldHMgYWxsIG9mIHRoZSBvcHRpb25zIGFuZCBzdWItb3B0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGdldEFsbE9wdGlvbnMoKTogQXJyYXk8T3B0aW9uPiB7XHJcblxyXG4gICAgbGV0IGFsbE9wdGlvbnM6IEFycmF5PE9wdGlvbj4gPSBbXTtcclxuXHJcbiAgICBvcHRpb25zLmZvckVhY2goKG9wdDogT3B0aW9uKSA9PiB7XHJcblxyXG4gICAgICAgIGFsbE9wdGlvbnMucHVzaChvcHQpO1xyXG5cclxuICAgICAgICBpZiAoJ2tleXMnIGluIG9wdCkge1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0dGluZyBhbGwgb2YgdGhlIHN1Yi1vcHRpb25zLlxyXG4gICAgICAgICAgICBjb25zdCBzdWJPcHRpb25zOiBBcnJheTxPcHRpb24+ID0gZ2V0QWxsU3ViT3B0aW9ucyhvcHQpO1xyXG5cclxuICAgICAgICAgICAgYWxsT3B0aW9ucyA9IGFsbE9wdGlvbnMuY29uY2F0KHN1Yk9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBhbGxPcHRpb25zO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEdldHMgYWxsIHRoZSBzdWItb3B0aW9ucyBvZiBhbiBvcHRpb24uXHJcbiAqIFxyXG4gKiBAcGFyYW0gb3B0IFRoZSBvcHRpb24gdG8gZ2V0IHRoZSBzdWItb3B0aW9ucyBvZi5cclxuICovXHJcbmZ1bmN0aW9uIGdldEFsbFN1Yk9wdGlvbnMob3B0aW9uOiBPcHRpb24pOiBBcnJheTxPcHRpb24+IHtcclxuXHJcbiAgICBsZXQgYWxsU3ViT3B0aW9uczogQXJyYXk8T3B0aW9uPiA9IFtdO1xyXG5cclxuICAgIGZvciAoY29uc3Qga2V5IGluICg8YW55Pm9wdGlvbikua2V5cykge1xyXG5cclxuICAgICAgICBjb25zdCBzdWJPcHRpb246IE9wdGlvbiA9ICg8YW55Pm9wdGlvbikua2V5c1trZXldO1xyXG5cclxuICAgICAgICBhbGxTdWJPcHRpb25zLnB1c2goc3ViT3B0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKCdrZXlzJyBpbiBzdWJPcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG9wdHM6IEFycmF5PE9wdGlvbj4gPSBnZXRBbGxTdWJPcHRpb25zKHN1Yk9wdGlvbik7XHJcblxyXG4gICAgICAgICAgICBhbGxTdWJPcHRpb25zID0gYWxsU3ViT3B0aW9ucy5jb25jYXQob3B0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhbGxTdWJPcHRpb25zO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUZW1tZSdzIGVycm9yIGludGVyZmFjZS5cclxuICovXHJcbmludGVyZmFjZSBJVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFRlbW1lJ3MgY3VzdG9tIGVycm9ycy5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRlbW15RXJyb3IgZXh0ZW5kcyBFcnJvciBpbXBsZW1lbnRzIElUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyA9ICdUZW1teUVycm9yJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiVGVtbWUgaXNuJ3QgZmVlbGluZyBnb29kXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IobWVzc2FnZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSB0ZW1wbGF0ZVxyXG4gKiBoYXMgYSBmb3JiaWRkZW4gb3B0aW9uLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHRlbXBsYXRlIGhhcyBhbiBpbnZhbGlkIG9wdGlvblwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uIFRoZSBpbnZhbGlkIG9wdGlvbidzIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbjogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBg4oCcJHtvcHRpb2594oCdIGlzIG5vdCBhIHZhbGlkIG9wdGlvbiB0byB1c2UgaW4gdGVtcGxhdGVzYDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb24ubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhbiBvcHRpb25cclxuICogaXMgbm90IHZhbGlkLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkT3B0aW9uTmFtZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRPcHRpb25OYW1lRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQW4gb3B0aW9uIGlzIG5vdCB2YWxpZFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uIFRoZSBpbnZhbGlkIG9wdGlvbidzIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbjogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBg4oCcJHtvcHRpb2594oCdIGlzIG5vdCBhIHZhbGlkIG9wdGlvbmA7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0aW5nIHRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gb3B0aW9uLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYW4gb3B0aW9uXHJcbiAqIGlzIG5vdCBvZiBhIHZhbGlkIGRhdGEgdHlwZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZE9wdGlvblR5cGVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkT3B0aW9uVHlwZUVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIkFuIG9wdGlvbiBkb2Vzbid0IGhhdmUgYSB2YWxpZCB2YWx1ZSB0eXBlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcHRpb24gVGhlIGludmFsaWQgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgaW52YWxpZCBvcHRpb24ncyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uOiBzdHJpbmcsIHR5cGU6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3RpbmcgdGhlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gYFRoZSDigJwke29wdGlvbn3igJ0gb3B0aW9uIGRvZXNuJ3QgYWNjZXB0IHZhbHVlcyBvZiB0eXBlIOKAnCR7dHlwZX3igJ1gO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG9wdGlvbi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGFuIG9wdGlvblxyXG4gKiBpcyBub3Qgb2YgYSB2YWxpZCB2YWx1ZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZE9wdGlvblZhbHVlRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZE9wdGlvblZhbHVlRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQW4gb3B0aW9uIGRvZXNuJ3QgaGF2ZSBhIHZhbGlkIHZhbHVlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBvcHRpb24gVGhlIGludmFsaWQgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgaW52YWxpZCBvcHRpb24ncyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9uOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGBUaGUg4oCcJHtvcHRpb2594oCdIG9wdGlvbiBkb2Vzbid0IGFjY2VwdCDigJwke3ZhbHVlfeKAnSBhcyBhIHZhbHVlYDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb24ubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHN1Yi1vcHRpb25cclxuICogaXMgbm90IHZhbGlkLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRTdWJPcHRpb25OYW1lRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQSBzdWItb3B0aW9uIGlzIG5vdCB2YWxpZFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uIFRoZSBwYXJlbnQgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqIEBwYXJhbSBzdWJPcHRpb24gVGhlIGludmFsaWQgc3ViLW9wdGlvbidzIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbjogc3RyaW5nLCBzdWJPcHRpb246IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3RpbmcgdGhlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gYFRoZSDigJwke29wdGlvbn3igJ0gb3B0aW9uIGRvZXNuJ3Qgbm90IHJlY29nbml6ZSDigJwke3N1Yk9wdGlvbn3igJ0gYXMgYSB2YWxpZCBzdWItb3B0aW9uYDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb24ubGVuZ3RoID4gMCB8fCBzdWJPcHRpb24ubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHN1Yi1wdGlvblxyXG4gKiBpcyBub3Qgb2YgYSB2YWxpZCBkYXRhIHR5cGUuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHN1Yi1vcHRpb24gZG9lc24ndCBoYXZlIGEgdmFsaWQgdmFsdWUgdHlwZVwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gc3ViT3B0aW9uIFRoZSBpbnZhbGlkIHN1Yi1vcHRpb24ncyBuYW1lLlxyXG4gICAgICogQHBhcmFtIHZhbHVlIFRoZSBpbnZhbGlkIHN1Yi1vcHRpb24ncyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Ioc3ViT3B0aW9uOiBzdHJpbmcsIHR5cGU6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBDb25zdHJ1Y3RpbmcgdGhlIGVycm9yIG1lc3NhZ2UuXHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gYFRoZSDigJwke3N1Yk9wdGlvbn3igJ0gc3ViLW9wdGlvbiBkb2Vzbid0IGFjY2VwdCB2YWx1ZXMgb2YgdHlwZSDigJwke3R5cGV94oCdYDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBzdWJPcHRpb24ubGVuZ3RoID4gMCB8fCB0eXBlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSBzdWItb3B0aW9uXHJcbiAqIGlzIG5vdCBvZiBhIHZhbGlkIHZhbHVlLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBIHN1Yi1vcHRpb24gZG9lc24ndCBoYXZlIGEgdmFsaWQgdmFsdWVcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHN1Yk9wdGlvbiBUaGUgaW52YWxpZCBzdWItb3B0aW9uJ3MgbmFtZS5cclxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgaW52YWxpZCBzdWItb3B0aW9uJ3MgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHN1Yk9wdGlvbjogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XHJcblxyXG4gICAgICAgIC8vIENhbGxpbmcgdGhlIHBhcmVudCBjbGFzcyBgVGVtbXlFcnJvcmAuXHJcbiAgICAgICAgc3VwZXIoXCJcIik7XHJcblxyXG4gICAgICAgIC8vIENvbnN0cnVjdGluZyB0aGUgZXJyb3IgbWVzc2FnZS5cclxuICAgICAgICBjb25zdCBtZXNzYWdlOiBzdHJpbmcgPSBgVGhlIOKAnCR7c3ViT3B0aW9ufeKAnSBzdWItb3B0aW9uIGRvZXNuJ3QgYWNjZXB0IOKAnCR7dmFsdWV94oCdIGFzIGEgdmFsdWVgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHN1Yk9wdGlvbi5sZW5ndGggPiAwIHx8IHZhbHVlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSBcclxuICogZnJvbSBvcHRpb24gaXMgbm90IHZhbGlkXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBtZXNzYWdlOiBzdHJpbmcgPSBcIkEgcmVmZXJlbmNpbmcgb3B0aW9uIGlzIG5vdCB2YWxpZFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSBcclxuICogcmVmIG9wdGlvbiBzdGFydHMgd2l0aCB0aGUgc3ltYm9sZSDigJxA4oCdLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi4vbW9kZWxzL1RlbW15RXJyb3JcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnZhbGlkUmVmZXJlbmNlT3B0aW9uVmFsdWVFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkUmVmZXJlbmNlT3B0aW9uVmFsdWVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCLigJxyZWbigJ0gb3B0aW9ucyBtdXN0IG5vdCBiZWdpbiB3aXRoIHRoZSDigJxA4oCdIHN5bWJvbFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSByZWYgb3B0aW9uXHJcbiAqIHJlZmVyZW5jZXMgYW4gaW52YWxpZCBvYmplY3QuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRSZWZlcmVuY2VFcnJvciBleHRlbmRzIFRlbW15RXJyb3Ige1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nID0gXCJJbnZhbGlkUmVmZXJlbmNlRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQSByZWZlcmVuY2UgaXMgaW52YWxpZFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gcmVmZXJlbmNlIFRoZSBpbnZhbGlkIHJlZmVyZW5jZS5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocmVmZXJlbmNlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSByZWZlcmVuY2UubGVuZ3RoID4gMCA/IGDigJwke3JlZmVyZW5jZX3igJ0gaXMgYW4gaW52YWxpZCByZWZlcmVuY2VgIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSB0ZW1wbGF0ZVxyXG4gKiBpcyBpbnZhbGlkIChkb2Vzbid0IGhhdmUgYSDigJxyZWbigJ0gb3B0aW9uKS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZFRlbXBsYXRlRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFRlbXBsYXRlRXJyb3JcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBtZXNzYWdlIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG1lc3NhZ2U6IHN0cmluZyA9IFwiQSB0ZW1wbGF0ZSBkb2VzIG5vdCBoYXZlIGEg4oCccmVm4oCdIG9wdGlvblwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIEhlcmUgZ29lcydzIGV2ZXJ5dGhpbmcgdGhhdCBJRC1maWVzXHJcbiAqIGFueXRoaW5nIHRvIGRvIHdpdGggdGhlIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gXCIuL21vZGVscy9IaWVyYXJjaHlcIjtcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tIFwiLi9tb2RlbHMvVGVtcGxhdGVcIjtcclxuXHJcblxyXG4vKipcclxuICogQXNzaWducyB0ZW1tZUlkcyB0byBhIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRvIGFzc2luZyBhIHRlbW1lSWQgdG8uXHJcbiAqIEBwYXJhbSB0ZW1tZUlkcyBUaGUgc2VyaWVzIG9mIHRlbW1lSWRzIGxlYWRpbmcgdG8gdGhlIGN1cnJlbnQgaGllcmFyY2h5IG9iamVjdC5cclxuICogQHBhcmFtIG1vZGUgVGhlIG1vZGUgb2YgdGhlIHRlbW1lSWQsIGlmIGl0J3MgZmFsc2UsIHRoZSB0ZW1tZUlkIHdpbGwgYmUgb2YgNiBjaGFyYWN0ZXJzXHJcbiAqIGluZGljYXRpbmcgaXQncyBhIGhpZXJhcmNoeSBvYmplY3QsIGlmIGl0J3MgdHJ1ZSwgaXQnbGwgaGF2ZSA0IGNoYXJhY3RlcnMgaW5kaWNhdGluZyBpdCdzXHJcbiAqIGEgdGVtcGxhdGUuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaWRmeShoaWVyYXJjaHk6IGFueSwgdGVtbWVJZHM6IEFycmF5PHN0cmluZz4gPSBbXSwgbW9kZTogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRpbmcgYSB0ZW1tZSBJZC5cclxuICAgICAgICBjb25zdCB0ZW1tZUlkOiBzdHJpbmcgPSBnZW5lcmF0ZVRlbW1lSWQobW9kZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXNzaWduaW5nIGEgdGVtbWVJZC5cclxuICAgICAgICBoaWVyYXJjaHkudGVtbWVJZHMgPSBbLi4udGVtbWVJZHMsIHRlbW1lSWRdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNraW5nIG9mIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGhhcyBhbnkgY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKCdjaGlsZE5vZGVzJyBpbiBoaWVyYXJjaHkpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWRmeShjaGlsZCwgaGllcmFyY2h5LnRlbW1lSWRzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgb2YgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSkge1xyXG4gICAgXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS50ZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGU6IE9iamVjdCkgPT4ge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZGZ5KHRlbXBsYXRlLCBoaWVyYXJjaHkudGVtbWVJZHMsIHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgdGVtbWVJZCBvZiBhIGhpZXJhcmNoeSBvciB0ZW1wbGF0ZSBvYmplY3QuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gZ2V0IHRoZSB0ZW1tZUlkIG9mLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFRlbW1lSWQgPSAoaGllcmFyY2h5OiBIaWVyYXJjaHkgfCBUZW1wbGF0ZSk6IHN0cmluZyA9PiBoaWVyYXJjaHkudGVtbWVJZHNbaGllcmFyY2h5LnRlbW1lSWRzLmxlbmd0aCAtIDFdO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSB1bmlxdWUgdGVtbWVJZC5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVGVtbWVJZChtb2RlOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICBjb25zdFxyXG4gICAgICAgIGNoYXJzID0gXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcclxuICAgICAgICBtYXggPSAobW9kZSA9PT0gZmFsc2UpID8gNiA6IDQ7XHJcblxyXG4gICAgbGV0IGtleSA9ICcnO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpPG1heDsgaSsrKSB7XHJcblxyXG4gICAgICAgIGNvbnN0XHJcbiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpLFxyXG4gICAgICAgICAgICB1cHBlcmNhc2UgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuXHJcbiAgICAgICAga2V5ICs9IHVwcGVyY2FzZSA9PT0gMSA/IGNoYXJzW2luZGV4XS50b1VwcGVyQ2FzZSgpIDogY2hhcnNbaW5kZXhdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBrZXk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBlcnJvciB0aHJvd24gd2hlbiBhIHRlbXBsYXRlXHJcbiAqIGhhcyBpcyByZWZlcmVuY2luZyBhIG5vbi10ZW1wbGF0ZSBvYmplY3QuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludmFsaWRUZW1wbGF0ZVJlZmVyZW5jaW5nRXJyb3IgZXh0ZW5kcyBUZW1teUVycm9yIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cclxuICAgICAqL1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwiSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJUZW1wbGF0ZXMgY2FuIG9ubHkgcmVmZXJlbmNlIG90aGVyIHRlbXBsYXRlcy5cIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIHJlZiBUaGUgdGVtcGxhdGUncyByZWZlcmVuY2UuXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSByZWZlcmVuY2UgdGFyZ2V0LlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihyZWY6IHN0cmluZywgdGFyZ2V0OiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gQ29uc3RydWN0aW5nIHRoZSBlcnJvciBtZXNzYWdlLlxyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IHN0cmluZyA9IGBUaGUgdGVtcGxhdGUgd2l0aCB0aGUgcmVmZXJlbmNlIOKAnCR7cmVmfeKAnSBpcyB0cnlpbmcgdG8gcmVmZXJlbmNlIOKAnCR7dGFyZ2V0feKAnSBhIG5vbi10ZW1wbGF0ZSBvYmplY3RgO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHJlZi5sZW5ndGggPiAwID8gbWVzc2FnZSA6IHRoaXMubWVzc2FnZTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogVGhlIGVycm9yIHRocm93biB3aGVuIGEgYSBoaWVyYXJjaHkgb2JqZWN5XHJcbiAqIGlzIHJlZmVyZW5jaW5nIGFuIGVsZW1lbnQgb3V0IG9mIGl0cyBzY29wZS5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVmZXJlbmNlT3V0T2ZTY29wZUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIlJlZmVyZW5jZU91dE9mU2NvcGVFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJBbiBvYmplY3QgaXMgcmVmZXJlbmNpbmcgYW4gZWxlbWVudCBvdXQgb2YgaXRzIHNjb3BlXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RvciB3aXRoIHBhcmFtZXRlcnMuXHJcbiAgICAgKiBcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBlcnJvcidzIG1lc3NhZ2UuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBtb2R1bGUgcmVzcG9uc2libGUgZm9yIHZhbGlkYXRpbmcgdGhlIGlucHV0LlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgeyBvcHRpb25zLCBmb3JiaWRkZW5PcHRpb25zLCBnZXRTdWJPcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiO1xyXG5pbXBvcnQgSW52YWxpZFRlbXBsYXRlT3B0aW9uRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uTmFtZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkT3B0aW9uTmFtZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uVHlwZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkT3B0aW9uVHlwZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZE9wdGlvblZhbHVlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25OYW1lRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRTdWJPcHRpb25OYW1lRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25UeXBlRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRTdWJPcHRpb25UeXBlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRTdWJPcHRpb25WYWx1ZUVycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvclwiO1xyXG5pbXBvcnQgSW52YWxpZFJlZmVyZW5jaW5nT3B0aW9uRXJyb3IgZnJvbSBcIi4vZXJyb3JzL0ludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkUmVmZXJlbmNlT3B0aW9uVmFsdWVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3JcIjtcclxuaW1wb3J0IEludmFsaWRSZWZlcmVuY2VFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFJlZmVyZW5jZUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkVGVtcGxhdGVFcnJvciBmcm9tIFwiLi9lcnJvcnMvSW52YWxpZFRlbXBsYXRlRXJyb3JcIjtcclxuaW1wb3J0IHsgUmVmZXJlbmNlVHlwZSB9IGZyb20gXCIuL3JlZmVyZW5jZXJcIjtcclxuaW1wb3J0IHsgZ2V0VGVtbWVJZCB9IGZyb20gXCIuL2lkZmllclwiO1xyXG5pbXBvcnQgeyBIaWVyYXJjaHkgfSBmcm9tIFwiLi9tb2RlbHMvSGllcmFyY2h5XCI7XHJcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcIi4vbW9kZWxzL1RlbXBsYXRlXCI7XHJcbmltcG9ydCBJbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yIGZyb20gXCIuL2Vycm9ycy9JbnZhbGlkVGVtcGxhdGVSZWZlcmVuY2luZ0Vycm9yXCI7XHJcbmltcG9ydCBSZWZlcmVuY2VPdXRPZlJhbmdlRXJyb3IgZnJvbSBcIi4vZXJyb3JzL1JlZmVyZW5jZU91dE9mU2NvcGVFcnJvclwiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYW4gb2JqZWN0IGlzIGEgdmFsaWQgaGllcmFyY2h5IG9iamVjdC5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIG9iamVjdCB0byBjaGVjay5cclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1ZhbGlkSGllcmFyY2h5ID0gKGhpZXJhcmNoeTogT2JqZWN0KTogYm9vbGVhbiA9PiBoaWVyYXJjaHkgIT0gbnVsbCAmJiB0eXBlb2YgaGllcmFyY2h5ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShoaWVyYXJjaHkpO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgaWYgYW4gb2JqZWN0IGlzIGEgdmFsaWQgSFRNTCBlbGVtZW50LlxyXG4gKiBcclxuICogQHBhcmFtIHRhcmdldCBUaGUgb2JqZWN0IHRvIGNoZWNrLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGlzVmFsaWRIVE1MRWxlbWVudCA9ICh0YXJnZXQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiA9PiB0YXJnZXQgIT0gbnVsbCAmJiB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSBvcHRpb25zIGluIGEgaGllcmFyY2h5IG9iamVjdCBmb3IgYW55XHJcbiAqIG9wdGlvbnMgaXQgaGFzIG9yIHZhbHVlcyBpdCBjb250YWlucy5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdG8gdmFsaWRhdGUgdGhlIG9wdGlvbnMgZm9yLlxyXG4gKiBcclxuICogQHRocm93cyBJbnZhbGlkT3B0aW9uTmFtZUVycm9yLCBJbnZhbGlkT3B0aW9uVHlwZUVycm9yLCBJbnZhbGlkT3B0aW9uVmFsdWVFcnJvciwgSW52YWxpZFN1Yk9wdGlvbk5hbWVFcnJvciwgSW52YWxpZFN1Yk9wdGlvblR5cGVFcnJvciwgSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3IsIEludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKGhpZXJhcmNoeTogYW55KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gTG9vcGluZyB0aHJvdWdoIHRoZSBoaWVyYXJjaHkncyBvcHRpb25zLlxyXG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgICAgIG1hdGNoaW5nT3B0aW9uOiBPcHRpb24gPSA8T3B0aW9uPm9wdGlvbnMuZmlsdGVyKChvcHQ6IE9wdGlvbikgPT4gb3B0LmxhYmVsID09PSBvcHRpb24pWzBdLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uVmFsdWU6IGFueSA9IGhpZXJhcmNoeVtvcHRpb25dO1xyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgbmFtZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvbk5hbWUobWF0Y2hpbmdPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25OYW1lRXJyb3Iob3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgdHlwZS5cclxuICAgICAgICAgICAgY29uc3QgdHlwZVZhbGlkYXRpb246IHsgdmFsaWQ6IGJvb2xlYW4sIHR5cGU6IHN0cmluZyB9ID0gT3B0aW9uLnZhbGlkYXRlT3B0aW9uVHlwZShvcHRpb25WYWx1ZSwgbWF0Y2hpbmdPcHRpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVWYWxpZGF0aW9uLnZhbGlkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25UeXBlRXJyb3Iob3B0aW9uLCB0eXBlVmFsaWRhdGlvbi50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgb3B0aW9uJ3MgdmFsdWUuXHJcbiAgICAgICAgICAgIGlmIChPcHRpb24udmFsaWRhdGVPcHRpb25WYWx1ZShvcHRpb25WYWx1ZSwgbWF0Y2hpbmdPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRPcHRpb25WYWx1ZUVycm9yKG9wdGlvbiwgb3B0aW9uVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZXBlYXRpbmcgdGhlIHNhbWUgY2hlY2sgZm9yIG9wdGlvbnMgdGhhdCBoYXZlIGtleXMuXHJcbiAgICAgICAgICAgIGlmICgna2V5cycgaW4gbWF0Y2hpbmdPcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBvcHRpb24ncyBzdWItb3B0aW9ucy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbnMgPSAoPElLZXlzPm1hdGNoaW5nT3B0aW9uKS5rZXlzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRpbmcgdGhlIHN1Yi1vcHRpb25zLlxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVTdWJPcHRpb25zKG9wdGlvbiwgb3B0aW9uVmFsdWUsIHN1Yk9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBWYWxpZGF0aW5nIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgaWYgKHZhbGlkYXRlUmVmZXJlbmNpbmdPcHRpb24oaGllcmFyY2h5KSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRSZWZlcmVuY2luZ09wdGlvbkVycm9yKFwiVGhlIOKAnGZyb23igJ0gb3B0aW9uIG11c3QgYWx3YXlzIGhhdmUgYSDigJxyZWbigJ0gc3ViLW9wdGlvblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGNvbnRhaW5zIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LnRlbXBsYXRlcy5mb3JFYWNoKCh0ZW1wbGF0ZTogT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVRlbXBsYXRlcyh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVwZWF0aW5nIHRoZSBzYW1lIGNoZWNrIGZvciB0aGUgaGllcmFyY2h5J3MgY2hpbGRyZW4uXHJcbiAgICAgICAgaWYgKCdjaGlsZE5vZGVzJyBpbiBoaWVyYXJjaHkpIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBPYmplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlT3B0aW9ucyhjaGlsZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSB0ZW1wbGF0ZXMgaW4gYSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKiBcclxuICogQHBhcmFtIHRlbXBsYXRlIFRoZSB0ZW1wbGF0ZSBvYmplY3QgdG8gdmFsaWRhdGUuXHJcbiAqIFxyXG4gKiBAdGhyb3dzIEludmFsaWRPcHRpb25OYW1lRXJyb3IsIEludmFsaWRPcHRpb25UeXBlRXJyb3IsIEludmFsaWRPcHRpb25WYWx1ZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yLCBJbnZhbGlkU3ViT3B0aW9uVmFsdWVFcnJvciwgSW52YWxpZFRlbXBsYXRlRXJyb3IsIEludmFsaWRUZW1wbGF0ZU9wdGlvbkVycm9yXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVUZW1wbGF0ZXModGVtcGxhdGU6IGFueSk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGlmICghKCdyZWYnIGluIHRlbXBsYXRlKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFRlbXBsYXRlRXJyb3IoXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb29waW5nIHRocm91Z2ggdGhlIG9wdGlvbnMgb2YgdGhlIHRlbXBsYXRlLlxyXG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIGluIHRlbXBsYXRlKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGVtcGxhdGUgY29udGFpbnMgYW55IGludmFsaWQgb3B0aW9ucy5cclxuICAgICAgICAgICAgaWYgKGZvcmJpZGRlbk9wdGlvbnMuaW5kZXhPZihvcHRpb24pID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVGVtcGxhdGVPcHRpb25FcnJvcihvcHRpb24pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVPcHRpb25zKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSByZWZlcmVuY2VzIGluIHRoZSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byB2YWxpZGF0ZSB0aGUgcmVmZXJlbmNlcyBmb3IuXHJcbiAqIEBwYXJhbSByZWZlcmVuY2VzIFRoZSB2YWxpZCByZWZlcm5jZXMuXHJcbiAqIFxyXG4gKiBAdGhyb3dzIEludmFsaWRSZWZlcmVuY2VFcnJvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUmVmZXJlbmNlcyhoaWVyYXJjaHk6IGFueSwgcmVmZXJlbmNlczogQXJyYXk8UmVmZXJlbmNlVHlwZT4pOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUg4oCccmVm4oCdIG9wdGlvbiBzdGFydHMgd2l0aCB0aGUg4oCcQOKAnSBzeW1ib2wuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5yZWZbMF0gPT09ICdAJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IoXCJcIik7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgb2JqZWN0IGlzIHJlZmVyZW5jaW5nIGFuIG91dGVyIGVsZW1lbnQuXHJcbiAgICAgICAgaWYgKGhpZXJhcmNoeS5mcm9tLnJlZlswXSA9PT0gJ0AnKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0b3I6IHN0cmluZyA9ICg8c3RyaW5nPmhpZXJhcmNoeS5mcm9tLnJlZikuc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFJlZmVyZW5jZU9wdGlvblZhbHVlRXJyb3IoYE5vIG91dGVyIGVsZW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIHNlbGVjdG9yIOKAnCR7c2VsZWN0b3J94oCdYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2tpbmcgb2YgdGhlIHJlZmVyZW5jZSBleGlzdHMuXHJcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVJlZmVyZW5jZShoaWVyYXJjaHksIHJlZmVyZW5jZXMpID09PSBmYWxzZSAmJiBoaWVyYXJjaHkuZnJvbS5yZWYgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkUmVmZXJlbmNlRXJyb3IoaGllcmFyY2h5LmZyb20ucmVmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZDogSGllcmFyY2h5KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVSZWZlcmVuY2VzKGNoaWxkLCByZWZlcmVuY2VzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBoYXMgYW55IHRlbXBsYXRlcy5cclxuICAgICAgICBpZiAoJ3RlbXBsYXRlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS50ZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgaGllcmFyY2h5LnRlbXBsYXRlcy5mb3JFYWNoKCh0ZW1wbGF0ZTogYW55KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVSZWZlcmVuY2VzKHRlbXBsYXRlLCByZWZlcmVuY2VzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYSBwYXNzZWQgcmVmZXJlbmNlLlxyXG4gKiBcclxuICogQHBhcmFtIHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIHRvIHZhbGlkYXRlLlxyXG4gKiBAcGFyYW0gcmVmZXJlbmNlcyBUaGUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICovXHJcbmNvbnN0IHZhbGlkYXRlUmVmZXJlbmNlID0gKGhpZXJhcmNoeTogYW55LCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPik6IGJvb2xlYW4gPT4gcmVmZXJlbmNlcy5maWx0ZXIoKHJlZjogUmVmZXJlbmNlVHlwZSkgPT4gcmVmLmhpZXJhcmNoeS5yZWYgPT09IGhpZXJhcmNoeS5mcm9tLnJlZiAmJiBnZXRUZW1tZUlkKGhpZXJhcmNoeSkgIT09IGdldFRlbW1lSWQocmVmLmhpZXJhcmNoeSkpWzBdICE9IG51bGw7XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRlbXBsYXRlcyBhcmUgcmVmZXJlbmNpbmcgbm9uLXRlbXBsYXRlIGVsZW1lbnRcclxuICogb3Igbm90LCBpbiB3aGljaCBjYXNlLCBhbiBlcnJvciBpcyB0aHJvd24uXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gdmFsaWRhdGUgdGhlIHRlbXBsYXRlIGluaGVyaXRhbmNlIGZvci5cclxuICogQHBhcmFtIHJlZmVyZW5jZXMgVGhlcmUgdmFsaWQgcmVmZXJlbmNlcy5cclxuICogXHJcbiAqIEB0aHJvd3MgSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlVGVtcGxhdGVSZWZlcmVuY2UoaGllcmFyY2h5OiBhbnksIHJlZmVyZW5jZXM6IEFycmF5PFJlZmVyZW5jZVR5cGU+KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gR2V0dGluZyB0aGUgdGVtcGxhdGVzLlxyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IGhpZXJhcmNoeS50ZW1wbGF0ZXM7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZXJlIGFyZSBhbnkgdmFsaWQgdGVtcGxhdGVzLlxyXG4gICAgICAgIGlmICh0ZW1wbGF0ZXMubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgdGVtcGxhdGVzLmZvckVhY2goKHRlbXBsYXRlOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGVtcGxhdGUncyByZWZlcmVuY2luZyB2YWx1ZSBpcyB2YWxpZC5cclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5mcm9tLnJlZi5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZWRFbGVtZW50OiBhbnkgPSByZWZlcmVuY2VzLmZpbHRlcigocmVmOiBSZWZlcmVuY2VUeXBlKSA9PiAoPEhpZXJhcmNoeT5yZWYuaGllcmFyY2h5KS5yZWYgPT09IHRlbXBsYXRlLmZyb20ucmVmKVswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUZW1wbGF0ZTogYm9vbGVhbiA9IGdldFRlbW1lSWQocmVmZXJlbmNlZEVsZW1lbnQuaGllcmFyY2h5KS5sZW5ndGggPT09IDQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZW1wbGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFRlbXBsYXRlUmVmZXJlbmNpbmdFcnJvcih0ZW1wbGF0ZS5yZWYsIHRlbXBsYXRlLmZyb20ucmVmKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGllcmFyY2h5LmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdmFsaWRhdGVUZW1wbGF0ZVJlZmVyZW5jZShjaGlsZCwgcmVmZXJlbmNlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKVxyXG4gICAge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIGEgaGllcmFyY2h5IG9iamVjdCBpcyByZWZlcmVuY2luZyBpdHMgY2hpbGQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgdG8gdmFsaWRhdGUuXHJcbiAqIEBwYXJhbSByZWZlcmVuY2VzIFRoZXJlIHZhbGlkIHJlZmVyZW5jZXMuXHJcbiAqIEBwYXJhbSBkZXB0aCBUaGUgZGVwdGggb2YgdGhlIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlKGhpZXJhcmNoeTogYW55LCByZWZlcmVuY2VzOiBBcnJheTxSZWZlcmVuY2VUeXBlPiwgZGVwdGg6IG51bWJlciA9IDApOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCByZWY6IHN0cmluZyA9IGhpZXJhcmNoeS5mcm9tLnJlZjtcclxuXHJcbiAgICAgICAgLy8gSW5jcmVtZW50aW5nIHRoZSBkZXB0aFxyXG4gICAgICAgIGRlcHRoKys7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSByZWZlcmVuY2UgaXMgdmFsaWQuXHJcbiAgICAgICAgaWYgKHJlZiAhPT0gXCJcIikge1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0dGluZyB0aGUgcmVmZXJlbmNlZCBoaWVyYXJjaHkuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZWRIaWVyYXJjaHk6IFJlZmVyZW5jZVR5cGUgPSByZWZlcmVuY2VzLmZpbHRlcigocmVmT2JqZWN0OiBSZWZlcmVuY2VUeXBlKSA9PiAoPEhpZXJhcmNoeT5yZWZPYmplY3QuaGllcmFyY2h5KS5yZWYgPT09IHJlZiAmJiBkZXB0aCA+PSByZWZPYmplY3QuZGVwdGgpWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZWRIaWVyYXJjaHkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZU91dE9mUmFuZ2VFcnJvcihcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSBjaGlsZHJlbi5cclxuICAgICAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZDogSGllcmFyY2h5KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlKGNoaWxkLCByZWZlcmVuY2VzLCBkZXB0aCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBvYmplY3QgaGFzIGFueSB0ZW1wbGF0ZXMuXHJcbiAgICAgICAgaWYgKCd0ZW1wbGF0ZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkudGVtcGxhdGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS50ZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGU6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhbGlkYXRlUGFyZW50VG9DaGlsZFJlZmVyZW5jZSh0ZW1wbGF0ZSwgcmVmZXJlbmNlcywgZGVwdGgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBjYXRjaChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIHRoZSBzdWItb3B0aW9ucyBvZiBhbm90aGVyIG9wdGlvbi5cclxuICogQHBhcmFtIG9wdGlvbk5hbWUgVGhlIG5hbWUgb2YgdGhlIG9wdGlvbiB0byB2YWxpZGF0ZSB0aGUgc3ViLW9wdGlvbnMgZm9yLiBcclxuICogQHBhcmFtIG9wdGlvblZhbHVlIFRoZSBzdWItb3B0aW9ucyB0byB2YWxpZGF0ZS5cclxuICogQHBhcmFtIHN1Yk9wdGlvbnMgVGhlIGV4cGVjdGVkIHN1Yi1vcHRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVTdWJPcHRpb25zKG9wdGlvbk5hbWU6IHN0cmluZywgb3B0aW9uVmFsdWU6IGFueSwgc3ViT3B0aW9uczogSUtleXMpOiB2b2lkIHtcclxuXHJcbiAgICAvLyBMb29waW5nIHRocm91Z2ggdGhlIGV4cGVjdGVkIHN1Yi1vcHRpb25zLlxyXG4gICAgZm9yIChjb25zdCBzdWJPcHRpb24gaW4gb3B0aW9uVmFsdWUpIHtcclxuXHJcbiAgICAgICAgY29uc3RcclxuICAgICAgICAgICAgbWF0Y2hpbmdTdWJPcHRpb246IE9wdGlvbiA9IGdldFN1Yk9wdGlvbnMob3B0aW9uTmFtZSkuZmlsdGVyKChzdWJPcHRpb25zOiBPcHRpb24pID0+IHN1Yk9wdGlvbnMubGFiZWwgPT09IHN1Yk9wdGlvbilbMF0sXHJcbiAgICAgICAgICAgIHN1Yk9wdGlvblZhbHVlOiBhbnkgPSBvcHRpb25WYWx1ZVtzdWJPcHRpb25dO1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiBhIHN1Yi1vcHRpb24gaXMgaW4gdGhlIHBhcmVudCBvcHRpb24uXHJcbiAgICAgICAgaWYgKHN1Yk9wdGlvbiBpbiBzdWJPcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBWYWxpZGF0aW5nIHRoZSBzdWItb3B0aW9uJ3MgbmFtZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvbk5hbWUobWF0Y2hpbmdTdWJPcHRpb24pID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTdWJPcHRpb25OYW1lRXJyb3Iob3B0aW9uTmFtZSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgc3ViLW9wdGlvbnMncyBkYXRhIHR5cGUuXHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGVWYWxpZGF0aW9uOiB7IHZhbGlkOiBib29sZWFuLCB0eXBlOiBzdHJpbmcgfSA9IE9wdGlvbi52YWxpZGF0ZU9wdGlvblR5cGUoc3ViT3B0aW9uVmFsdWUsIG1hdGNoaW5nU3ViT3B0aW9uKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlVmFsaWRhdGlvbi52YWxpZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3ViT3B0aW9uVHlwZUVycm9yKHN1Yk9wdGlvbiwgdHlwZVZhbGlkYXRpb24udHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRpbmcgdGhlIHN1Yi1vcHRpb24ncyB2YWx1ZS5cclxuICAgICAgICAgICAgaWYgKE9wdGlvbi52YWxpZGF0ZU9wdGlvblZhbHVlKHN1Yk9wdGlvblZhbHVlLCBtYXRjaGluZ1N1Yk9wdGlvbikgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN1Yk9wdGlvblZhbHVlRXJyb3Ioc3ViT3B0aW9uLCBzdWJPcHRpb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICgna2V5cycgaW4gbWF0Y2hpbmdTdWJPcHRpb24pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBvcHRpb24ncyBzdWItb3B0aW9ucy5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvblZhbHVlID0gb3B0aW9uVmFsdWVbc3ViT3B0aW9uXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVN1Yk9wdGlvbnMoc3ViT3B0aW9uLCBzdWJPcHRpb25WYWx1ZSwgKDxJS2V5cz5tYXRjaGluZ1N1Yk9wdGlvbikua2V5cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU3ViT3B0aW9uTmFtZUVycm9yKG9wdGlvbk5hbWUsIHN1Yk9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyB0aGUgcmVmZXJlbmNlcyBpbiBhIGhpZXJhcmNoeSBvYmplY3QuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRvIHZhbGlkYXRlIHRoZSByZWZlcmVuY2VzIGZvci5cclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlUmVmZXJlbmNpbmdPcHRpb24oaGllcmFyY2h5OiBhbnkpOiBib29sZWFuIHtcclxuXHJcbiAgICBpZiAoJ2Zyb20nIGluIGhpZXJhcmNoeSkge1xyXG5cclxuICAgICAgICByZXR1cm4gJ3JlZicgaW4gaGllcmFyY2h5LmZyb207XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFdoYXQncyByZXNwb25zaWJsZSBmb3Igc2FuaXRpemluZyB0aGUgaW5wdXRcclxuICogYW5kIHBvcHVsYXRpbmcgdGhlIGRlZmF1bHRzLlxyXG4gKi9cclxuXHJcblxyXG5pbXBvcnQgT3B0aW9uLCB7IElLZXlzIH0gZnJvbSBcIi4vbW9kZWxzL09wdGlvblwiO1xyXG5pbXBvcnQgeyBvcHRpb25zLCBmb3JiaWRkZW5PcHRpb25zIH0gZnJvbSBcIi4vb3B0aW9uc1wiO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgYSBoaWVyYXJjaHkgb2JqZWN0IGludG8gYW4gYXByb3ByaWF0ZSBvbmUuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRvIHNhbml0aXplLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplKGhpZXJhcmNoeTogYW55KTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgLy8gTG9vcGluZyB0aHJvdWdoIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cclxuICAgICAgICBvcHRpb25zLmZvckVhY2goKG9wdDogT3B0aW9uKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAoIShvcHQubGFiZWwgaW4gaGllcmFyY2h5KSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBvcHVsYXRpbmcgYSBkZWZhdWx0LlxyXG4gICAgICAgICAgICAgICAgaGllcmFyY2h5W29wdC5sYWJlbF0gPSBvcHQuZGVmYXVsdDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTYW5pdGl6aW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKCdrZXlzJyBpbiBvcHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHQpLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk9wdGlvbjogT3B0aW9uID0gKDxJS2V5cz5vcHQpLmtleXNba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbml0aXppbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbml0aXplT3B0aW9uKGhpZXJhcmNoeVsoPE9wdGlvbj5vcHQpLmxhYmVsXSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgaGFzIGNoaWxkcmVuLlxyXG4gICAgICAgIGlmICgnY2hpbGROb2RlcycgaW4gaGllcmFyY2h5ICYmIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZShjaGlsZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGhpZXJhcmNoeSBoYXMgdGVtcGxhdGVzLlxyXG4gICAgICAgIGlmICgndGVtcGxhdGVzJyBpbiBoaWVyYXJjaHkgJiYgaGllcmFyY2h5LnRlbXBsYXRlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICBoaWVyYXJjaHkudGVtcGxhdGVzLmZvckVhY2goKHRlbXBsYXRlOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZVRlbXBsYXRlKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgYW4gb3B0aW9uLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byBzYW5pdGl6ZSB0aGUgb3B0aW9uIGZvci5cclxuICogQHBhcmFtIG9wdGlvbiBUaGUgb3B0aW9uIHRvIHNhbml0aXplLlxyXG4gKi9cclxuZnVuY3Rpb24gc2FuaXRpemVPcHRpb24oaGllcmFyY2h5OiBhbnksIG9wdGlvbjogT3B0aW9uKTogdm9pZCB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgaWYgKCEob3B0aW9uLmxhYmVsIGluIGhpZXJhcmNoeSkpIHtcclxuXHJcbiAgICAgICAgICAgIGhpZXJhcmNoeVtvcHRpb24ubGFiZWxdID0gb3B0aW9uLmRlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJ2tleXMnIGluIG9wdGlvbikge1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHRpb24pLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YkhpZXJhcmNoeTogYW55ID0gaGllcmFyY2h5Wyg8T3B0aW9uPm9wdGlvbikubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Yk9wdGlvbiA9ICg8SUtleXM+b3B0aW9uKS5rZXlzW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgc2FuaXRpemVPcHRpb24oc3ViSGllcmFyY2h5LCBzdWJPcHRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTYW5pdGl6ZXMgdGVtcGxhdGVzLlxyXG4gKiBcclxuICogQHBhcmFtIHRlbXBsYXRlIFRoZSB0ZW1wbGF0ZSB0byBzYW5pdGl6ZS5cclxuICovXHJcbmZ1bmN0aW9uIHNhbml0aXplVGVtcGxhdGUodGVtcGxhdGU6IGFueSk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIC8vIExvb3BpbmcgdGhyb3VnaCB0aGUgYWxsb3dlZCBvcHRpb25zIGluIHRlbXBsYXRlcy5cclxuICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKG9wdDogT3B0aW9uKSA9PiBmb3JiaWRkZW5PcHRpb25zLmluZGV4T2Yob3B0LmxhYmVsKSA9PT0gLTEpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChvcHQ6IE9wdGlvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNraW5nIG9mIHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IGhhdmUgYSBzYWlkIG9wdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmICghKG9wdC5sYWJlbCBpbiB0ZW1wbGF0ZSkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUG9wdWxhdGluZyBhIGRlZmF1bHQuXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVbb3B0LmxhYmVsXSA9IG9wdC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FuaXRpemluZyB0aGUgc3ViLW9wdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJ2tleXMnIGluIG9wdCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gKDxJS2V5cz5vcHQpLmtleXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXR0aW5nIHRoZSBzdWItb3B0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViT3B0aW9uOiBPcHRpb24gPSAoPElLZXlzPm9wdCkua2V5c1trZXldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbml0aXppbmcgdGhlIHN1Yi1vcHRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW5pdGl6ZU9wdGlvbih0ZW1wbGF0ZVsoPE9wdGlvbj5vcHQpLmxhYmVsXSwgc3ViT3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBXaGF0IHByb2Nlc3NlcyBhbGwgb2YgdGhlIHJlZmVyZW5jZXMuXHJcbiAqL1xyXG5cclxuXHJcbmltcG9ydCB7IEhpZXJhcmNoeSB9IGZyb20gXCIuL21vZGVscy9IaWVyYXJjaHlcIjtcclxuaW1wb3J0IHsgVGVtcGxhdGUgfSBmcm9tIFwiLi9tb2RlbHMvVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGVSZWZlcmVuY2VzLCB2YWxpZGF0ZVRlbXBsYXRlUmVmZXJlbmNlLCB2YWxpZGF0ZVBhcmVudFRvQ2hpbGRSZWZlcmVuY2UgfSBmcm9tIFwiLi92YWxpZGF0b3JcIjtcclxuXHJcblxyXG4vKipcclxuICogVGhlIHJlZmVyZW5jZSB0eXBlLlxyXG4gKi9cclxuZXhwb3J0IHR5cGUgUmVmZXJlbmNlVHlwZSA9IHsgZGVwdGg6IG51bWJlciwgaGllcmFyY2h5OiBhbnkgfTtcclxuXHJcblxyXG4vKipcclxuICogVGFrZXMgY2FyZSBvZiBhbGwgdGhlIGluaGVyaXRhbmNlIGFuZCByZWZlcmVuY2VzIHN0dWZmLlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IHRvIHByb2Nlc3MgdGhlIHJlZmVyZW5jZXMgZm9yLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3MoaGllcmFyY2h5OiBhbnkpOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZXM6IEFycmF5PFJlZmVyZW5jZVR5cGU+ID0gZ2V0UmVmZXJlbmNlcyhoaWVyYXJjaHkpO1xyXG5cclxuICAgICAgICAvLyBWYWxpZGF0aW5nIGFsbCBvZiB0aGUgcmVmZXJlY2VzLlxyXG4gICAgICAgIHZhbGlkYXRlUmVmZXJlbmNlcyhoaWVyYXJjaHksIHJlZmVyZW5jZXMpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRlbXBsYXRlcyBhcmUgaW5oZXJpdGluZyBoaWVyYXJjaHkgb2JqZWN0cy5cclxuICAgICAgICB2YWxpZGF0ZVRlbXBsYXRlUmVmZXJlbmNlKGhpZXJhcmNoeSwgcmVmZXJlbmNlcyk7XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIGEgcGFyZW50IGlzIHRyeWluZyB0byByZWZlcmVuY2UgdGhlaXIgY2hpbGRlcm4uXHJcbiAgICAgICAgdmFsaWRhdGVQYXJlbnRUb0NoaWxkUmVmZXJlbmNlKGhpZXJhcmNoeSwgcmVmZXJlbmNlcyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaChlKSB7XHJcblxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogR2V0dGluZyBhbGwgdGhlIHJlZmVyZW5jZXMgaW4gYSBzYWlkIGhpZXJhcmNoeS5cclxuICogXHJcbiAqIEBwYXJhbSBoaWVyYXJjaHkgVGhlIGhpZXJhcmNoeSBvYmplY3QgdG8gZ2V0IHRoZSByZWZlcmVuY2VzIGZyb20uXHJcbiAqIEBwYXJhbSBkZXB0aCBUaGUgY3VycmVudCBkZXB0aCBpbiB0aGUgc2FpZCBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlcyhoaWVyYXJjaHk6IGFueSwgZGVwdGg6IG51bWJlciA9IDApOiBBcnJheTxSZWZlcmVuY2VUeXBlPiB7XHJcblxyXG4gICAgY29uc3QgcmVmZXJlbmNlczogQXJyYXk8UmVmZXJlbmNlVHlwZT4gPSBbXTtcclxuXHJcbiAgICAvLyBJbmNyZW1lbnRpbmcgdGhlIGRlcHRoLlxyXG4gICAgZGVwdGgrKztcclxuXHJcbiAgICAvLyBDaGVja2luZyBpZiB0aGUgcmVmZXJlbmNlIGlzIHZhbGlkLlxyXG4gICAgaWYgKGhpZXJhcmNoeS5yZWYgIT09IFwiXCIpIHtcclxuXHJcbiAgICAgICAgcmVmZXJlbmNlcy5wdXNoKHtcclxuICAgICAgICAgICAgZGVwdGg6IGRlcHRoLFxyXG4gICAgICAgICAgICBoaWVyYXJjaHk6IGhpZXJhcmNoeVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGhhcyBhbnkgY2hpbGRyZW4uXHJcbiAgICBpZiAoJ2NoaWxkTm9kZXMnIGluIGhpZXJhcmNoeSAmJiBoaWVyYXJjaHkuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgIGhpZXJhcmNoeS5jaGlsZE5vZGVzLmZvckVhY2goKGNoaWxkOiBIaWVyYXJjaHkpID0+ICB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZWZlcmVuY2VzLnB1c2goLi4uZ2V0UmVmZXJlbmNlcyhjaGlsZCwgZGVwdGgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBoYXMgYW55IHRlbXBsYXRlcy5cclxuICAgIGlmICgndGVtcGxhdGVzJyBpbiBoaWVyYXJjaHkgJiYgaGllcmFyY2h5LnRlbXBsYXRlcy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgIGhpZXJhcmNoeS50ZW1wbGF0ZXMuZm9yRWFjaCgodGVtcGxhdGU6IFRlbXBsYXRlKSA9PiAge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU3Vic3RyYWN0aW5nIDEgdG8gbWFrZSB0ZW1wbGF0ZXMgb24gdGhlIHNhbWUgZGVwdGggbGV2ZWxcclxuICAgICAgICAgICAgLy8gYXMgdGhlaXIgaGllcmFyY2h5IHBhcmVudC5cclxuICAgICAgICAgICAgcmVmZXJlbmNlcy5wdXNoKC4uLmdldFJlZmVyZW5jZXModGVtcGxhdGUsIGRlcHRoIC0gMSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybmluZyBhbGwgZm91bmQgcmVmZXJlbmNlcy5cclxuICAgIHJldHVybiByZWZlcmVuY2VzO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSBoaWVyYXJjaHkgb2JqZWN0XHJcbiAqIGlzIG5vdCB2YWxpZC5cclxuICovXHJcblxyXG5cclxuaW1wb3J0IFRlbW15RXJyb3IgZnJvbSBcIi4uL21vZGVscy9UZW1teUVycm9yXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZEhpZXJhcmNoeUVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRIaWVyYXJjaHlFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJUaGUgaGllcmFyY2h5IG9iamVjdCBpcyBub3QgdmFsaWRcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdG9yIHdpdGggcGFyYW1ldGVycy5cclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcclxuXHJcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgcGFyZW50IGNsYXNzIGBUZW1teUVycm9yYC5cclxuICAgICAgICBzdXBlcihcIlwiKTtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRpbmcgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlLmxlbmd0aCA+IDAgPyBtZXNzYWdlIDogdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBUaGUgZXJyb3IgdGhyb3duIHdoZW4gYSB0YXJnZXQgaXMgbm90IGEgdmFsaWRcclxuICogSFRNTCBlbGVtZW50LlxyXG4gKi9cclxuXHJcbmltcG9ydCBUZW1teUVycm9yIGZyb20gXCIuLi9tb2RlbHMvVGVtbXlFcnJvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW52YWxpZFRhcmdldEVycm9yIGV4dGVuZHMgVGVtbXlFcnJvciB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcgPSBcIkludmFsaWRUYXJnZXRFcnJvclwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG1lc3NhZ2Ugb2YgdGhlIGVycm9yLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nID0gXCJUaGUgdGFyZ2V0IGlzIG5vdCBhIHZhbGlkIEhUTUwgZWxlbWVudFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSBvZiB0aGUgZXJyb3IuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZykge1xyXG5cclxuICAgICAgICAvLyBDYWxsaW5nIHRoZSBwYXJlbnQgY2xhc3MgYFRlbW15RXJyb3JgLlxyXG4gICAgICAgIHN1cGVyKFwiXCIpO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGluZyB0aGUgZXJyb3IncyBtZXNzYWdlLlxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UubGVuZ3RoID4gMCA/IG1lc3NhZ2UgOiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFxyXG4gKiBAbmFtZTogICAgICAgdGVtbWVqc1xyXG4gKiBAdmVyc2lvbjogICAgMS4wLjBcclxuICogQGF1dGhvcjogICAgIEVPdXNzYW1hXHJcbiAqIEBsaWNlbnNlICAgICBNSVRcclxuICogQHNvdXJjZTogICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9FT3Vzc2FtYS90ZW1tZWpzXHJcbiAqIFxyXG4gKiBUZW1tZSAob3IgRW1tZXQgaW4gcmV2ZXJzZSkgaXMgdG8gamF2YXNjcmlwdCB3aGF0IEVtbWV0IGlzIHRvIEhUTUwgYW5kIENTUyxcclxuICogd2l0aCBubyBkb3VidHMsIEVtbWV0IHNhdmVkIHVzIGZyb20gdGhlIGhlYWRhY2hlIG9mIHdvcmtpbmcgd2l0aCBIVE1MIGFuZCBDU1MsIFxyXG4gKiBhbmQgbm93LCBUZW1tZSBpcyBkb2luZyBKYXZhc2NyaXB0IHRoZSBzYW1lIGZhdm91ciB0b28uXHJcbiAqIFxyXG4gKi9cclxuXHJcbiBcclxuaW1wb3J0ICogYXMgVmFsaWRhdG9yIGZyb20gXCIuL21vZHVsZXMvdmFsaWRhdG9yXCI7XHJcbmltcG9ydCAqIGFzIFNhbml0aXplciBmcm9tIFwiLi9tb2R1bGVzL3Nhbml0aXplclwiO1xyXG5pbXBvcnQgKiBhcyBSZWZlcmVuY2VyIGZyb20gXCIuL21vZHVsZXMvcmVmZXJlbmNlclwiO1xyXG5pbXBvcnQgKiBhcyBQYXJzZXIgZnJvbSAnLi9tb2R1bGVzL3BhcnNlcic7XHJcbmltcG9ydCAqIGFzIElkZmllciBmcm9tIFwiLi9tb2R1bGVzL2lkZmllclwiO1xyXG5pbXBvcnQgVGVtbXlFcnJvciBmcm9tIFwiLi9tb2R1bGVzL21vZGVscy9UZW1teUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkSGllcmFyY2h5RXJyb3IgZnJvbSBcIi4vbW9kdWxlcy9lcnJvcnMvSW52YWxpZEhpZXJhcmNoeUVycm9yXCI7XHJcbmltcG9ydCBJbnZhbGlkVGFyZ2V0RXJyb3IgZnJvbSBcIi4vbW9kdWxlcy9lcnJvcnMvSW52YWxpZFRhcmdldEVycm9yXCI7XHJcblxyXG5cclxuLyoqXHJcbiAqIFRoZSBlbnRyeSBwb2ludCBvZiBUZW1tZSwgaXQncyB3aGF0IGluaXRpYXRlcyBldmVyeXRoaW5nXHJcbiAqIGZyb20gc2FuaXRpemluZywgdG8gcGFyc2luZywgbGlrZSBhIGJvc3MuXHJcbiAqIFxyXG4gKiBAcGFyYW0gaGllcmFyY2h5IFRoZSBoaWVyYXJjaHkgb2JqZWN0IHRoYXQgbWFwcyB0aGUgSFRNTCBza2VsZXRvbi5cclxuICogQHBhcmFtIHRhcmdldCBUaGUgSFRNTCBlbGVtZW50IHRoYXQgd2lsbCBob3N0IHRoZSBwYXJzZWQgc2tlbGV0b24uXHJcbiAqIEBwYXJhbSBlbmRDYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBleGVjdXRlIHdoZW4gdGhlIHNrZWxldG9uIGhhcyBiZWVuIHBhcnNlZC5cclxuICogQHBhcmFtIG5vZGVDYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBleGVjdXRlcyB3aGVuZXZlciBhbiBlbGVtZW50IGhhcyBiZWVuIHBhcnNlZC5cclxuICogXHJcbiAqIEB0aHJvd3MgSW52YWxpZFRhcmdldEVycm9yLCBJbnZhbGlkSGllcmFyY2h5RXJyb3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShoaWVyYXJjaHk6IE9iamVjdCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgZW5kQ2FsbGJhY2s6IChyZXN1bHRlZEhpZXJhcmNoeTogYW55KSA9PiB2b2lkID0gKGhpZXJhcmNoeSkgPT4ge30sIG5vZGVDYWxsYmFjazogKHRlbW1lSWQ6IHN0cmluZywgY3VycmVudEhpZXJhcmNoeTogYW55LCBkZXB0aDogbnVtYmVyKSA9PiB2b2lkKTogT2JqZWN0IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgdGFyZ2V0IGlzIGEgdmFsaWQgSFRNTCBlbGVtZW50IGFuZCB0aHJvd2luZ1xyXG4gICAgICAgIC8vIGFuIGVycm9yIGlmIGl0J3Mgbm90LlxyXG4gICAgICAgIGlmICghVmFsaWRhdG9yLmlzVmFsaWRIVE1MRWxlbWVudCh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkVGFyZ2V0RXJyb3IoXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgaGllcmFyY2h5IG9iamVjdCBpcyBhbmQgdGhyb3dpbmdcclxuICAgICAgICAvLyBhbiBlcnJvciBpZiBpdCdzIG5vdC5cclxuICAgICAgICBpZiAoIVZhbGlkYXRvci5pc1ZhbGlkSGllcmFyY2h5KGhpZXJhcmNoeSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRIaWVyYXJjaHlFcnJvcihcIlwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNraW5nIGlmIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGNvbnRhaW5zXHJcbiAgICAgICAgLy8gdmFsaWQgb3B0aW9ucy5cclxuICAgICAgICBWYWxpZGF0b3IudmFsaWRhdGVPcHRpb25zKGhpZXJhcmNoeSk7XHJcblxyXG4gICAgICAgIC8vIFNhbml0aXppbmcgdGhlIGhpZXJhcmNoeS5cclxuICAgICAgICBTYW5pdGl6ZXIuc2FuaXRpemUoaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgLy8gQXNzaWduaW5nIHRlbW1lSWRzIHRvIHRoZSBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gICAgICAgIElkZmllci5pZGZ5KGhpZXJhcmNoeSk7XHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3NpbmcgYWxsIG9mIHRoZSByZWZlcmVuY2VzLlxyXG4gICAgICAgIFJlZmVyZW5jZXIucHJvY2VzcyhoaWVyYXJjaHkpO1xyXG5cclxuICAgICAgICAvLyBQYXJzaW5nIHRoZSBoaWVyYXJjaHkgaW50byBhbiBIVE1MIHRyZWUuXHJcbiAgICAgICAgUGFyc2VyLnBhcnNlKGhpZXJhcmNoeSwgbm9kZUNhbGxiYWNrKTtcclxuXHJcbiAgICAgICAgLy8gRXhlY3V0aW5nIHRoZSBlbmQgY2FsbGJhY2suXHJcbiAgICAgICAgZW5kQ2FsbGJhY2soaGllcmFyY2h5KTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuaW5nIHRoZSByZXN1bHRlZCBoaWVyYXJjaHkgb2JqZWN0LlxyXG4gICAgICAgIHJldHVybiBoaWVyYXJjaHk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG5cclxuICAgICAgICAvLyBBcHBlbmRpbmcgYSB0YWcgaW4gZnJvbnQgb2YgdGhlIGVycm9yJ3MgbWVzc2FnZS5cclxuICAgICAgICAoPFRlbW15RXJyb3I+ZSkubWVzc2FnZSA9IGBbVGVtbWVdOiAke2UubWVzc2FnZX0uYDtcclxuXHJcbiAgICAgICAgLy8gVGhyb3dpbmcgdGhlIGVycm9yLlxyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFdoYXQgcGFyc2VzIHRoZSBoaWVyYXJjaHkgdG8gYW4gSFRNTCB0cmVlLlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogUGFyc2VzIHRoZSBoaWVyYXJjaHkgb2JqZWN0IGludG8gYW4gSFRNTCBlbGVtZW50LlxyXG4gKiBcclxuICogQHBhcmFtIGhpZXJhcmNoeSBUaGUgaGllcmFyY2h5IG9iamVjdCB0byBwYXJzZS5cclxuICogQHBhcmFtIG5vZGVDYWxsYmFjayBUaGUgY2FsbGJhY2sgdGhhdCBleGVjdXRlcyB3aGVuZXZlciBhbiBIVE1MIGVsZW1lbnQgaGFzIGJlZW4gY3JlYXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShoaWVyYXJjaHk6IGFueSwgbm9kZUNhbGxiYWNrOiAodGVtbWVJZDogc3RyaW5nLCBjdXJyZW50SGllcmFyY2h5OiBhbnksIGRlcHRoOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygncGFyc2luZy4uLicpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2goZSkge1xyXG5cclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=